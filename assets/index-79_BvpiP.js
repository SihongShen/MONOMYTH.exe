(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();var ud={exports:{}},oa={};var g1;function eE(){if(g1)return oa;g1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(l,a,u){var d=null;if(u!==void 0&&(d=""+u),a.key!==void 0&&(d=""+a.key),"key"in a){u={};for(var m in a)m!=="key"&&(u[m]=a[m])}else u=a;return a=u.ref,{$$typeof:e,type:l,key:d,ref:a!==void 0?a:null,props:u}}return oa.Fragment=t,oa.jsx=o,oa.jsxs=o,oa}var y1;function tE(){return y1||(y1=1,ud.exports=eE()),ud.exports}var O=tE(),cd={exports:{}},pe={};var v1;function nE(){if(v1)return pe;v1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Y={};function B(R,H,K){this.props=R,this.context=H,this.refs=Y,this.updater=K||b}B.prototype.isReactComponent={},B.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},B.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function z(){}z.prototype=B.prototype;function V(R,H,K){this.props=R,this.context=H,this.refs=Y,this.updater=K||b}var Q=V.prototype=new z;Q.constructor=V,k(Q,B.prototype),Q.isPureReactComponent=!0;var J=Array.isArray;function $(){}var q={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function Z(R,H,K){var ee=K.ref;return{$$typeof:e,type:R,key:H,ref:ee!==void 0?ee:null,props:K}}function fe(R,H){return Z(R.type,H,R.props)}function he(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function de(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(K){return H[K]})}var at=/\/+/g;function xt(R,H){return typeof R=="object"&&R!==null&&R.key!=null?de(""+R.key):H.toString(36)}function Ut(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then($,$):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function x(R,H,K,ee,me){var ve=typeof R;(ve==="undefined"||ve==="boolean")&&(R=null);var be=!1;if(R===null)be=!0;else switch(ve){case"bigint":case"string":case"number":be=!0;break;case"object":switch(R.$$typeof){case e:case t:be=!0;break;case v:return be=R._init,x(be(R._payload),H,K,ee,me)}}if(be)return me=me(R),be=ee===""?"."+xt(R,0):ee,J(me)?(K="",be!=null&&(K=be.replace(at,"$&/")+"/"),x(me,H,K,"",function(fs){return fs})):me!=null&&(he(me)&&(me=fe(me,K+(me.key==null||R&&R.key===me.key?"":(""+me.key).replace(at,"$&/")+"/")+be)),H.push(me)),1;be=0;var Pt=ee===""?".":ee+":";if(J(R))for(var rt=0;rt<R.length;rt++)ee=R[rt],ve=Pt+xt(ee,rt),be+=x(ee,H,K,ve,me);else if(rt=C(R),typeof rt=="function")for(R=rt.call(R),rt=0;!(ee=R.next()).done;)ee=ee.value,ve=Pt+xt(ee,rt++),be+=x(ee,H,K,ve,me);else if(ve==="object"){if(typeof R.then=="function")return x(Ut(R),H,K,ee,me);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return be}function F(R,H,K){if(R==null)return R;var ee=[],me=0;return x(R,ee,"","",function(ve){return H.call(K,ve,me++)}),ee}function ue(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(K){(R._status===0||R._status===-1)&&(R._status=1,R._result=K)},function(K){(R._status===0||R._status===-1)&&(R._status=2,R._result=K)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var ke=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Oe={map:F,forEach:function(R,H,K){F(R,function(){H.apply(this,arguments)},K)},count:function(R){var H=0;return F(R,function(){H++}),H},toArray:function(R){return F(R,function(H){return H})||[]},only:function(R){if(!he(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return pe.Activity=_,pe.Children=Oe,pe.Component=B,pe.Fragment=o,pe.Profiler=a,pe.PureComponent=V,pe.StrictMode=l,pe.Suspense=y,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,pe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return q.H.useMemoCache(R)}},pe.cache=function(R){return function(){return R.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(R,H,K){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ee=k({},R.props),me=R.key;if(H!=null)for(ve in H.key!==void 0&&(me=""+H.key),H)!ce.call(H,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&H.ref===void 0||(ee[ve]=H[ve]);var ve=arguments.length-2;if(ve===1)ee.children=K;else if(1<ve){for(var be=Array(ve),Pt=0;Pt<ve;Pt++)be[Pt]=arguments[Pt+2];ee.children=be}return Z(R.type,me,ee)},pe.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},pe.createElement=function(R,H,K){var ee,me={},ve=null;if(H!=null)for(ee in H.key!==void 0&&(ve=""+H.key),H)ce.call(H,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(me[ee]=H[ee]);var be=arguments.length-2;if(be===1)me.children=K;else if(1<be){for(var Pt=Array(be),rt=0;rt<be;rt++)Pt[rt]=arguments[rt+2];me.children=Pt}if(R&&R.defaultProps)for(ee in be=R.defaultProps,be)me[ee]===void 0&&(me[ee]=be[ee]);return Z(R,ve,me)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(R){return{$$typeof:m,render:R}},pe.isValidElement=he,pe.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:ue}},pe.memo=function(R,H){return{$$typeof:g,type:R,compare:H===void 0?null:H}},pe.startTransition=function(R){var H=q.T,K={};q.T=K;try{var ee=R(),me=q.S;me!==null&&me(K,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then($,ke)}catch(ve){ke(ve)}finally{H!==null&&K.types!==null&&(H.types=K.types),q.T=H}},pe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},pe.use=function(R){return q.H.use(R)},pe.useActionState=function(R,H,K){return q.H.useActionState(R,H,K)},pe.useCallback=function(R,H){return q.H.useCallback(R,H)},pe.useContext=function(R){return q.H.useContext(R)},pe.useDebugValue=function(){},pe.useDeferredValue=function(R,H){return q.H.useDeferredValue(R,H)},pe.useEffect=function(R,H){return q.H.useEffect(R,H)},pe.useEffectEvent=function(R){return q.H.useEffectEvent(R)},pe.useId=function(){return q.H.useId()},pe.useImperativeHandle=function(R,H,K){return q.H.useImperativeHandle(R,H,K)},pe.useInsertionEffect=function(R,H){return q.H.useInsertionEffect(R,H)},pe.useLayoutEffect=function(R,H){return q.H.useLayoutEffect(R,H)},pe.useMemo=function(R,H){return q.H.useMemo(R,H)},pe.useOptimistic=function(R,H){return q.H.useOptimistic(R,H)},pe.useReducer=function(R,H,K){return q.H.useReducer(R,H,K)},pe.useRef=function(R){return q.H.useRef(R)},pe.useState=function(R){return q.H.useState(R)},pe.useSyncExternalStore=function(R,H,K){return q.H.useSyncExternalStore(R,H,K)},pe.useTransition=function(){return q.H.useTransition()},pe.version="19.2.0",pe}var T1;function lh(){return T1||(T1=1,cd.exports=nE()),cd.exports}var Ee=lh(),fd={exports:{}},la={},dd={exports:{}},hd={};var _1;function iE(){return _1||(_1=1,(function(e){function t(x,F){var ue=x.length;x.push(F);e:for(;0<ue;){var ke=ue-1>>>1,Oe=x[ke];if(0<a(Oe,F))x[ke]=F,x[ue]=Oe,ue=ke;else break e}}function o(x){return x.length===0?null:x[0]}function l(x){if(x.length===0)return null;var F=x[0],ue=x.pop();if(ue!==F){x[0]=ue;e:for(var ke=0,Oe=x.length,R=Oe>>>1;ke<R;){var H=2*(ke+1)-1,K=x[H],ee=H+1,me=x[ee];if(0>a(K,ue))ee<Oe&&0>a(me,K)?(x[ke]=me,x[ee]=ue,ke=ee):(x[ke]=K,x[H]=ue,ke=H);else if(ee<Oe&&0>a(me,ue))x[ke]=me,x[ee]=ue,ke=ee;else break e}}return F}function a(x,F){var ue=x.sortIndex-F.sortIndex;return ue!==0?ue:x.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var y=[],g=[],v=1,_=null,E=3,C=!1,b=!1,k=!1,Y=!1,B=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function Q(x){for(var F=o(g);F!==null;){if(F.callback===null)l(g);else if(F.startTime<=x)l(g),F.sortIndex=F.expirationTime,t(y,F);else break;F=o(g)}}function J(x){if(k=!1,Q(x),!b)if(o(y)!==null)b=!0,$||($=!0,de());else{var F=o(g);F!==null&&Ut(J,F.startTime-x)}}var $=!1,q=-1,ce=5,Z=-1;function fe(){return Y?!0:!(e.unstable_now()-Z<ce)}function he(){if(Y=!1,$){var x=e.unstable_now();Z=x;var F=!0;try{e:{b=!1,k&&(k=!1,z(q),q=-1),C=!0;var ue=E;try{t:{for(Q(x),_=o(y);_!==null&&!(_.expirationTime>x&&fe());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,E=_.priorityLevel;var Oe=ke(_.expirationTime<=x);if(x=e.unstable_now(),typeof Oe=="function"){_.callback=Oe,Q(x),F=!0;break t}_===o(y)&&l(y),Q(x)}else l(y);_=o(y)}if(_!==null)F=!0;else{var R=o(g);R!==null&&Ut(J,R.startTime-x),F=!1}}break e}finally{_=null,E=ue,C=!1}F=void 0}}finally{F?de():$=!1}}}var de;if(typeof V=="function")de=function(){V(he)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,xt=at.port2;at.port1.onmessage=he,de=function(){xt.postMessage(null)}}else de=function(){B(he,0)};function Ut(x,F){q=B(function(){x(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(x){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var ue=E;E=F;try{return x()}finally{E=ue}},e.unstable_requestPaint=function(){Y=!0},e.unstable_runWithPriority=function(x,F){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var ue=E;E=x;try{return F()}finally{E=ue}},e.unstable_scheduleCallback=function(x,F,ue){var ke=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ke+ue:ke):ue=ke,x){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ue+Oe,x={id:v++,callback:F,priorityLevel:x,startTime:ue,expirationTime:Oe,sortIndex:-1},ue>ke?(x.sortIndex=ue,t(g,x),o(y)===null&&x===o(g)&&(k?(z(q),q=-1):k=!0,Ut(J,ue-ke))):(x.sortIndex=Oe,t(y,x),b||C||(b=!0,$||($=!0,de()))),x},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(x){var F=E;return function(){var ue=E;E=F;try{return x.apply(this,arguments)}finally{E=ue}}}})(hd)),hd}var E1;function oE(){return E1||(E1=1,dd.exports=iE()),dd.exports}var pd={exports:{}},bt={};var S1;function lE(){if(S1)return bt;S1=1;var e=lh();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:y,containerInfo:g,implementation:v}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,bt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,v)},bt.flushSync=function(y){var g=d.T,v=l.p;try{if(d.T=null,l.p=2,y)return y()}finally{d.T=g,l.p=v,l.d.f()}},bt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(y,g))},bt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},bt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,_=m(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?l.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:C}):v==="script"&&l.d.X(y,{crossOrigin:_,integrity:E,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(y)},bt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=m(v,g.crossOrigin);l.d.L(y,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=m(g.as,g.crossOrigin);l.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(y)},bt.requestFormReset=function(y){l.d.r(y)},bt.unstable_batchedUpdates=function(y,g){return y(g)},bt.useFormState=function(y,g,v){return d.H.useFormState(y,g,v)},bt.useFormStatus=function(){return d.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var A1;function sE(){if(A1)return pd.exports;A1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pd.exports=lE(),pd.exports}var C1;function aE(){if(C1)return la;C1=1;var e=oE(),t=lh(),o=sE();function l(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function y(n){if(u(n)!==n)throw Error(l(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(l(188));return i!==n?null:n}for(var s=n,r=i;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(r=h.return,r!==null){s=r;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return y(h),n;if(p===r)return y(h),i;p=p.sibling}throw Error(l(188))}if(s.return!==r.return)s=h,r=p;else{for(var T=!1,S=h.child;S;){if(S===s){T=!0,s=h,r=p;break}if(S===r){T=!0,r=h,s=p;break}S=S.sibling}if(!T){for(S=p.child;S;){if(S===s){T=!0,s=p,r=h;break}if(S===r){T=!0,r=p,s=h;break}S=S.sibling}if(!T)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?n:i}function v(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=v(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),V=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=he&&n[he]||n["@@iterator"],typeof n=="function"?n:null)}var at=Symbol.for("react.client.reference");function xt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===at?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case B:return"Profiler";case Y:return"StrictMode";case J:return"Suspense";case $:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case V:return n.displayName||"Context";case z:return(n._context.displayName||"Context")+".Consumer";case Q:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return i=n.displayName||null,i!==null?i:xt(n.type)||"Memo";case ce:i=n._payload,n=n._init;try{return xt(n(i))}catch{}}return null}var Ut=Array.isArray,x=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ke=[],Oe=-1;function R(n){return{current:n}}function H(n){0>Oe||(n.current=ke[Oe],ke[Oe]=null,Oe--)}function K(n,i){Oe++,ke[Oe]=n.current,n.current=i}var ee=R(null),me=R(null),ve=R(null),be=R(null);function Pt(n,i){switch(K(ve,i),K(me,n),K(ee,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?V0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=V0(i),n=q0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}H(ee),K(ee,n)}function rt(){H(ee),H(me),H(ve)}function fs(n){n.memoizedState!==null&&K(be,n);var i=ee.current,s=q0(i,n.type);i!==s&&(K(me,n),K(ee,s))}function Ca(n){me.current===n&&(H(ee),H(me)),be.current===n&&(H(be),ea._currentValue=ue)}var Fu,mp;function To(n){if(Fu===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Fu=i&&i[1]||"",mp=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fu+n+mp}var Yu=!1;function Ju(n,i){if(!n||Yu)return"";Yu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(U){var w=U}Reflect.construct(n,[],P)}else{try{P.call()}catch(U){w=U}n.call(P.prototype)}}else{try{throw Error()}catch(U){w=U}(P=n())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(U){if(U&&w&&typeof U.stack=="string")return[U.stack,w.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),T=p[0],S=p[1];if(T&&S){var A=T.split(`
`),D=S.split(`
`);for(h=r=0;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;for(;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;if(r===A.length||h===D.length)for(r=A.length-1,h=D.length-1;1<=r&&0<=h&&A[r]!==D[h];)h--;for(;1<=r&&0<=h;r--,h--)if(A[r]!==D[h]){if(r!==1||h!==1)do if(r--,h--,0>h||A[r]!==D[h]){var L=`
`+A[r].replace(" at new "," at ");return n.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",n.displayName)),L}while(1<=r&&0<=h);break}}}finally{Yu=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?To(s):""}function xT(n,i){switch(n.tag){case 26:case 27:case 5:return To(n.type);case 16:return To("Lazy");case 13:return n.child!==i&&i!==null?To("Suspense Fallback"):To("Suspense");case 19:return To("SuspenseList");case 0:case 15:return Ju(n.type,!1);case 11:return Ju(n.type.render,!1);case 1:return Ju(n.type,!0);case 31:return To("Activity");default:return""}}function gp(n){try{var i="",s=null;do i+=xT(n,s),s=n,n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Ku=Object.prototype.hasOwnProperty,Xu=e.unstable_scheduleCallback,Qu=e.unstable_cancelCallback,UT=e.unstable_shouldYield,bT=e.unstable_requestPaint,jt=e.unstable_now,LT=e.unstable_getCurrentPriorityLevel,yp=e.unstable_ImmediatePriority,vp=e.unstable_UserBlockingPriority,Ma=e.unstable_NormalPriority,GT=e.unstable_LowPriority,Tp=e.unstable_IdlePriority,PT=e.log,HT=e.unstable_setDisableYieldValue,ds=null,en=null;function bi(n){if(typeof PT=="function"&&HT(n),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ds,n)}catch{}}var tn=Math.clz32?Math.clz32:qT,kT=Math.log,VT=Math.LN2;function qT(n){return n>>>=0,n===0?32:31-(kT(n)/VT|0)|0}var Ra=256,Na=262144,Ia=4194304;function _o(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Da(n,i,s){var r=n.pendingLanes;if(r===0)return 0;var h=0,p=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var S=r&134217727;return S!==0?(r=S&~p,r!==0?h=_o(r):(T&=S,T!==0?h=_o(T):s||(s=S&~n,s!==0&&(h=_o(s))))):(S=r&~p,S!==0?h=_o(S):T!==0?h=_o(T):s||(s=r&~n,s!==0&&(h=_o(s)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:h}function hs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function BT(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _p(){var n=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),n}function Zu(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function ps(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function OT(n,i,s,r,h,p){var T=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var S=n.entanglements,A=n.expirationTimes,D=n.hiddenUpdates;for(s=T&~s;0<s;){var L=31-tn(s),P=1<<L;S[L]=0,A[L]=-1;var w=D[L];if(w!==null)for(D[L]=null,L=0;L<w.length;L++){var U=w[L];U!==null&&(U.lane&=-536870913)}s&=~P}r!==0&&Ep(n,r,0),p!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=p&~(T&~i))}function Ep(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var r=31-tn(i);n.entangledLanes|=i,n.entanglements[r]=n.entanglements[r]|1073741824|s&261930}function Sp(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var r=31-tn(s),h=1<<r;h&i|n[r]&i&&(n[r]|=i),s&=~h}}function Ap(n,i){var s=i&-i;return s=(s&42)!==0?1:Wu(s),(s&(n.suspendedLanes|i))!==0?0:s}function Wu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function $u(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cp(){var n=F.p;return n!==0?n:(n=window.event,n===void 0?32:u1(n.type))}function Mp(n,i){var s=F.p;try{return F.p=n,i()}finally{F.p=s}}var Li=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Li,Bt="__reactProps$"+Li,Xo="__reactContainer$"+Li,ju="__reactEvents$"+Li,zT="__reactListeners$"+Li,FT="__reactHandles$"+Li,Rp="__reactResources$"+Li,ms="__reactMarker$"+Li;function ec(n){delete n[Rt],delete n[Bt],delete n[ju],delete n[zT],delete n[FT]}function Qo(n){var i=n[Rt];if(i)return i;for(var s=n.parentNode;s;){if(i=s[Xo]||s[Rt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=K0(n);n!==null;){if(s=n[Rt])return s;n=K0(n)}return i}n=s,s=n.parentNode}return null}function Zo(n){if(n=n[Rt]||n[Xo]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function gs(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(l(33))}function Wo(n){var i=n[Rp];return i||(i=n[Rp]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(n){n[ms]=!0}var Np=new Set,Ip={};function Eo(n,i){$o(n,i),$o(n+"Capture",i)}function $o(n,i){for(Ip[n]=i,n=0;n<i.length;n++)Np.add(i[n])}var YT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dp={},wp={};function JT(n){return Ku.call(wp,n)?!0:Ku.call(Dp,n)?!1:YT.test(n)?wp[n]=!0:(Dp[n]=!0,!1)}function wa(n,i,s){if(JT(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function xa(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function ni(n,i,s,r){if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+r)}}function vn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function xp(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function KT(n,i,s){var r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,p=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){s=""+T,p.call(this,T)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function tc(n){if(!n._valueTracker){var i=xp(n)?"checked":"value";n._valueTracker=KT(n,i,""+n[i])}}function Up(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),r="";return n&&(r=xp(n)?n.checked?"true":"false":n.value),n=r,n!==s?(i.setValue(n),!0):!1}function Ua(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var XT=/[\n"\\]/g;function Tn(n){return n.replace(XT,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function nc(n,i,s,r,h,p,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+vn(i)):n.value!==""+vn(i)&&(n.value=""+vn(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?ic(n,T,vn(i)):s!=null?ic(n,T,vn(s)):r!=null&&n.removeAttribute("value"),h==null&&p!=null&&(n.defaultChecked=!!p),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+vn(S):n.removeAttribute("name")}function bp(n,i,s,r,h,p,T,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){tc(n);return}s=s!=null?""+vn(s):"",i=i!=null?""+vn(i):s,S||i===n.value||(n.value=i),n.defaultValue=i}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=S?n.checked:!!r,n.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),tc(n)}function ic(n,i,s){i==="number"&&Ua(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function jo(n,i,s,r){if(n=n.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=i.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&r&&(n[s].defaultSelected=!0)}else{for(s=""+vn(s),i=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,r&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function Lp(n,i,s){if(i!=null&&(i=""+vn(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+vn(s):""}function Gp(n,i,s,r){if(i==null){if(r!=null){if(s!=null)throw Error(l(92));if(Ut(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),i=s}s=vn(i),n.defaultValue=s,r=n.textContent,r===s&&r!==""&&r!==null&&(n.value=r),tc(n)}function el(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var QT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pp(n,i,s){var r=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":r?n.setProperty(i,s):typeof s!="number"||s===0||QT.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function Hp(n,i,s){if(i!=null&&typeof i!="object")throw Error(l(62));if(n=n.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var h in i)r=i[h],i.hasOwnProperty(h)&&s[h]!==r&&Pp(n,h,r)}else for(var p in i)i.hasOwnProperty(p)&&Pp(n,p,i[p])}function oc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),WT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(n){return WT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ii(){}var lc=null;function sc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var tl=null,nl=null;function kp(n){var i=Zo(n);if(i&&(n=i.stateNode)){var s=n[Bt]||null;e:switch(n=i.stateNode,i.type){case"input":if(nc(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var r=s[i];if(r!==n&&r.form===n.form){var h=r[Bt]||null;if(!h)throw Error(l(90));nc(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)r=s[i],r.form===n.form&&Up(r)}break e;case"textarea":Lp(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&jo(n,!!s.multiple,i,!1)}}}var ac=!1;function Vp(n,i,s){if(ac)return n(i,s);ac=!0;try{var r=n(i);return r}finally{if(ac=!1,(tl!==null||nl!==null)&&(_r(),tl&&(i=tl,n=nl,nl=tl=null,kp(i),n)))for(i=0;i<n.length;i++)kp(n[i])}}function ys(n,i){var s=n.stateNode;if(s===null)return null;var r=s[Bt]||null;if(r===null)return null;s=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(l(231,i,typeof s));return s}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=!1;if(oi)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){rc=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{rc=!1}var Gi=null,uc=null,La=null;function qp(){if(La)return La;var n,i=uc,s=i.length,r,h="value"in Gi?Gi.value:Gi.textContent,p=h.length;for(n=0;n<s&&i[n]===h[n];n++);var T=s-n;for(r=1;r<=T&&i[s-r]===h[p-r];r++);return La=h.slice(n,1<r?1-r:void 0)}function Ga(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Pa(){return!0}function Bp(){return!1}function Ot(n){function i(s,r,h,p,T){this._reactName=s,this._targetInst=h,this.type=r,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(s=n[S],this[S]=s?s(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Pa:Bp,this.isPropagationStopped=Bp,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),i}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Ot(So),Ts=_({},So,{view:0,detail:0}),$T=Ot(Ts),cc,fc,_s,ka=_({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_s&&(_s&&n.type==="mousemove"?(cc=n.screenX-_s.screenX,fc=n.screenY-_s.screenY):fc=cc=0,_s=n),cc)},movementY:function(n){return"movementY"in n?n.movementY:fc}}),Op=Ot(ka),jT=_({},ka,{dataTransfer:0}),e4=Ot(jT),t4=_({},Ts,{relatedTarget:0}),dc=Ot(t4),n4=_({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),i4=Ot(n4),o4=_({},So,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),l4=Ot(o4),s4=_({},So,{data:0}),zp=Ot(s4),a4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c4(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=u4[n])?!!i[n]:!1}function hc(){return c4}var f4=_({},Ts,{key:function(n){if(n.key){var i=a4[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ga(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?r4[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(n){return n.type==="keypress"?Ga(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ga(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),d4=Ot(f4),h4=_({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=Ot(h4),p4=_({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),m4=Ot(p4),g4=_({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),y4=Ot(g4),v4=_({},ka,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),T4=Ot(v4),_4=_({},So,{newState:0,oldState:0}),E4=Ot(_4),S4=[9,13,27,32],pc=oi&&"CompositionEvent"in window,Es=null;oi&&"documentMode"in document&&(Es=document.documentMode);var A4=oi&&"TextEvent"in window&&!Es,Yp=oi&&(!pc||Es&&8<Es&&11>=Es),Jp=" ",Kp=!1;function Xp(n,i){switch(n){case"keyup":return S4.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var il=!1;function C4(n,i){switch(n){case"compositionend":return Qp(i);case"keypress":return i.which!==32?null:(Kp=!0,Jp);case"textInput":return n=i.data,n===Jp&&Kp?null:n;default:return null}}function M4(n,i){if(il)return n==="compositionend"||!pc&&Xp(n,i)?(n=qp(),La=uc=Gi=null,il=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yp&&i.locale!=="ko"?null:i.data;default:return null}}var R4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!R4[n.type]:i==="textarea"}function Wp(n,i,s,r){tl?nl?nl.push(r):nl=[r]:tl=r,i=Nr(i,"onChange"),0<i.length&&(s=new Ha("onChange","change",null,s,r),n.push({event:s,listeners:i}))}var Ss=null,As=null;function N4(n){b0(n,0)}function Va(n){var i=gs(n);if(Up(i))return n}function $p(n,i){if(n==="change")return i}var jp=!1;if(oi){var mc;if(oi){var gc="oninput"in document;if(!gc){var em=document.createElement("div");em.setAttribute("oninput","return;"),gc=typeof em.oninput=="function"}mc=gc}else mc=!1;jp=mc&&(!document.documentMode||9<document.documentMode)}function tm(){Ss&&(Ss.detachEvent("onpropertychange",nm),As=Ss=null)}function nm(n){if(n.propertyName==="value"&&Va(As)){var i=[];Wp(i,As,n,sc(n)),Vp(N4,i)}}function I4(n,i,s){n==="focusin"?(tm(),Ss=i,As=s,Ss.attachEvent("onpropertychange",nm)):n==="focusout"&&tm()}function D4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Va(As)}function w4(n,i){if(n==="click")return Va(i)}function x4(n,i){if(n==="input"||n==="change")return Va(i)}function U4(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var nn=typeof Object.is=="function"?Object.is:U4;function Cs(n,i){if(nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),r=Object.keys(i);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var h=s[r];if(!Ku.call(i,h)||!nn(n[h],i[h]))return!1}return!0}function im(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function om(n,i){var s=im(n);n=0;for(var r;s;){if(s.nodeType===3){if(r=n+s.textContent.length,n<=i&&r>=i)return{node:s,offset:i-n};n=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=im(s)}}function lm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?lm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function sm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ua(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Ua(n.document)}return i}function yc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var b4=oi&&"documentMode"in document&&11>=document.documentMode,ol=null,vc=null,Ms=null,Tc=!1;function am(n,i,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tc||ol==null||ol!==Ua(r)||(r=ol,"selectionStart"in r&&yc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ms&&Cs(Ms,r)||(Ms=r,r=Nr(vc,"onSelect"),0<r.length&&(i=new Ha("onSelect","select",null,i,s),n.push({event:i,listeners:r}),i.target=ol)))}function Ao(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var ll={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionrun:Ao("Transition","TransitionRun"),transitionstart:Ao("Transition","TransitionStart"),transitioncancel:Ao("Transition","TransitionCancel"),transitionend:Ao("Transition","TransitionEnd")},_c={},rm={};oi&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Co(n){if(_c[n])return _c[n];if(!ll[n])return n;var i=ll[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in rm)return _c[n]=i[s];return n}var um=Co("animationend"),cm=Co("animationiteration"),fm=Co("animationstart"),L4=Co("transitionrun"),G4=Co("transitionstart"),P4=Co("transitioncancel"),dm=Co("transitionend"),hm=new Map,Ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ec.push("scrollEnd");function Hn(n,i){hm.set(n,i),Eo(i,[n])}var qa=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},_n=[],sl=0,Sc=0;function Ba(){for(var n=sl,i=Sc=sl=0;i<n;){var s=_n[i];_n[i++]=null;var r=_n[i];_n[i++]=null;var h=_n[i];_n[i++]=null;var p=_n[i];if(_n[i++]=null,r!==null&&h!==null){var T=r.pending;T===null?h.next=h:(h.next=T.next,T.next=h),r.pending=h}p!==0&&pm(s,h,p)}}function Oa(n,i,s,r){_n[sl++]=n,_n[sl++]=i,_n[sl++]=s,_n[sl++]=r,Sc|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function Ac(n,i,s,r){return Oa(n,i,s,r),za(n)}function Mo(n,i){return Oa(n,null,null,i),za(n)}function pm(n,i,s){n.lanes|=s;var r=n.alternate;r!==null&&(r.lanes|=s);for(var h=!1,p=n.return;p!==null;)p.childLanes|=s,r=p.alternate,r!==null&&(r.childLanes|=s),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(h=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,h&&i!==null&&(h=31-tn(s),n=p.hiddenUpdates,r=n[h],r===null?n[h]=[i]:r.push(i),i.lane=s|536870912),p):null}function za(n){if(50<Ks)throw Ks=0,bf=null,Error(l(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var al={};function H4(n,i,s,r){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(n,i,s,r){return new H4(n,i,s,r)}function Cc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function li(n,i){var s=n.alternate;return s===null?(s=on(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function mm(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Fa(n,i,s,r,h,p){var T=0;if(r=n,typeof n=="function")Cc(n)&&(T=1);else if(typeof n=="string")T=O_(n,s,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=on(31,s,i,h),n.elementType=Z,n.lanes=p,n;case k:return Ro(s.children,h,p,i);case Y:T=8,h|=24;break;case B:return n=on(12,s,i,h|2),n.elementType=B,n.lanes=p,n;case J:return n=on(13,s,i,h),n.elementType=J,n.lanes=p,n;case $:return n=on(19,s,i,h),n.elementType=$,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:T=10;break e;case z:T=9;break e;case Q:T=11;break e;case q:T=14;break e;case ce:T=16,r=null;break e}T=29,s=Error(l(130,n===null?"null":typeof n,"")),r=null}return i=on(T,s,i,h),i.elementType=n,i.type=r,i.lanes=p,i}function Ro(n,i,s,r){return n=on(7,n,r,i),n.lanes=s,n}function Mc(n,i,s){return n=on(6,n,null,i),n.lanes=s,n}function gm(n){var i=on(18,null,null,0);return i.stateNode=n,i}function Rc(n,i,s){return i=on(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ym=new WeakMap;function En(n,i){if(typeof n=="object"&&n!==null){var s=ym.get(n);return s!==void 0?s:(i={value:n,source:i,stack:gp(i)},ym.set(n,i),i)}return{value:n,source:i,stack:gp(i)}}var rl=[],ul=0,Ya=null,Rs=0,Sn=[],An=0,Pi=null,Yn=1,Jn="";function si(n,i){rl[ul++]=Rs,rl[ul++]=Ya,Ya=n,Rs=i}function vm(n,i,s){Sn[An++]=Yn,Sn[An++]=Jn,Sn[An++]=Pi,Pi=n;var r=Yn;n=Jn;var h=32-tn(r)-1;r&=~(1<<h),s+=1;var p=32-tn(i)+h;if(30<p){var T=h-h%5;p=(r&(1<<T)-1).toString(32),r>>=T,h-=T,Yn=1<<32-tn(i)+h|s<<h|r,Jn=p+n}else Yn=1<<p|s<<h|r,Jn=n}function Nc(n){n.return!==null&&(si(n,1),vm(n,1,0))}function Ic(n){for(;n===Ya;)Ya=rl[--ul],rl[ul]=null,Rs=rl[--ul],rl[ul]=null;for(;n===Pi;)Pi=Sn[--An],Sn[An]=null,Jn=Sn[--An],Sn[An]=null,Yn=Sn[--An],Sn[An]=null}function Tm(n,i){Sn[An++]=Yn,Sn[An++]=Jn,Sn[An++]=Pi,Yn=i.id,Jn=i.overflow,Pi=n}var Nt=null,Ke=null,Me=!1,Hi=null,Cn=!1,Dc=Error(l(519));function ki(n){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ns(En(i,n)),Dc}function _m(n){var i=n.stateNode,s=n.type,r=n.memoizedProps;switch(i[Rt]=n,i[Bt]=r,s){case"dialog":_e("cancel",i),_e("close",i);break;case"iframe":case"object":case"embed":_e("load",i);break;case"video":case"audio":for(s=0;s<Qs.length;s++)_e(Qs[s],i);break;case"source":_e("error",i);break;case"img":case"image":case"link":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"input":_e("invalid",i),bp(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",i);break;case"textarea":_e("invalid",i),Gp(i,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||r.suppressHydrationWarning===!0||H0(i.textContent,s)?(r.popover!=null&&(_e("beforetoggle",i),_e("toggle",i)),r.onScroll!=null&&_e("scroll",i),r.onScrollEnd!=null&&_e("scrollend",i),r.onClick!=null&&(i.onclick=ii),i=!0):i=!1,i||ki(n,!0)}function Em(n){for(Nt=n.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Nt=Nt.return}}function cl(n){if(n!==Nt)return!1;if(!Me)return Em(n),Me=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Xf(n.type,n.memoizedProps)),s=!s),s&&Ke&&ki(n),Em(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Ke=J0(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Ke=J0(n)}else i===27?(i=Ke,$i(n.type)?(n=jf,jf=null,Ke=n):Ke=i):Ke=Nt?Rn(n.stateNode.nextSibling):null;return!0}function No(){Ke=Nt=null,Me=!1}function wc(){var n=Hi;return n!==null&&(Jt===null?Jt=n:Jt.push.apply(Jt,n),Hi=null),n}function Ns(n){Hi===null?Hi=[n]:Hi.push(n)}var xc=R(null),Io=null,ai=null;function Vi(n,i,s){K(xc,i._currentValue),i._currentValue=s}function ri(n){n._currentValue=xc.current,H(xc)}function Uc(n,i,s){for(;n!==null;){var r=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),n===s)break;n=n.return}}function bc(n,i,s,r){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var p=h.dependencies;if(p!==null){var T=h.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=h;for(var A=0;A<i.length;A++)if(S.context===i[A]){p.lanes|=s,S=p.alternate,S!==null&&(S.lanes|=s),Uc(p.return,s,n),r||(T=null);break e}p=S.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(l(341));T.lanes|=s,p=T.alternate,p!==null&&(p.lanes|=s),Uc(T,s,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function fl(n,i,s,r){n=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var S=h.type;nn(h.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(h===be.current){if(T=h.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(ea):n=[ea])}h=h.return}n!==null&&bc(i,n,s,r),i.flags|=262144}function Ja(n){for(n=n.firstContext;n!==null;){if(!nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Do(n){Io=n,ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function It(n){return Sm(Io,n)}function Ka(n,i){return Io===null&&Do(n),Sm(n,i)}function Sm(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ai===null){if(n===null)throw Error(l(308));ai=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ai=ai.next=i;return s}var k4=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,r){n.push(r)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},V4=e.unstable_scheduleCallback,q4=e.unstable_NormalPriority,ht={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new k4,data:new Map,refCount:0}}function Is(n){n.refCount--,n.refCount===0&&V4(q4,function(){n.controller.abort()})}var Ds=null,Gc=0,dl=0,hl=null;function B4(n,i){if(Ds===null){var s=Ds=[];Gc=0,dl=Vf(),hl={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Gc++,i.then(Am,Am),i}function Am(){if(--Gc===0&&Ds!==null){hl!==null&&(hl.status="fulfilled");var n=Ds;Ds=null,dl=0,hl=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function O4(n,i){var s=[],r={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){r.status="fulfilled",r.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(r.status="rejected",r.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),r}var Cm=x.S;x.S=function(n,i){a0=jt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&B4(n,i),Cm!==null&&Cm(n,i)};var wo=R(null);function Pc(){var n=wo.current;return n!==null?n:ze.pooledCache}function Xa(n,i){i===null?K(wo,wo.current):K(wo,i.pool)}function Mm(){var n=Pc();return n===null?null:{parent:ht._currentValue,pool:n}}var pl=Error(l(460)),Hc=Error(l(474)),Qa=Error(l(542)),Za={then:function(){}};function Rm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Nm(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(ii,ii),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Dm(n),n;default:if(typeof i.status=="string")i.then(ii,ii);else{if(n=ze,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=i,n.status="pending",n.then(function(r){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=r}},function(r){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Dm(n),n}throw Uo=i,pl}}function xo(n){try{var i=n._init;return i(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Uo=s,pl):s}}var Uo=null;function Im(){if(Uo===null)throw Error(l(459));var n=Uo;return Uo=null,n}function Dm(n){if(n===pl||n===Qa)throw Error(l(483))}var ml=null,ws=0;function Wa(n){var i=ws;return ws+=1,ml===null&&(ml=[]),Nm(ml,n,i)}function xs(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function $a(n,i){throw i.$$typeof===E?Error(l(525)):(n=Object.prototype.toString.call(i),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function wm(n){function i(N,M){if(n){var I=N.deletions;I===null?(N.deletions=[M],N.flags|=16):I.push(M)}}function s(N,M){if(!n)return null;for(;M!==null;)i(N,M),M=M.sibling;return null}function r(N){for(var M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function h(N,M){return N=li(N,M),N.index=0,N.sibling=null,N}function p(N,M,I){return N.index=I,n?(I=N.alternate,I!==null?(I=I.index,I<M?(N.flags|=67108866,M):I):(N.flags|=67108866,M)):(N.flags|=1048576,M)}function T(N){return n&&N.alternate===null&&(N.flags|=67108866),N}function S(N,M,I,G){return M===null||M.tag!==6?(M=Mc(I,N.mode,G),M.return=N,M):(M=h(M,I),M.return=N,M)}function A(N,M,I,G){var se=I.type;return se===k?L(N,M,I.props.children,G,I.key):M!==null&&(M.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ce&&xo(se)===M.type)?(M=h(M,I.props),xs(M,I),M.return=N,M):(M=Fa(I.type,I.key,I.props,null,N.mode,G),xs(M,I),M.return=N,M)}function D(N,M,I,G){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=Rc(I,N.mode,G),M.return=N,M):(M=h(M,I.children||[]),M.return=N,M)}function L(N,M,I,G,se){return M===null||M.tag!==7?(M=Ro(I,N.mode,G,se),M.return=N,M):(M=h(M,I),M.return=N,M)}function P(N,M,I){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Mc(""+M,N.mode,I),M.return=N,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return I=Fa(M.type,M.key,M.props,null,N.mode,I),xs(I,M),I.return=N,I;case b:return M=Rc(M,N.mode,I),M.return=N,M;case ce:return M=xo(M),P(N,M,I)}if(Ut(M)||de(M))return M=Ro(M,N.mode,I,null),M.return=N,M;if(typeof M.then=="function")return P(N,Wa(M),I);if(M.$$typeof===V)return P(N,Ka(N,M),I);$a(N,M)}return null}function w(N,M,I,G){var se=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return se!==null?null:S(N,M,""+I,G);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return I.key===se?A(N,M,I,G):null;case b:return I.key===se?D(N,M,I,G):null;case ce:return I=xo(I),w(N,M,I,G)}if(Ut(I)||de(I))return se!==null?null:L(N,M,I,G,null);if(typeof I.then=="function")return w(N,M,Wa(I),G);if(I.$$typeof===V)return w(N,M,Ka(N,I),G);$a(N,I)}return null}function U(N,M,I,G,se){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return N=N.get(I)||null,S(M,N,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return N=N.get(G.key===null?I:G.key)||null,A(M,N,G,se);case b:return N=N.get(G.key===null?I:G.key)||null,D(M,N,G,se);case ce:return G=xo(G),U(N,M,I,G,se)}if(Ut(G)||de(G))return N=N.get(I)||null,L(M,N,G,se,null);if(typeof G.then=="function")return U(N,M,I,Wa(G),se);if(G.$$typeof===V)return U(N,M,I,Ka(M,G),se);$a(M,G)}return null}function j(N,M,I,G){for(var se=null,Ie=null,te=M,ye=M=0,Ae=null;te!==null&&ye<I.length;ye++){te.index>ye?(Ae=te,te=null):Ae=te.sibling;var De=w(N,te,I[ye],G);if(De===null){te===null&&(te=Ae);break}n&&te&&De.alternate===null&&i(N,te),M=p(De,M,ye),Ie===null?se=De:Ie.sibling=De,Ie=De,te=Ae}if(ye===I.length)return s(N,te),Me&&si(N,ye),se;if(te===null){for(;ye<I.length;ye++)te=P(N,I[ye],G),te!==null&&(M=p(te,M,ye),Ie===null?se=te:Ie.sibling=te,Ie=te);return Me&&si(N,ye),se}for(te=r(te);ye<I.length;ye++)Ae=U(te,N,ye,I[ye],G),Ae!==null&&(n&&Ae.alternate!==null&&te.delete(Ae.key===null?ye:Ae.key),M=p(Ae,M,ye),Ie===null?se=Ae:Ie.sibling=Ae,Ie=Ae);return n&&te.forEach(function(io){return i(N,io)}),Me&&si(N,ye),se}function re(N,M,I,G){if(I==null)throw Error(l(151));for(var se=null,Ie=null,te=M,ye=M=0,Ae=null,De=I.next();te!==null&&!De.done;ye++,De=I.next()){te.index>ye?(Ae=te,te=null):Ae=te.sibling;var io=w(N,te,De.value,G);if(io===null){te===null&&(te=Ae);break}n&&te&&io.alternate===null&&i(N,te),M=p(io,M,ye),Ie===null?se=io:Ie.sibling=io,Ie=io,te=Ae}if(De.done)return s(N,te),Me&&si(N,ye),se;if(te===null){for(;!De.done;ye++,De=I.next())De=P(N,De.value,G),De!==null&&(M=p(De,M,ye),Ie===null?se=De:Ie.sibling=De,Ie=De);return Me&&si(N,ye),se}for(te=r(te);!De.done;ye++,De=I.next())De=U(te,N,ye,De.value,G),De!==null&&(n&&De.alternate!==null&&te.delete(De.key===null?ye:De.key),M=p(De,M,ye),Ie===null?se=De:Ie.sibling=De,Ie=De);return n&&te.forEach(function(j_){return i(N,j_)}),Me&&si(N,ye),se}function Be(N,M,I,G){if(typeof I=="object"&&I!==null&&I.type===k&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case C:e:{for(var se=I.key;M!==null;){if(M.key===se){if(se=I.type,se===k){if(M.tag===7){s(N,M.sibling),G=h(M,I.props.children),G.return=N,N=G;break e}}else if(M.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ce&&xo(se)===M.type){s(N,M.sibling),G=h(M,I.props),xs(G,I),G.return=N,N=G;break e}s(N,M);break}else i(N,M);M=M.sibling}I.type===k?(G=Ro(I.props.children,N.mode,G,I.key),G.return=N,N=G):(G=Fa(I.type,I.key,I.props,null,N.mode,G),xs(G,I),G.return=N,N=G)}return T(N);case b:e:{for(se=I.key;M!==null;){if(M.key===se)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){s(N,M.sibling),G=h(M,I.children||[]),G.return=N,N=G;break e}else{s(N,M);break}else i(N,M);M=M.sibling}G=Rc(I,N.mode,G),G.return=N,N=G}return T(N);case ce:return I=xo(I),Be(N,M,I,G)}if(Ut(I))return j(N,M,I,G);if(de(I)){if(se=de(I),typeof se!="function")throw Error(l(150));return I=se.call(I),re(N,M,I,G)}if(typeof I.then=="function")return Be(N,M,Wa(I),G);if(I.$$typeof===V)return Be(N,M,Ka(N,I),G);$a(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,M!==null&&M.tag===6?(s(N,M.sibling),G=h(M,I),G.return=N,N=G):(s(N,M),G=Mc(I,N.mode,G),G.return=N,N=G),T(N)):s(N,M)}return function(N,M,I,G){try{ws=0;var se=Be(N,M,I,G);return ml=null,se}catch(te){if(te===pl||te===Qa)throw te;var Ie=on(29,te,null,N.mode);return Ie.lanes=G,Ie.return=N,Ie}finally{}}}var bo=wm(!0),xm=wm(!1),qi=!1;function kc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vc(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Bi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Oi(n,i,s){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(Ue&2)!==0){var h=r.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),r.pending=i,i=za(n),pm(n,null,s),i}return Oa(n,r,i,s),za(n)}function Us(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var r=i.lanes;r&=n.pendingLanes,s|=r,i.lanes=s,Sp(n,s)}}function qc(n,i){var s=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?h=p=T:p=p.next=T,s=s.next}while(s!==null);p===null?h=p=i:p=p.next=i}else h=p=i;s={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var Bc=!1;function bs(){if(Bc){var n=hl;if(n!==null)throw n}}function Ls(n,i,s,r){Bc=!1;var h=n.updateQueue;qi=!1;var p=h.firstBaseUpdate,T=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var A=S,D=A.next;A.next=null,T===null?p=D:T.next=D,T=A;var L=n.alternate;L!==null&&(L=L.updateQueue,S=L.lastBaseUpdate,S!==T&&(S===null?L.firstBaseUpdate=D:S.next=D,L.lastBaseUpdate=A))}if(p!==null){var P=h.baseState;T=0,L=D=A=null,S=p;do{var w=S.lane&-536870913,U=w!==S.lane;if(U?(Se&w)===w:(r&w)===w){w!==0&&w===dl&&(Bc=!0),L!==null&&(L=L.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var j=n,re=S;w=i;var Be=s;switch(re.tag){case 1:if(j=re.payload,typeof j=="function"){P=j.call(Be,P,w);break e}P=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=re.payload,w=typeof j=="function"?j.call(Be,P,w):j,w==null)break e;P=_({},P,w);break e;case 2:qi=!0}}w=S.callback,w!==null&&(n.flags|=64,U&&(n.flags|=8192),U=h.callbacks,U===null?h.callbacks=[w]:U.push(w))}else U={lane:w,tag:S.tag,payload:S.payload,callback:S.callback,next:null},L===null?(D=L=U,A=P):L=L.next=U,T|=w;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;U=S,S=U.next,U.next=null,h.lastBaseUpdate=U,h.shared.pending=null}}while(!0);L===null&&(A=P),h.baseState=A,h.firstBaseUpdate=D,h.lastBaseUpdate=L,p===null&&(h.shared.lanes=0),Ki|=T,n.lanes=T,n.memoizedState=P}}function Um(n,i){if(typeof n!="function")throw Error(l(191,n));n.call(i)}function bm(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Um(s[n],i)}var gl=R(null),ja=R(0);function Lm(n,i){n=yi,K(ja,n),K(gl,i),yi=n|i.baseLanes}function Oc(){K(ja,yi),K(gl,gl.current)}function zc(){yi=ja.current,H(gl),H(ja)}var ln=R(null),Mn=null;function zi(n){var i=n.alternate;K(ut,ut.current&1),K(ln,n),Mn===null&&(i===null||gl.current!==null||i.memoizedState!==null)&&(Mn=n)}function Fc(n){K(ut,ut.current),K(ln,n),Mn===null&&(Mn=n)}function Gm(n){n.tag===22?(K(ut,ut.current),K(ln,n),Mn===null&&(Mn=n)):Fi()}function Fi(){K(ut,ut.current),K(ln,ln.current)}function sn(n){H(ln),Mn===n&&(Mn=null),H(ut)}var ut=R(0);function er(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Wf(s)||$f(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ui=0,ge=null,Ve=null,pt=null,tr=!1,yl=!1,Lo=!1,nr=0,Gs=0,vl=null,z4=0;function nt(){throw Error(l(321))}function Yc(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!nn(n[s],i[s]))return!1;return!0}function Jc(n,i,s,r,h,p){return ui=p,ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,x.H=n===null||n.memoizedState===null?vg:rf,Lo=!1,p=s(r,h),Lo=!1,yl&&(p=Hm(i,s,r,h)),Pm(n),p}function Pm(n){x.H=ks;var i=Ve!==null&&Ve.next!==null;if(ui=0,pt=Ve=ge=null,tr=!1,Gs=0,vl=null,i)throw Error(l(300));n===null||mt||(n=n.dependencies,n!==null&&Ja(n)&&(mt=!0))}function Hm(n,i,s,r){ge=n;var h=0;do{if(yl&&(vl=null),Gs=0,yl=!1,25<=h)throw Error(l(301));if(h+=1,pt=Ve=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}x.H=Tg,p=i(s,r)}while(yl);return p}function F4(){var n=x.H,i=n.useState()[0];return i=typeof i.then=="function"?Ps(i):i,n=n.useState()[0],(Ve!==null?Ve.memoizedState:null)!==n&&(ge.flags|=1024),i}function Kc(){var n=nr!==0;return nr=0,n}function Xc(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Qc(n){if(tr){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}tr=!1}ui=0,pt=Ve=ge=null,yl=!1,Gs=nr=0,vl=null}function Ht(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ge.memoizedState=pt=n:pt=pt.next=n,pt}function ct(){if(Ve===null){var n=ge.alternate;n=n!==null?n.memoizedState:null}else n=Ve.next;var i=pt===null?ge.memoizedState:pt.next;if(i!==null)pt=i,Ve=n;else{if(n===null)throw ge.alternate===null?Error(l(467)):Error(l(310));Ve=n,n={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},pt===null?ge.memoizedState=pt=n:pt=pt.next=n}return pt}function ir(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ps(n){var i=Gs;return Gs+=1,vl===null&&(vl=[]),n=Nm(vl,n,i),i=ge,(pt===null?i.memoizedState:pt.next)===null&&(i=i.alternate,x.H=i===null||i.memoizedState===null?vg:rf),n}function or(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ps(n);if(n.$$typeof===V)return It(n)}throw Error(l(438,String(n)))}function Zc(n){var i=null,s=ge.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var r=ge.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=ir(),ge.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),r=0;r<n;r++)s[r]=fe;return i.index++,s}function ci(n,i){return typeof i=="function"?i(n):i}function lr(n){var i=ct();return Wc(i,Ve,n)}function Wc(n,i,s){var r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var h=n.baseQueue,p=r.pending;if(p!==null){if(h!==null){var T=h.next;h.next=p.next,p.next=T}i.baseQueue=h=p,r.pending=null}if(p=n.baseState,h===null)n.memoizedState=p;else{i=h.next;var S=T=null,A=null,D=i,L=!1;do{var P=D.lane&-536870913;if(P!==D.lane?(Se&P)===P:(ui&P)===P){var w=D.revertLane;if(w===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),P===dl&&(L=!0);else if((ui&w)===w){D=D.next,w===dl&&(L=!0);continue}else P={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(S=A=P,T=p):A=A.next=P,ge.lanes|=w,Ki|=w;P=D.action,Lo&&s(p,P),p=D.hasEagerState?D.eagerState:s(p,P)}else w={lane:P,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(S=A=w,T=p):A=A.next=w,ge.lanes|=P,Ki|=P;D=D.next}while(D!==null&&D!==i);if(A===null?T=p:A.next=S,!nn(p,n.memoizedState)&&(mt=!0,L&&(s=hl,s!==null)))throw s;n.memoizedState=p,n.baseState=T,n.baseQueue=A,r.lastRenderedState=p}return h===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function $c(n){var i=ct(),s=i.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var r=s.dispatch,h=s.pending,p=i.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do p=n(p,T.action),T=T.next;while(T!==h);nn(p,i.memoizedState)||(mt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,r]}function km(n,i,s){var r=ge,h=ct(),p=Me;if(p){if(s===void 0)throw Error(l(407));s=s()}else s=i();var T=!nn((Ve||h).memoizedState,s);if(T&&(h.memoizedState=s,mt=!0),h=h.queue,tf(Bm.bind(null,r,h,n),[n]),h.getSnapshot!==i||T||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,Tl(9,{destroy:void 0},qm.bind(null,r,h,s,i),null),ze===null)throw Error(l(349));p||(ui&127)!==0||Vm(r,i,s)}return s}function Vm(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=ge.updateQueue,i===null?(i=ir(),ge.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function qm(n,i,s,r){i.value=s,i.getSnapshot=r,Om(i)&&zm(n)}function Bm(n,i,s){return s(function(){Om(i)&&zm(n)})}function Om(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!nn(n,s)}catch{return!0}}function zm(n){var i=Mo(n,2);i!==null&&Kt(i,n,2)}function jc(n){var i=Ht();if(typeof n=="function"){var s=n;if(n=s(),Lo){bi(!0);try{s()}finally{bi(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:n},i}function Fm(n,i,s,r){return n.baseState=s,Wc(n,Ve,typeof r=="function"?r:ci)}function Y4(n,i,s,r,h){if(rr(n))throw Error(l(485));if(n=i.action,n!==null){var p={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};x.T!==null?s(!0):p.isTransition=!1,r(p),s=i.pending,s===null?(p.next=i.pending=p,Ym(i,p)):(p.next=s.next,i.pending=s.next=p)}}function Ym(n,i){var s=i.action,r=i.payload,h=n.state;if(i.isTransition){var p=x.T,T={};x.T=T;try{var S=s(h,r),A=x.S;A!==null&&A(T,S),Jm(n,i,S)}catch(D){ef(n,i,D)}finally{p!==null&&T.types!==null&&(p.types=T.types),x.T=p}}else try{p=s(h,r),Jm(n,i,p)}catch(D){ef(n,i,D)}}function Jm(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Km(n,i,r)},function(r){return ef(n,i,r)}):Km(n,i,s)}function Km(n,i,s){i.status="fulfilled",i.value=s,Xm(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Ym(n,s)))}function ef(n,i,s){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=s,Xm(i),i=i.next;while(i!==r)}n.action=null}function Xm(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Qm(n,i){return i}function Zm(n,i){if(Me){var s=ze.formState;if(s!==null){e:{var r=ge;if(Me){if(Ke){t:{for(var h=Ke,p=Cn;h.nodeType!==8;){if(!p){h=null;break t}if(h=Rn(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Ke=Rn(h.nextSibling),r=h.data==="F!";break e}}ki(r)}r=!1}r&&(i=s[0])}}return s=Ht(),s.memoizedState=s.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:i},s.queue=r,s=mg.bind(null,ge,r),r.dispatch=s,r=jc(!1),p=af.bind(null,ge,!1,r.queue),r=Ht(),h={state:i,dispatch:null,action:n,pending:null},r.queue=h,s=Y4.bind(null,ge,h,p,s),h.dispatch=s,r.memoizedState=n,[i,s,!1]}function Wm(n){var i=ct();return $m(i,Ve,n)}function $m(n,i,s){if(i=Wc(n,i,Qm)[0],n=lr(ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Ps(i)}catch(T){throw T===pl?Qa:T}else r=i;i=ct();var h=i.queue,p=h.dispatch;return s!==i.memoizedState&&(ge.flags|=2048,Tl(9,{destroy:void 0},J4.bind(null,h,s),null)),[r,p,n]}function J4(n,i){n.action=i}function jm(n){var i=ct(),s=Ve;if(s!==null)return $m(i,s,n);ct(),i=i.memoizedState,s=ct();var r=s.queue.dispatch;return s.memoizedState=n,[i,r,!1]}function Tl(n,i,s,r){return n={tag:n,create:s,deps:r,inst:i,next:null},i=ge.updateQueue,i===null&&(i=ir(),ge.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(r=s.next,s.next=n,n.next=r,i.lastEffect=n),n}function eg(){return ct().memoizedState}function sr(n,i,s,r){var h=Ht();ge.flags|=n,h.memoizedState=Tl(1|i,{destroy:void 0},s,r===void 0?null:r)}function ar(n,i,s,r){var h=ct();r=r===void 0?null:r;var p=h.memoizedState.inst;Ve!==null&&r!==null&&Yc(r,Ve.memoizedState.deps)?h.memoizedState=Tl(i,p,s,r):(ge.flags|=n,h.memoizedState=Tl(1|i,p,s,r))}function tg(n,i){sr(8390656,8,n,i)}function tf(n,i){ar(2048,8,n,i)}function K4(n){ge.flags|=4;var i=ge.updateQueue;if(i===null)i=ir(),ge.updateQueue=i,i.events=[n];else{var s=i.events;s===null?i.events=[n]:s.push(n)}}function ng(n){var i=ct().memoizedState;return K4({ref:i,nextImpl:n}),function(){if((Ue&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function ig(n,i){return ar(4,2,n,i)}function og(n,i){return ar(4,4,n,i)}function lg(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function sg(n,i,s){s=s!=null?s.concat([n]):null,ar(4,4,lg.bind(null,i,n),s)}function nf(){}function ag(n,i){var s=ct();i=i===void 0?null:i;var r=s.memoizedState;return i!==null&&Yc(i,r[1])?r[0]:(s.memoizedState=[n,i],n)}function rg(n,i){var s=ct();i=i===void 0?null:i;var r=s.memoizedState;if(i!==null&&Yc(i,r[1]))return r[0];if(r=n(),Lo){bi(!0);try{n()}finally{bi(!1)}}return s.memoizedState=[r,i],r}function of(n,i,s){return s===void 0||(ui&1073741824)!==0&&(Se&261930)===0?n.memoizedState=i:(n.memoizedState=s,n=u0(),ge.lanes|=n,Ki|=n,s)}function ug(n,i,s,r){return nn(s,i)?s:gl.current!==null?(n=of(n,s,r),nn(n,i)||(mt=!0),n):(ui&42)===0||(ui&1073741824)!==0&&(Se&261930)===0?(mt=!0,n.memoizedState=s):(n=u0(),ge.lanes|=n,Ki|=n,i)}function cg(n,i,s,r,h){var p=F.p;F.p=p!==0&&8>p?p:8;var T=x.T,S={};x.T=S,af(n,!1,i,s);try{var A=h(),D=x.S;if(D!==null&&D(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var L=O4(A,r);Hs(n,i,L,un(n))}else Hs(n,i,r,un(n))}catch(P){Hs(n,i,{then:function(){},status:"rejected",reason:P},un())}finally{F.p=p,T!==null&&S.types!==null&&(T.types=S.types),x.T=T}}function X4(){}function lf(n,i,s,r){if(n.tag!==5)throw Error(l(476));var h=fg(n).queue;cg(n,h,i,ue,s===null?X4:function(){return dg(n),s(r)})}function fg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:ue},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function dg(n){var i=fg(n);i.next===null&&(i=n.alternate.memoizedState),Hs(n,i.next.queue,{},un())}function sf(){return It(ea)}function hg(){return ct().memoizedState}function pg(){return ct().memoizedState}function Q4(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=un();n=Bi(s);var r=Oi(i,n,s);r!==null&&(Kt(r,i,s),Us(r,i,s)),i={cache:Lc()},n.payload=i;return}i=i.return}}function Z4(n,i,s){var r=un();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},rr(n)?gg(i,s):(s=Ac(n,i,s,r),s!==null&&(Kt(s,n,r),yg(s,i,r)))}function mg(n,i,s){var r=un();Hs(n,i,s,r)}function Hs(n,i,s,r){var h={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(rr(n))gg(i,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,S=p(T,s);if(h.hasEagerState=!0,h.eagerState=S,nn(S,T))return Oa(n,i,h,0),ze===null&&Ba(),!1}catch{}finally{}if(s=Ac(n,i,h,r),s!==null)return Kt(s,n,r),yg(s,i,r),!0}return!1}function af(n,i,s,r){if(r={lane:2,revertLane:Vf(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},rr(n)){if(i)throw Error(l(479))}else i=Ac(n,s,r,2),i!==null&&Kt(i,n,2)}function rr(n){var i=n.alternate;return n===ge||i!==null&&i===ge}function gg(n,i){yl=tr=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function yg(n,i,s){if((s&4194048)!==0){var r=i.lanes;r&=n.pendingLanes,s|=r,i.lanes=s,Sp(n,s)}}var ks={readContext:It,use:or,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};ks.useEffectEvent=nt;var vg={readContext:It,use:or,useCallback:function(n,i){return Ht().memoizedState=[n,i===void 0?null:i],n},useContext:It,useEffect:tg,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,sr(4194308,4,lg.bind(null,i,n),s)},useLayoutEffect:function(n,i){return sr(4194308,4,n,i)},useInsertionEffect:function(n,i){sr(4,2,n,i)},useMemo:function(n,i){var s=Ht();i=i===void 0?null:i;var r=n();if(Lo){bi(!0);try{n()}finally{bi(!1)}}return s.memoizedState=[r,i],r},useReducer:function(n,i,s){var r=Ht();if(s!==void 0){var h=s(i);if(Lo){bi(!0);try{s(i)}finally{bi(!1)}}}else h=i;return r.memoizedState=r.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},r.queue=n,n=n.dispatch=Z4.bind(null,ge,n),[r.memoizedState,n]},useRef:function(n){var i=Ht();return n={current:n},i.memoizedState=n},useState:function(n){n=jc(n);var i=n.queue,s=mg.bind(null,ge,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:nf,useDeferredValue:function(n,i){var s=Ht();return of(s,n,i)},useTransition:function(){var n=jc(!1);return n=cg.bind(null,ge,n.queue,!0,!1),Ht().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var r=ge,h=Ht();if(Me){if(s===void 0)throw Error(l(407));s=s()}else{if(s=i(),ze===null)throw Error(l(349));(Se&127)!==0||Vm(r,i,s)}h.memoizedState=s;var p={value:s,getSnapshot:i};return h.queue=p,tg(Bm.bind(null,r,p,n),[n]),r.flags|=2048,Tl(9,{destroy:void 0},qm.bind(null,r,p,s,i),null),s},useId:function(){var n=Ht(),i=ze.identifierPrefix;if(Me){var s=Jn,r=Yn;s=(r&~(1<<32-tn(r)-1)).toString(32)+s,i="_"+i+"R_"+s,s=nr++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=z4++,i="_"+i+"r_"+s.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:sf,useFormState:Zm,useActionState:Zm,useOptimistic:function(n){var i=Ht();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=af.bind(null,ge,!0,s),s.dispatch=i,[n,i]},useMemoCache:Zc,useCacheRefresh:function(){return Ht().memoizedState=Q4.bind(null,ge)},useEffectEvent:function(n){var i=Ht(),s={impl:n};return i.memoizedState=s,function(){if((Ue&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},rf={readContext:It,use:or,useCallback:ag,useContext:It,useEffect:tf,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:og,useMemo:rg,useReducer:lr,useRef:eg,useState:function(){return lr(ci)},useDebugValue:nf,useDeferredValue:function(n,i){var s=ct();return ug(s,Ve.memoizedState,n,i)},useTransition:function(){var n=lr(ci)[0],i=ct().memoizedState;return[typeof n=="boolean"?n:Ps(n),i]},useSyncExternalStore:km,useId:hg,useHostTransitionStatus:sf,useFormState:Wm,useActionState:Wm,useOptimistic:function(n,i){var s=ct();return Fm(s,Ve,n,i)},useMemoCache:Zc,useCacheRefresh:pg};rf.useEffectEvent=ng;var Tg={readContext:It,use:or,useCallback:ag,useContext:It,useEffect:tf,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:og,useMemo:rg,useReducer:$c,useRef:eg,useState:function(){return $c(ci)},useDebugValue:nf,useDeferredValue:function(n,i){var s=ct();return Ve===null?of(s,n,i):ug(s,Ve.memoizedState,n,i)},useTransition:function(){var n=$c(ci)[0],i=ct().memoizedState;return[typeof n=="boolean"?n:Ps(n),i]},useSyncExternalStore:km,useId:hg,useHostTransitionStatus:sf,useFormState:jm,useActionState:jm,useOptimistic:function(n,i){var s=ct();return Ve!==null?Fm(s,Ve,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:pg};Tg.useEffectEvent=ng;function uf(n,i,s,r){i=n.memoizedState,s=s(r,i),s=s==null?i:_({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var cf={enqueueSetState:function(n,i,s){n=n._reactInternals;var r=un(),h=Bi(r);h.payload=i,s!=null&&(h.callback=s),i=Oi(n,h,r),i!==null&&(Kt(i,n,r),Us(i,n,r))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var r=un(),h=Bi(r);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Oi(n,h,r),i!==null&&(Kt(i,n,r),Us(i,n,r))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=un(),r=Bi(s);r.tag=2,i!=null&&(r.callback=i),i=Oi(n,r,s),i!==null&&(Kt(i,n,s),Us(i,n,s))}};function _g(n,i,s,r,h,p,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,p,T):i.prototype&&i.prototype.isPureReactComponent?!Cs(s,r)||!Cs(h,p):!0}function Eg(n,i,s,r){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,r),i.state!==n&&cf.enqueueReplaceState(i,i.state,null)}function Go(n,i){var s=i;if("ref"in i){s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}if(n=n.defaultProps){s===i&&(s=_({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}function Sg(n){qa(n)}function Ag(n){console.error(n)}function Cg(n){qa(n)}function ur(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Mg(n,i,s){try{var r=n.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ff(n,i,s){return s=Bi(s),s.tag=3,s.payload={element:null},s.callback=function(){ur(n,i)},s}function Rg(n){return n=Bi(n),n.tag=3,n}function Ng(n,i,s,r){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=r.value;n.payload=function(){return h(p)},n.callback=function(){Mg(i,s,r)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Mg(i,s,r),typeof h!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var S=r.stack;this.componentDidCatch(r.value,{componentStack:S!==null?S:""})})}function W4(n,i,s,r,h){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=s.alternate,i!==null&&fl(i,s,h,!0),s=ln.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Er():s.alternate===null&&it===0&&(it=3),s.flags&=-257,s.flags|=65536,s.lanes=h,r===Za?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([r]):i.add(r),Pf(n,r,h)),!1;case 22:return s.flags|=65536,r===Za?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([r]):s.add(r)),Pf(n,r,h)),!1}throw Error(l(435,s.tag))}return Pf(n,r,h),Er(),!1}if(Me)return i=ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,r!==Dc&&(n=Error(l(422),{cause:r}),Ns(En(n,s)))):(r!==Dc&&(i=Error(l(423),{cause:r}),Ns(En(i,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,r=En(r,s),h=ff(n.stateNode,r,h),qc(n,h),it!==4&&(it=2)),!1;var p=Error(l(520),{cause:r});if(p=En(p,s),Js===null?Js=[p]:Js.push(p),it!==4&&(it=2),i===null)return!0;r=En(r,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=ff(s.stateNode,r,n),qc(s,n),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xi===null||!Xi.has(p))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Rg(h),Ng(h,n,s,r),qc(s,h),!1}s=s.return}while(s!==null);return!1}var df=Error(l(461)),mt=!1;function Dt(n,i,s,r){i.child=n===null?xm(i,null,s,r):bo(i,n.child,s,r)}function Ig(n,i,s,r,h){s=s.render;var p=i.ref;if("ref"in r){var T={};for(var S in r)S!=="ref"&&(T[S]=r[S])}else T=r;return Do(i),r=Jc(n,i,s,T,p,h),S=Kc(),n!==null&&!mt?(Xc(n,i,h),fi(n,i,h)):(Me&&S&&Nc(i),i.flags|=1,Dt(n,i,r,h),i.child)}function Dg(n,i,s,r,h){if(n===null){var p=s.type;return typeof p=="function"&&!Cc(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,wg(n,i,p,r,h)):(n=Fa(s.type,null,r,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!_f(n,h)){var T=p.memoizedProps;if(s=s.compare,s=s!==null?s:Cs,s(T,r)&&n.ref===i.ref)return fi(n,i,h)}return i.flags|=1,n=li(p,r),n.ref=i.ref,n.return=i,i.child=n}function wg(n,i,s,r,h){if(n!==null){var p=n.memoizedProps;if(Cs(p,r)&&n.ref===i.ref)if(mt=!1,i.pendingProps=r=p,_f(n,h))(n.flags&131072)!==0&&(mt=!0);else return i.lanes=n.lanes,fi(n,i,h)}return hf(n,i,s,r,h)}function xg(n,i,s,r){var h=r.children,p=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,n!==null){for(r=i.child=n.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~p}else r=0,i.child=null;return Ug(n,i,p,s,r)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Xa(i,p!==null?p.cachePool:null),p!==null?Lm(i,p):Oc(),Gm(i);else return r=i.lanes=536870912,Ug(n,i,p!==null?p.baseLanes|s:s,s,r)}else p!==null?(Xa(i,p.cachePool),Lm(i,p),Fi(),i.memoizedState=null):(n!==null&&Xa(i,null),Oc(),Fi());return Dt(n,i,h,s),i.child}function Vs(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ug(n,i,s,r,h){var p=Pc();return p=p===null?null:{parent:ht._currentValue,pool:p},i.memoizedState={baseLanes:s,cachePool:p},n!==null&&Xa(i,null),Oc(),Gm(i),n!==null&&fl(n,i,r,!0),i.childLanes=h,null}function cr(n,i){return i=dr({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function bg(n,i,s){return bo(i,n.child,null,s),n=cr(i,i.pendingProps),n.flags|=2,sn(i),i.memoizedState=null,n}function $4(n,i,s){var r=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Me){if(r.mode==="hidden")return n=cr(i,r),i.lanes=536870912,Vs(null,n);if(Fc(i),(n=Ke)?(n=Y0(n,Cn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Pi!==null?{id:Yn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},s=gm(n),s.return=i,i.child=s,Nt=i,Ke=null)):n=null,n===null)throw ki(i);return i.lanes=536870912,null}return cr(i,r)}var p=n.memoizedState;if(p!==null){var T=p.dehydrated;if(Fc(i),h)if(i.flags&256)i.flags&=-257,i=bg(n,i,s);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(l(558));else if(mt||fl(n,i,s,!1),h=(s&n.childLanes)!==0,mt||h){if(r=ze,r!==null&&(T=Ap(r,s),T!==0&&T!==p.retryLane))throw p.retryLane=T,Mo(n,T),Kt(r,n,T),df;Er(),i=bg(n,i,s)}else n=p.treeContext,Ke=Rn(T.nextSibling),Nt=i,Me=!0,Hi=null,Cn=!1,n!==null&&Tm(i,n),i=cr(i,r),i.flags|=4096;return i}return n=li(n.child,{mode:r.mode,children:r.children}),n.ref=i.ref,i.child=n,n.return=i,n}function fr(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function hf(n,i,s,r,h){return Do(i),s=Jc(n,i,s,r,void 0,h),r=Kc(),n!==null&&!mt?(Xc(n,i,h),fi(n,i,h)):(Me&&r&&Nc(i),i.flags|=1,Dt(n,i,s,h),i.child)}function Lg(n,i,s,r,h,p){return Do(i),i.updateQueue=null,s=Hm(i,r,s,h),Pm(n),r=Kc(),n!==null&&!mt?(Xc(n,i,p),fi(n,i,p)):(Me&&r&&Nc(i),i.flags|=1,Dt(n,i,s,p),i.child)}function Gg(n,i,s,r,h){if(Do(i),i.stateNode===null){var p=al,T=s.contextType;typeof T=="object"&&T!==null&&(p=It(T)),p=new s(r,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=cf,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=r,p.state=i.memoizedState,p.refs={},kc(i),T=s.contextType,p.context=typeof T=="object"&&T!==null?It(T):al,p.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(uf(i,s,T,r),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&cf.enqueueReplaceState(p,p.state,null),Ls(i,r,p,h),bs(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(n===null){p=i.stateNode;var S=i.memoizedProps,A=Go(s,S);p.props=A;var D=p.context,L=s.contextType;T=al,typeof L=="object"&&L!==null&&(T=It(L));var P=s.getDerivedStateFromProps;L=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,L||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||D!==T)&&Eg(i,p,r,T),qi=!1;var w=i.memoizedState;p.state=w,Ls(i,r,p,h),bs(),D=i.memoizedState,S||w!==D||qi?(typeof P=="function"&&(uf(i,s,P,r),D=i.memoizedState),(A=qi||_g(i,s,A,r,w,D,T))?(L||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=D),p.props=r,p.state=D,p.context=T,r=A):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{p=i.stateNode,Vc(n,i),T=i.memoizedProps,L=Go(s,T),p.props=L,P=i.pendingProps,w=p.context,D=s.contextType,A=al,typeof D=="object"&&D!==null&&(A=It(D)),S=s.getDerivedStateFromProps,(D=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==P||w!==A)&&Eg(i,p,r,A),qi=!1,w=i.memoizedState,p.state=w,Ls(i,r,p,h),bs();var U=i.memoizedState;T!==P||w!==U||qi||n!==null&&n.dependencies!==null&&Ja(n.dependencies)?(typeof S=="function"&&(uf(i,s,S,r),U=i.memoizedState),(L=qi||_g(i,s,L,r,w,U,A)||n!==null&&n.dependencies!==null&&Ja(n.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,U,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,U,A)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&w===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&w===n.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=U),p.props=r,p.state=U,p.context=A,r=L):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&w===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&w===n.memoizedState||(i.flags|=1024),r=!1)}return p=r,fr(n,i),r=(i.flags&128)!==0,p||r?(p=i.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&r?(i.child=bo(i,n.child,null,h),i.child=bo(i,null,s,h)):Dt(n,i,s,h),i.memoizedState=p.state,n=i.child):n=fi(n,i,h),n}function Pg(n,i,s,r){return No(),i.flags|=256,Dt(n,i,s,r),i.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(n){return{baseLanes:n,cachePool:Mm()}}function gf(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=rn),n}function Hg(n,i,s){var r=i.pendingProps,h=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=n!==null&&n.memoizedState===null?!1:(ut.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(Me){if(h?zi(i):Fi(),(n=Ke)?(n=Y0(n,Cn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Pi!==null?{id:Yn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},s=gm(n),s.return=i,i.child=s,Nt=i,Ke=null)):n=null,n===null)throw ki(i);return $f(n)?i.lanes=32:i.lanes=536870912,null}var S=r.children;return r=r.fallback,h?(Fi(),h=i.mode,S=dr({mode:"hidden",children:S},h),r=Ro(r,h,s,null),S.return=i,r.return=i,S.sibling=r,i.child=S,r=i.child,r.memoizedState=mf(s),r.childLanes=gf(n,T,s),i.memoizedState=pf,Vs(null,r)):(zi(i),yf(i,S))}var A=n.memoizedState;if(A!==null&&(S=A.dehydrated,S!==null)){if(p)i.flags&256?(zi(i),i.flags&=-257,i=vf(n,i,s)):i.memoizedState!==null?(Fi(),i.child=n.child,i.flags|=128,i=null):(Fi(),S=r.fallback,h=i.mode,r=dr({mode:"visible",children:r.children},h),S=Ro(S,h,s,null),S.flags|=2,r.return=i,S.return=i,r.sibling=S,i.child=r,bo(i,n.child,null,s),r=i.child,r.memoizedState=mf(s),r.childLanes=gf(n,T,s),i.memoizedState=pf,i=Vs(null,r));else if(zi(i),$f(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var D=T.dgst;T=D,r=Error(l(419)),r.stack="",r.digest=T,Ns({value:r,source:null,stack:null}),i=vf(n,i,s)}else if(mt||fl(n,i,s,!1),T=(s&n.childLanes)!==0,mt||T){if(T=ze,T!==null&&(r=Ap(T,s),r!==0&&r!==A.retryLane))throw A.retryLane=r,Mo(n,r),Kt(T,n,r),df;Wf(S)||Er(),i=vf(n,i,s)}else Wf(S)?(i.flags|=192,i.child=n.child,i=null):(n=A.treeContext,Ke=Rn(S.nextSibling),Nt=i,Me=!0,Hi=null,Cn=!1,n!==null&&Tm(i,n),i=yf(i,r.children),i.flags|=4096);return i}return h?(Fi(),S=r.fallback,h=i.mode,A=n.child,D=A.sibling,r=li(A,{mode:"hidden",children:r.children}),r.subtreeFlags=A.subtreeFlags&65011712,D!==null?S=li(D,S):(S=Ro(S,h,s,null),S.flags|=2),S.return=i,r.return=i,r.sibling=S,i.child=r,Vs(null,r),r=i.child,S=n.child.memoizedState,S===null?S=mf(s):(h=S.cachePool,h!==null?(A=ht._currentValue,h=h.parent!==A?{parent:A,pool:A}:h):h=Mm(),S={baseLanes:S.baseLanes|s,cachePool:h}),r.memoizedState=S,r.childLanes=gf(n,T,s),i.memoizedState=pf,Vs(n.child,r)):(zi(i),s=n.child,n=s.sibling,s=li(s,{mode:"visible",children:r.children}),s.return=i,s.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=s,i.memoizedState=null,s)}function yf(n,i){return i=dr({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function dr(n,i){return n=on(22,n,null,i),n.lanes=0,n}function vf(n,i,s){return bo(i,n.child,null,s),n=yf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function kg(n,i,s){n.lanes|=i;var r=n.alternate;r!==null&&(r.lanes|=i),Uc(n.return,i,s)}function Tf(n,i,s,r,h,p){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:h,treeForkCount:p}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=r,T.tail=s,T.tailMode=h,T.treeForkCount=p)}function Vg(n,i,s){var r=i.pendingProps,h=r.revealOrder,p=r.tail;r=r.children;var T=ut.current,S=(T&2)!==0;if(S?(T=T&1|2,i.flags|=128):T&=1,K(ut,T),Dt(n,i,r,s),r=Me?Rs:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&kg(n,s,i);else if(n.tag===19)kg(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)n=s.alternate,n!==null&&er(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Tf(i,!1,h,s,p,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&er(n)===null){i.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}Tf(i,!0,s,null,p,r);break;case"together":Tf(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function fi(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Ki|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(fl(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(l(153));if(i.child!==null){for(n=i.child,s=li(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=li(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function _f(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ja(n)))}function j4(n,i,s){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),Vi(i,ht,n.memoizedState.cache),No();break;case 27:case 5:fs(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Fc(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(zi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Hg(n,i,s):(zi(i),n=fi(n,i,s),n!==null?n.sibling:null);zi(i);break;case 19:var h=(n.flags&128)!==0;if(r=(s&i.childLanes)!==0,r||(fl(n,i,s,!1),r=(s&i.childLanes)!==0),h){if(r)return Vg(n,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),K(ut,ut.current),r)break;return null;case 22:return i.lanes=0,xg(n,i,s,i.pendingProps);case 24:Vi(i,ht,n.memoizedState.cache)}return fi(n,i,s)}function qg(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)mt=!0;else{if(!_f(n,s)&&(i.flags&128)===0)return mt=!1,j4(n,i,s);mt=(n.flags&131072)!==0}else mt=!1,Me&&(i.flags&1048576)!==0&&vm(i,Rs,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(n=xo(i.elementType),i.type=n,typeof n=="function")Cc(n)?(r=Go(n,r),i.tag=1,i=Gg(null,i,n,r,s)):(i.tag=0,i=hf(null,i,n,r,s));else{if(n!=null){var h=n.$$typeof;if(h===Q){i.tag=11,i=Ig(null,i,n,r,s);break e}else if(h===q){i.tag=14,i=Dg(null,i,n,r,s);break e}}throw i=xt(n)||n,Error(l(306,i,""))}}return i;case 0:return hf(n,i,i.type,i.pendingProps,s);case 1:return r=i.type,h=Go(r,i.pendingProps),Gg(n,i,r,h,s);case 3:e:{if(Pt(i,i.stateNode.containerInfo),n===null)throw Error(l(387));r=i.pendingProps;var p=i.memoizedState;h=p.element,Vc(n,i),Ls(i,r,null,s);var T=i.memoizedState;if(r=T.cache,Vi(i,ht,r),r!==p.cache&&bc(i,[ht],s,!0),bs(),r=T.element,p.isDehydrated)if(p={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Pg(n,i,r,s);break e}else if(r!==h){h=En(Error(l(424)),i),Ns(h),i=Pg(n,i,r,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ke=Rn(n.firstChild),Nt=i,Me=!0,Hi=null,Cn=!0,s=xm(i,null,r,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(No(),r===h){i=fi(n,i,s);break e}Dt(n,i,r,s)}i=i.child}return i;case 26:return fr(n,i),n===null?(s=W0(i.type,null,i.pendingProps,null))?i.memoizedState=s:Me||(s=i.type,n=i.pendingProps,r=Ir(ve.current).createElement(s),r[Rt]=i,r[Bt]=n,wt(r,s,n),St(r),i.stateNode=r):i.memoizedState=W0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return fs(i),n===null&&Me&&(r=i.stateNode=X0(i.type,i.pendingProps,ve.current),Nt=i,Cn=!0,h=Ke,$i(i.type)?(jf=h,Ke=Rn(r.firstChild)):Ke=h),Dt(n,i,i.pendingProps.children,s),fr(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Me&&((h=r=Ke)&&(r=D_(r,i.type,i.pendingProps,Cn),r!==null?(i.stateNode=r,Nt=i,Ke=Rn(r.firstChild),Cn=!1,h=!0):h=!1),h||ki(i)),fs(i),h=i.type,p=i.pendingProps,T=n!==null?n.memoizedProps:null,r=p.children,Xf(h,p)?r=null:T!==null&&Xf(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=Jc(n,i,F4,null,null,s),ea._currentValue=h),fr(n,i),Dt(n,i,r,s),i.child;case 6:return n===null&&Me&&((n=s=Ke)&&(s=w_(s,i.pendingProps,Cn),s!==null?(i.stateNode=s,Nt=i,Ke=null,n=!0):n=!1),n||ki(i)),null;case 13:return Hg(n,i,s);case 4:return Pt(i,i.stateNode.containerInfo),r=i.pendingProps,n===null?i.child=bo(i,null,r,s):Dt(n,i,r,s),i.child;case 11:return Ig(n,i,i.type,i.pendingProps,s);case 7:return Dt(n,i,i.pendingProps,s),i.child;case 8:return Dt(n,i,i.pendingProps.children,s),i.child;case 12:return Dt(n,i,i.pendingProps.children,s),i.child;case 10:return r=i.pendingProps,Vi(i,i.type,r.value),Dt(n,i,r.children,s),i.child;case 9:return h=i.type._context,r=i.pendingProps.children,Do(i),h=It(h),r=r(h),i.flags|=1,Dt(n,i,r,s),i.child;case 14:return Dg(n,i,i.type,i.pendingProps,s);case 15:return wg(n,i,i.type,i.pendingProps,s);case 19:return Vg(n,i,s);case 31:return $4(n,i,s);case 22:return xg(n,i,s,i.pendingProps);case 24:return Do(i),r=It(ht),n===null?(h=Pc(),h===null&&(h=ze,p=Lc(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=s),h=p),i.memoizedState={parent:r,cache:h},kc(i),Vi(i,ht,h)):((n.lanes&s)!==0&&(Vc(n,i),Ls(i,null,null,s),bs()),h=n.memoizedState,p=i.memoizedState,h.parent!==r?(h={parent:r,cache:r},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vi(i,ht,r)):(r=p.cache,Vi(i,ht,r),r!==h.cache&&bc(i,[ht],s,!0))),Dt(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function di(n){n.flags|=4}function Ef(n,i,s,r,h){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(h0())n.flags|=8192;else throw Uo=Za,Hc}else n.flags&=-16777217}function Bg(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!n1(i))if(h0())n.flags|=8192;else throw Uo=Za,Hc}function hr(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?_p():536870912,n.lanes|=i,Al|=i)}function qs(n,i){if(!Me)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Xe(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,r=0;if(i)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=r,n.childLanes=s,i}function e_(n,i,s){var r=i.pendingProps;switch(Ic(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(i),null;case 1:return Xe(i),null;case 3:return s=i.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),ri(ht),rt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(cl(i)?di(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wc())),Xe(i),null;case 26:var h=i.type,p=i.memoizedState;return n===null?(di(i),p!==null?(Xe(i),Bg(i,p)):(Xe(i),Ef(i,h,null,r,s))):p?p!==n.memoizedState?(di(i),Xe(i),Bg(i,p)):(Xe(i),i.flags&=-16777217):(n=n.memoizedProps,n!==r&&di(i),Xe(i),Ef(i,h,n,r,s)),null;case 27:if(Ca(i),s=ve.current,h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&di(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return Xe(i),null}n=ee.current,cl(i)?_m(i):(n=X0(h,r,s),i.stateNode=n,di(i))}return Xe(i),null;case 5:if(Ca(i),h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&di(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return Xe(i),null}if(p=ee.current,cl(i))_m(i);else{var T=Ir(ve.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof r.is=="string"?T.createElement("select",{is:r.is}):T.createElement("select"),r.multiple?p.multiple=!0:r.size&&(p.size=r.size);break;default:p=typeof r.is=="string"?T.createElement(h,{is:r.is}):T.createElement(h)}}p[Rt]=i,p[Bt]=r;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=p;e:switch(wt(p,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&di(i)}}return Xe(i),Ef(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,s),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==r&&di(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(l(166));if(n=ve.current,cl(i)){if(n=i.stateNode,s=i.memoizedProps,r=null,h=Nt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}n[Rt]=i,n=!!(n.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||H0(n.nodeValue,s)),n||ki(i,!0)}else n=Ir(n).createTextNode(r),n[Rt]=i,i.stateNode=n}return Xe(i),null;case 31:if(s=i.memoizedState,n===null||n.memoizedState!==null){if(r=cl(i),s!==null){if(n===null){if(!r)throw Error(l(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(557));n[Rt]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xe(i),n=!1}else s=wc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return i.flags&256?(sn(i),i):(sn(i),null);if((i.flags&128)!==0)throw Error(l(558))}return Xe(i),null;case 13:if(r=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=cl(i),r!==null&&r.dehydrated!==null){if(n===null){if(!h)throw Error(l(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[Rt]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xe(i),h=!1}else h=wc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(sn(i),i):(sn(i),null)}return sn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=r!==null,n=n!==null&&n.memoizedState!==null,s&&(r=i.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),p=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==h&&(r.flags|=2048)),s!==n&&s&&(i.child.flags|=8192),hr(i,i.updateQueue),Xe(i),null);case 4:return rt(),n===null&&zf(i.stateNode.containerInfo),Xe(i),null;case 10:return ri(i.type),Xe(i),null;case 19:if(H(ut),r=i.memoizedState,r===null)return Xe(i),null;if(h=(i.flags&128)!==0,p=r.rendering,p===null)if(h)qs(r,!1);else{if(it!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=er(n),p!==null){for(i.flags|=128,qs(r,!1),n=p.updateQueue,i.updateQueue=n,hr(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)mm(s,n),s=s.sibling;return K(ut,ut.current&1|2),Me&&si(i,r.treeForkCount),i.child}n=n.sibling}r.tail!==null&&jt()>vr&&(i.flags|=128,h=!0,qs(r,!1),i.lanes=4194304)}else{if(!h)if(n=er(p),n!==null){if(i.flags|=128,h=!0,n=n.updateQueue,i.updateQueue=n,hr(i,n),qs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!p.alternate&&!Me)return Xe(i),null}else 2*jt()-r.renderingStartTime>vr&&s!==536870912&&(i.flags|=128,h=!0,qs(r,!1),i.lanes=4194304);r.isBackwards?(p.sibling=i.child,i.child=p):(n=r.last,n!==null?n.sibling=p:i.child=p,r.last=p)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.renderingStartTime=jt(),n.sibling=null,s=ut.current,K(ut,h?s&1|2:s&1),Me&&si(i,r.treeForkCount),n):(Xe(i),null);case 22:case 23:return sn(i),zc(),r=i.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(s&536870912)!==0&&(i.flags&128)===0&&(Xe(i),i.subtreeFlags&6&&(i.flags|=8192)):Xe(i),s=i.updateQueue,s!==null&&hr(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048),n!==null&&H(wo),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ri(ht),Xe(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function t_(n,i){switch(Ic(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ri(ht),rt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ca(i),null;case 31:if(i.memoizedState!==null){if(sn(i),i.alternate===null)throw Error(l(340));No()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(sn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(l(340));No()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return H(ut),null;case 4:return rt(),null;case 10:return ri(i.type),null;case 22:case 23:return sn(i),zc(),n!==null&&H(wo),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ri(ht),null;case 25:return null;default:return null}}function Og(n,i){switch(Ic(i),i.tag){case 3:ri(ht),rt();break;case 26:case 27:case 5:Ca(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&sn(i);break;case 13:sn(i);break;case 19:H(ut);break;case 10:ri(i.type);break;case 22:case 23:sn(i),zc(),n!==null&&H(wo);break;case 24:ri(ht)}}function Bs(n,i){try{var s=i.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var h=r.next;s=h;do{if((s.tag&n)===n){r=void 0;var p=s.create,T=s.inst;r=p(),T.destroy=r}s=s.next}while(s!==h)}}catch(S){He(i,i.return,S)}}function Yi(n,i,s){try{var r=i.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var p=h.next;r=p;do{if((r.tag&n)===n){var T=r.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,h=i;var A=s,D=S;try{D()}catch(L){He(h,A,L)}}}r=r.next}while(r!==p)}}catch(L){He(i,i.return,L)}}function zg(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{bm(i,s)}catch(r){He(n,n.return,r)}}}function Fg(n,i,s){s.props=Go(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(r){He(n,i,r)}}function Os(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof s=="function"?n.refCleanup=s(r):s.current=r}}catch(h){He(n,i,h)}}function Kn(n,i){var s=n.ref,r=n.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(h){He(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){He(n,i,h)}else s.current=null}function Yg(n){var i=n.type,s=n.memoizedProps,r=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(h){He(n,n.return,h)}}function Sf(n,i,s){try{var r=n.stateNode;A_(r,n.type,s,i),r[Bt]=i}catch(h){He(n,n.return,h)}}function Jg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&$i(n.type)||n.tag===4}function Af(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Jg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&$i(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Cf(n,i,s){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ii));else if(r!==4&&(r===27&&$i(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Cf(n,i,s),n=n.sibling;n!==null;)Cf(n,i,s),n=n.sibling}function pr(n,i,s){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(r!==4&&(r===27&&$i(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(pr(n,i,s),n=n.sibling;n!==null;)pr(n,i,s),n=n.sibling}function Kg(n){var i=n.stateNode,s=n.memoizedProps;try{for(var r=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);wt(i,r,s),i[Rt]=n,i[Bt]=s}catch(p){He(n,n.return,p)}}var hi=!1,gt=!1,Mf=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,At=null;function n_(n,i){if(n=n.containerInfo,Jf=Gr,n=sm(n),yc(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var h=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var T=0,S=-1,A=-1,D=0,L=0,P=n,w=null;t:for(;;){for(var U;P!==s||h!==0&&P.nodeType!==3||(S=T+h),P!==p||r!==0&&P.nodeType!==3||(A=T+r),P.nodeType===3&&(T+=P.nodeValue.length),(U=P.firstChild)!==null;)w=P,P=U;for(;;){if(P===n)break t;if(w===s&&++D===h&&(S=T),w===p&&++L===r&&(A=T),(U=P.nextSibling)!==null)break;P=w,w=P.parentNode}P=U}s=S===-1||A===-1?null:{start:S,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kf={focusedElem:n,selectionRange:s},Gr=!1,At=i;At!==null;)if(i=At,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,At=n;else for(;At!==null;){switch(i=At,p=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)h=n[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,s=i,h=p.memoizedProps,p=p.memoizedState,r=s.stateNode;try{var j=Go(s.type,h);n=r.getSnapshotBeforeUpdate(j,p),r.__reactInternalSnapshotBeforeUpdate=n}catch(re){He(s,s.return,re)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Zf(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=i.sibling,n!==null){n.return=i.return,At=n;break}At=i.return}}function Qg(n,i,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:mi(n,s),r&4&&Bs(5,s);break;case 1:if(mi(n,s),r&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(T){He(s,s.return,T)}else{var h=Go(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){He(s,s.return,T)}}r&64&&zg(s),r&512&&Os(s,s.return);break;case 3:if(mi(n,s),r&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{bm(n,i)}catch(T){He(s,s.return,T)}}break;case 27:i===null&&r&4&&Kg(s);case 26:case 5:mi(n,s),i===null&&r&4&&Yg(s),r&512&&Os(s,s.return);break;case 12:mi(n,s);break;case 31:mi(n,s),r&4&&$g(n,s);break;case 13:mi(n,s),r&4&&jg(n,s),r&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=f_.bind(null,s),x_(n,s))));break;case 22:if(r=s.memoizedState!==null||hi,!r){i=i!==null&&i.memoizedState!==null||gt,h=hi;var p=gt;hi=r,(gt=i)&&!p?gi(n,s,(s.subtreeFlags&8772)!==0):mi(n,s),hi=h,gt=p}break;case 30:break;default:mi(n,s)}}function Zg(n){var i=n.alternate;i!==null&&(n.alternate=null,Zg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&ec(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var We=null,zt=!1;function pi(n,i,s){for(s=s.child;s!==null;)Wg(n,i,s),s=s.sibling}function Wg(n,i,s){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ds,s)}catch{}switch(s.tag){case 26:gt||Kn(s,i),pi(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:gt||Kn(s,i);var r=We,h=zt;$i(s.type)&&(We=s.stateNode,zt=!1),pi(n,i,s),Ws(s.stateNode),We=r,zt=h;break;case 5:gt||Kn(s,i);case 6:if(r=We,h=zt,We=null,pi(n,i,s),We=r,zt=h,We!==null)if(zt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(s.stateNode)}catch(p){He(s,i,p)}else try{We.removeChild(s.stateNode)}catch(p){He(s,i,p)}break;case 18:We!==null&&(zt?(n=We,z0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),xl(n)):z0(We,s.stateNode));break;case 4:r=We,h=zt,We=s.stateNode.containerInfo,zt=!0,pi(n,i,s),We=r,zt=h;break;case 0:case 11:case 14:case 15:Yi(2,s,i),gt||Yi(4,s,i),pi(n,i,s);break;case 1:gt||(Kn(s,i),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Fg(s,i,r)),pi(n,i,s);break;case 21:pi(n,i,s);break;case 22:gt=(r=gt)||s.memoizedState!==null,pi(n,i,s),gt=r;break;default:pi(n,i,s)}}function $g(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{xl(n)}catch(s){He(i,i.return,s)}}}function jg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xl(n)}catch(s){He(i,i.return,s)}}function i_(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Xg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Xg),i;default:throw Error(l(435,n.tag))}}function mr(n,i){var s=i_(n);i.forEach(function(r){if(!s.has(r)){s.add(r);var h=d_.bind(null,n,r);r.then(h,h)}})}function Ft(n,i){var s=i.deletions;if(s!==null)for(var r=0;r<s.length;r++){var h=s[r],p=n,T=i,S=T;e:for(;S!==null;){switch(S.tag){case 27:if($i(S.type)){We=S.stateNode,zt=!1;break e}break;case 5:We=S.stateNode,zt=!1;break e;case 3:case 4:We=S.stateNode.containerInfo,zt=!0;break e}S=S.return}if(We===null)throw Error(l(160));Wg(p,T,h),We=null,zt=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)e0(i,n),i=i.sibling}var kn=null;function e0(n,i){var s=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ft(i,n),Yt(n),r&4&&(Yi(3,n,n.return),Bs(3,n),Yi(5,n,n.return));break;case 1:Ft(i,n),Yt(n),r&512&&(gt||s===null||Kn(s,s.return)),r&64&&hi&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var h=kn;if(Ft(i,n),Yt(n),r&512&&(gt||s===null||Kn(s,s.return)),r&4){var p=s!==null?s.memoizedState:null;if(r=n.memoizedState,s===null)if(r===null)if(n.stateNode===null){e:{r=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(r){case"title":p=h.getElementsByTagName("title")[0],(!p||p[ms]||p[Rt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(r),h.head.insertBefore(p,h.querySelector("head > title"))),wt(p,r,s),p[Rt]=n,St(p),r=p;break e;case"link":var T=e1("link","href",h).get(r+(s.href||""));if(T){for(var S=0;S<T.length;S++)if(p=T[S],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(S,1);break t}}p=h.createElement(r),wt(p,r,s),h.head.appendChild(p);break;case"meta":if(T=e1("meta","content",h).get(r+(s.content||""))){for(S=0;S<T.length;S++)if(p=T[S],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(S,1);break t}}p=h.createElement(r),wt(p,r,s),h.head.appendChild(p);break;default:throw Error(l(468,r))}p[Rt]=n,St(p),r=p}n.stateNode=r}else t1(h,n.type,n.stateNode);else n.stateNode=j0(h,r,n.memoizedProps);else p!==r?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,r===null?t1(h,n.type,n.stateNode):j0(h,r,n.memoizedProps)):r===null&&n.stateNode!==null&&Sf(n,n.memoizedProps,s.memoizedProps)}break;case 27:Ft(i,n),Yt(n),r&512&&(gt||s===null||Kn(s,s.return)),s!==null&&r&4&&Sf(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Ft(i,n),Yt(n),r&512&&(gt||s===null||Kn(s,s.return)),n.flags&32){h=n.stateNode;try{el(h,"")}catch(j){He(n,n.return,j)}}r&4&&n.stateNode!=null&&(h=n.memoizedProps,Sf(n,h,s!==null?s.memoizedProps:h)),r&1024&&(Mf=!0);break;case 6:if(Ft(i,n),Yt(n),r&4){if(n.stateNode===null)throw Error(l(162));r=n.memoizedProps,s=n.stateNode;try{s.nodeValue=r}catch(j){He(n,n.return,j)}}break;case 3:if(xr=null,h=kn,kn=Dr(i.containerInfo),Ft(i,n),kn=h,Yt(n),r&4&&s!==null&&s.memoizedState.isDehydrated)try{xl(i.containerInfo)}catch(j){He(n,n.return,j)}Mf&&(Mf=!1,t0(n));break;case 4:r=kn,kn=Dr(n.stateNode.containerInfo),Ft(i,n),Yt(n),kn=r;break;case 12:Ft(i,n),Yt(n);break;case 31:Ft(i,n),Yt(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,mr(n,r)));break;case 13:Ft(i,n),Yt(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(yr=jt()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,mr(n,r)));break;case 22:h=n.memoizedState!==null;var A=s!==null&&s.memoizedState!==null,D=hi,L=gt;if(hi=D||h,gt=L||A,Ft(i,n),gt=L,hi=D,Yt(n),r&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||A||hi||gt||Po(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){A=s=i;try{if(p=A.stateNode,h)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=A.stateNode;var P=A.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null;S.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(j){He(A,A.return,j)}}}else if(i.tag===6){if(s===null){A=i;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(j){He(A,A.return,j)}}}else if(i.tag===18){if(s===null){A=i;try{var U=A.stateNode;h?F0(U,!0):F0(A.stateNode,!1)}catch(j){He(A,A.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=n.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,mr(n,s))));break;case 19:Ft(i,n),Yt(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,mr(n,r)));break;case 30:break;case 21:break;default:Ft(i,n),Yt(n)}}function Yt(n){var i=n.flags;if(i&2){try{for(var s,r=n.return;r!==null;){if(Jg(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var h=s.stateNode,p=Af(n);pr(n,p,h);break;case 5:var T=s.stateNode;s.flags&32&&(el(T,""),s.flags&=-33);var S=Af(n);pr(n,S,T);break;case 3:case 4:var A=s.stateNode.containerInfo,D=Af(n);Cf(n,D,A);break;default:throw Error(l(161))}}catch(L){He(n,n.return,L)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function t0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;t0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function mi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qg(n,i.alternate,i),i=i.sibling}function Po(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Yi(4,i,i.return),Po(i);break;case 1:Kn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Fg(i,i.return,s),Po(i);break;case 27:Ws(i.stateNode);case 26:case 5:Kn(i,i.return),Po(i);break;case 22:i.memoizedState===null&&Po(i);break;case 30:Po(i);break;default:Po(i)}n=n.sibling}}function gi(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,h=n,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:gi(h,p,s),Bs(4,p);break;case 1:if(gi(h,p,s),r=p,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(D){He(r,r.return,D)}if(r=p,h=r.updateQueue,h!==null){var S=r.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)Um(A[h],S)}catch(D){He(r,r.return,D)}}s&&T&64&&zg(p),Os(p,p.return);break;case 27:Kg(p);case 26:case 5:gi(h,p,s),s&&r===null&&T&4&&Yg(p),Os(p,p.return);break;case 12:gi(h,p,s);break;case 31:gi(h,p,s),s&&T&4&&$g(h,p);break;case 13:gi(h,p,s),s&&T&4&&jg(h,p);break;case 22:p.memoizedState===null&&gi(h,p,s),Os(p,p.return);break;case 30:break;default:gi(h,p,s)}i=i.sibling}}function Rf(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Is(s))}function Nf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Is(n))}function Vn(n,i,s,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n0(n,i,s,r),i=i.sibling}function n0(n,i,s,r){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Vn(n,i,s,r),h&2048&&Bs(9,i);break;case 1:Vn(n,i,s,r);break;case 3:Vn(n,i,s,r),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Is(n)));break;case 12:if(h&2048){Vn(n,i,s,r),n=i.stateNode;try{var p=i.memoizedProps,T=p.id,S=p.onPostCommit;typeof S=="function"&&S(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){He(i,i.return,A)}}else Vn(n,i,s,r);break;case 31:Vn(n,i,s,r);break;case 13:Vn(n,i,s,r);break;case 23:break;case 22:p=i.stateNode,T=i.alternate,i.memoizedState!==null?p._visibility&2?Vn(n,i,s,r):zs(n,i):p._visibility&2?Vn(n,i,s,r):(p._visibility|=2,_l(n,i,s,r,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Rf(T,i);break;case 24:Vn(n,i,s,r),h&2048&&Nf(i.alternate,i);break;default:Vn(n,i,s,r)}}function _l(n,i,s,r,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=n,T=i,S=s,A=r,D=T.flags;switch(T.tag){case 0:case 11:case 15:_l(p,T,S,A,h),Bs(8,T);break;case 23:break;case 22:var L=T.stateNode;T.memoizedState!==null?L._visibility&2?_l(p,T,S,A,h):zs(p,T):(L._visibility|=2,_l(p,T,S,A,h)),h&&D&2048&&Rf(T.alternate,T);break;case 24:_l(p,T,S,A,h),h&&D&2048&&Nf(T.alternate,T);break;default:_l(p,T,S,A,h)}i=i.sibling}}function zs(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,r=i,h=r.flags;switch(r.tag){case 22:zs(s,r),h&2048&&Rf(r.alternate,r);break;case 24:zs(s,r),h&2048&&Nf(r.alternate,r);break;default:zs(s,r)}i=i.sibling}}var Fs=8192;function El(n,i,s){if(n.subtreeFlags&Fs)for(n=n.child;n!==null;)i0(n,i,s),n=n.sibling}function i0(n,i,s){switch(n.tag){case 26:El(n,i,s),n.flags&Fs&&n.memoizedState!==null&&z_(s,kn,n.memoizedState,n.memoizedProps);break;case 5:El(n,i,s);break;case 3:case 4:var r=kn;kn=Dr(n.stateNode.containerInfo),El(n,i,s),kn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Fs,Fs=16777216,El(n,i,s),Fs=r):El(n,i,s));break;default:El(n,i,s)}}function o0(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ys(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];At=r,s0(r,n)}o0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)l0(n),n=n.sibling}function l0(n){switch(n.tag){case 0:case 11:case 15:Ys(n),n.flags&2048&&Yi(9,n,n.return);break;case 3:Ys(n);break;case 12:Ys(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,gr(n)):Ys(n);break;default:Ys(n)}}function gr(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];At=r,s0(r,n)}o0(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Yi(8,i,i.return),gr(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,gr(i));break;default:gr(i)}n=n.sibling}}function s0(n,i){for(;At!==null;){var s=At;switch(s.tag){case 0:case 11:case 15:Yi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Is(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,At=r;else e:for(s=n;At!==null;){r=At;var h=r.sibling,p=r.return;if(Zg(r),r===s){At=null;break e}if(h!==null){h.return=p,At=h;break e}At=p}}}var o_={getCacheForType:function(n){var i=It(ht),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s},cacheSignal:function(){return It(ht).controller.signal}},l_=typeof WeakMap=="function"?WeakMap:Map,Ue=0,ze=null,Te=null,Se=0,Pe=0,an=null,Ji=!1,Sl=!1,If=!1,yi=0,it=0,Ki=0,Ho=0,Df=0,rn=0,Al=0,Js=null,Jt=null,wf=!1,yr=0,a0=0,vr=1/0,Tr=null,Xi=null,_t=0,Qi=null,Cl=null,vi=0,xf=0,Uf=null,r0=null,Ks=0,bf=null;function un(){return(Ue&2)!==0&&Se!==0?Se&-Se:x.T!==null?Vf():Cp()}function u0(){if(rn===0)if((Se&536870912)===0||Me){var n=Na;Na<<=1,(Na&3932160)===0&&(Na=262144),rn=n}else rn=536870912;return n=ln.current,n!==null&&(n.flags|=32),rn}function Kt(n,i,s){(n===ze&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)&&(Ml(n,0),Zi(n,Se,rn,!1)),ps(n,s),((Ue&2)===0||n!==ze)&&(n===ze&&((Ue&2)===0&&(Ho|=s),it===4&&Zi(n,Se,rn,!1)),Xn(n))}function c0(n,i,s){if((Ue&6)!==0)throw Error(l(327));var r=!s&&(i&127)===0&&(i&n.expiredLanes)===0||hs(n,i),h=r?r_(n,i):Gf(n,i,!0),p=r;do{if(h===0){Sl&&!r&&Zi(n,i,0,!1);break}else{if(s=n.current.alternate,p&&!s_(s)){h=Gf(n,i,!1),p=!1;continue}if(h===2){if(p=i,n.errorRecoveryDisabledLanes&p)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var S=n;h=Js;var A=S.current.memoizedState.isDehydrated;if(A&&(Ml(S,T).flags|=256),T=Gf(S,T,!1),T!==2){if(If&&!A){S.errorRecoveryDisabledLanes|=p,Ho|=p,h=4;break e}p=Jt,Jt=h,p!==null&&(Jt===null?Jt=p:Jt.push.apply(Jt,p))}h=T}if(p=!1,h!==2)continue}}if(h===1){Ml(n,0),Zi(n,i,0,!0);break}e:{switch(r=n,p=h,p){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Zi(r,i,rn,!Ji);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(h=yr+300-jt(),10<h)){if(Zi(r,i,rn,!Ji),Da(r,0,!0)!==0)break e;vi=i,r.timeoutHandle=B0(f0.bind(null,r,s,Jt,Tr,wf,i,rn,Ho,Al,Ji,p,"Throttled",-0,0),h);break e}f0(r,s,Jt,Tr,wf,i,rn,Ho,Al,Ji,p,null,-0,0)}}break}while(!0);Xn(n)}function f0(n,i,s,r,h,p,T,S,A,D,L,P,w,U){if(n.timeoutHandle=-1,P=i.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},i0(i,p,P);var j=(p&62914560)===p?yr-jt():(p&4194048)===p?a0-jt():0;if(j=F_(P,j),j!==null){vi=p,n.cancelPendingCommit=j(T0.bind(null,n,i,p,s,r,h,T,S,A,L,P,null,w,U)),Zi(n,p,T,!D);return}}T0(n,i,p,s,r,h,T,S,A)}function s_(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var h=s[r],p=h.getSnapshot;h=h.value;try{if(!nn(p(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zi(n,i,s,r){i&=~Df,i&=~Ho,n.suspendedLanes|=i,n.pingedLanes&=~i,r&&(n.warmLanes|=i),r=n.expirationTimes;for(var h=i;0<h;){var p=31-tn(h),T=1<<p;r[p]=-1,h&=~T}s!==0&&Ep(n,s,i)}function _r(){return(Ue&6)===0?(Xs(0),!1):!0}function Lf(){if(Te!==null){if(Pe===0)var n=Te.return;else n=Te,ai=Io=null,Qc(n),ml=null,ws=0,n=Te;for(;n!==null;)Og(n.alternate,n),n=n.return;Te=null}}function Ml(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,R_(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),vi=0,Lf(),ze=n,Te=s=li(n.current,null),Se=i,Pe=0,an=null,Ji=!1,Sl=hs(n,i),If=!1,Al=rn=Df=Ho=Ki=it=0,Jt=Js=null,wf=!1,(i&8)!==0&&(i|=i&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=i;0<r;){var h=31-tn(r),p=1<<h;i|=n[h],r&=~p}return yi=i,Ba(),s}function d0(n,i){ge=null,x.H=ks,i===pl||i===Qa?(i=Im(),Pe=3):i===Hc?(i=Im(),Pe=4):Pe=i===df?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,an=i,Te===null&&(it=1,ur(n,En(i,n.current)))}function h0(){var n=ln.current;return n===null?!0:(Se&4194048)===Se?Mn===null:(Se&62914560)===Se||(Se&536870912)!==0?n===Mn:!1}function p0(){var n=x.H;return x.H=ks,n===null?ks:n}function m0(){var n=x.A;return x.A=o_,n}function Er(){it=4,Ji||(Se&4194048)!==Se&&ln.current!==null||(Sl=!0),(Ki&134217727)===0&&(Ho&134217727)===0||ze===null||Zi(ze,Se,rn,!1)}function Gf(n,i,s){var r=Ue;Ue|=2;var h=p0(),p=m0();(ze!==n||Se!==i)&&(Tr=null,Ml(n,i)),i=!1;var T=it;e:do try{if(Pe!==0&&Te!==null){var S=Te,A=an;switch(Pe){case 8:Lf(),T=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(i=!0);var D=Pe;if(Pe=0,an=null,Rl(n,S,A,D),s&&Sl){T=0;break e}break;default:D=Pe,Pe=0,an=null,Rl(n,S,A,D)}}a_(),T=it;break}catch(L){d0(n,L)}while(!0);return i&&n.shellSuspendCounter++,ai=Io=null,Ue=r,x.H=h,x.A=p,Te===null&&(ze=null,Se=0,Ba()),T}function a_(){for(;Te!==null;)g0(Te)}function r_(n,i){var s=Ue;Ue|=2;var r=p0(),h=m0();ze!==n||Se!==i?(Tr=null,vr=jt()+500,Ml(n,i)):Sl=hs(n,i);e:do try{if(Pe!==0&&Te!==null){i=Te;var p=an;t:switch(Pe){case 1:Pe=0,an=null,Rl(n,i,p,1);break;case 2:case 9:if(Rm(p)){Pe=0,an=null,y0(i);break}i=function(){Pe!==2&&Pe!==9||ze!==n||(Pe=7),Xn(n)},p.then(i,i);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Rm(p)?(Pe=0,an=null,y0(i)):(Pe=0,an=null,Rl(n,i,p,7));break;case 5:var T=null;switch(Te.tag){case 26:T=Te.memoizedState;case 5:case 27:var S=Te;if(T?n1(T):S.stateNode.complete){Pe=0,an=null;var A=S.sibling;if(A!==null)Te=A;else{var D=S.return;D!==null?(Te=D,Sr(D)):Te=null}break t}}Pe=0,an=null,Rl(n,i,p,5);break;case 6:Pe=0,an=null,Rl(n,i,p,6);break;case 8:Lf(),it=6;break e;default:throw Error(l(462))}}u_();break}catch(L){d0(n,L)}while(!0);return ai=Io=null,x.H=r,x.A=h,Ue=s,Te!==null?0:(ze=null,Se=0,Ba(),it)}function u_(){for(;Te!==null&&!UT();)g0(Te)}function g0(n){var i=qg(n.alternate,n,yi);n.memoizedProps=n.pendingProps,i===null?Sr(n):Te=i}function y0(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=Lg(s,i,i.pendingProps,i.type,void 0,Se);break;case 11:i=Lg(s,i,i.pendingProps,i.type.render,i.ref,Se);break;case 5:Qc(i);default:Og(s,i),i=Te=mm(i,yi),i=qg(s,i,yi)}n.memoizedProps=n.pendingProps,i===null?Sr(n):Te=i}function Rl(n,i,s,r){ai=Io=null,Qc(i),ml=null,ws=0;var h=i.return;try{if(W4(n,h,i,s,Se)){it=1,ur(n,En(s,n.current)),Te=null;return}}catch(p){if(h!==null)throw Te=h,p;it=1,ur(n,En(s,n.current)),Te=null;return}i.flags&32768?(Me||r===1?n=!0:Sl||(Se&536870912)!==0?n=!1:(Ji=n=!0,(r===2||r===9||r===3||r===6)&&(r=ln.current,r!==null&&r.tag===13&&(r.flags|=16384))),v0(i,n)):Sr(i)}function Sr(n){var i=n;do{if((i.flags&32768)!==0){v0(i,Ji);return}n=i.return;var s=e_(i.alternate,i,yi);if(s!==null){Te=s;return}if(i=i.sibling,i!==null){Te=i;return}Te=i=n}while(i!==null);it===0&&(it=5)}function v0(n,i){do{var s=t_(n.alternate,n);if(s!==null){s.flags&=32767,Te=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Te=n;return}Te=n=s}while(n!==null);it=6,Te=null}function T0(n,i,s,r,h,p,T,S,A){n.cancelPendingCommit=null;do Ar();while(_t!==0);if((Ue&6)!==0)throw Error(l(327));if(i!==null){if(i===n.current)throw Error(l(177));if(p=i.lanes|i.childLanes,p|=Sc,OT(n,s,p,T,S,A),n===ze&&(Te=ze=null,Se=0),Cl=i,Qi=n,vi=s,xf=p,Uf=h,r0=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,h_(Ma,function(){return C0(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=x.T,x.T=null,h=F.p,F.p=2,T=Ue,Ue|=4;try{n_(n,i,s)}finally{Ue=T,F.p=h,x.T=r}}_t=1,_0(),E0(),S0()}}function _0(){if(_t===1){_t=0;var n=Qi,i=Cl,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=x.T,x.T=null;var r=F.p;F.p=2;var h=Ue;Ue|=4;try{e0(i,n);var p=Kf,T=sm(n.containerInfo),S=p.focusedElem,A=p.selectionRange;if(T!==S&&S&&S.ownerDocument&&lm(S.ownerDocument.documentElement,S)){if(A!==null&&yc(S)){var D=A.start,L=A.end;if(L===void 0&&(L=D),"selectionStart"in S)S.selectionStart=D,S.selectionEnd=Math.min(L,S.value.length);else{var P=S.ownerDocument||document,w=P&&P.defaultView||window;if(w.getSelection){var U=w.getSelection(),j=S.textContent.length,re=Math.min(A.start,j),Be=A.end===void 0?re:Math.min(A.end,j);!U.extend&&re>Be&&(T=Be,Be=re,re=T);var N=om(S,re),M=om(S,Be);if(N&&M&&(U.rangeCount!==1||U.anchorNode!==N.node||U.anchorOffset!==N.offset||U.focusNode!==M.node||U.focusOffset!==M.offset)){var I=P.createRange();I.setStart(N.node,N.offset),U.removeAllRanges(),re>Be?(U.addRange(I),U.extend(M.node,M.offset)):(I.setEnd(M.node,M.offset),U.addRange(I))}}}}for(P=[],U=S;U=U.parentNode;)U.nodeType===1&&P.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<P.length;S++){var G=P[S];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Gr=!!Jf,Kf=Jf=null}finally{Ue=h,F.p=r,x.T=s}}n.current=i,_t=2}}function E0(){if(_t===2){_t=0;var n=Qi,i=Cl,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=x.T,x.T=null;var r=F.p;F.p=2;var h=Ue;Ue|=4;try{Qg(n,i.alternate,i)}finally{Ue=h,F.p=r,x.T=s}}_t=3}}function S0(){if(_t===4||_t===3){_t=0,bT();var n=Qi,i=Cl,s=vi,r=r0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?_t=5:(_t=0,Cl=Qi=null,A0(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Xi=null),$u(s),i=i.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ds,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=x.T,h=F.p,F.p=2,x.T=null;try{for(var p=n.onRecoverableError,T=0;T<r.length;T++){var S=r[T];p(S.value,{componentStack:S.stack})}}finally{x.T=i,F.p=h}}(vi&3)!==0&&Ar(),Xn(n),h=n.pendingLanes,(s&261930)!==0&&(h&42)!==0?n===bf?Ks++:(Ks=0,bf=n):Ks=0,Xs(0)}}function A0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Is(i)))}function Ar(){return _0(),E0(),S0(),C0()}function C0(){if(_t!==5)return!1;var n=Qi,i=xf;xf=0;var s=$u(vi),r=x.T,h=F.p;try{F.p=32>s?32:s,x.T=null,s=Uf,Uf=null;var p=Qi,T=vi;if(_t=0,Cl=Qi=null,vi=0,(Ue&6)!==0)throw Error(l(331));var S=Ue;if(Ue|=4,l0(p.current),n0(p,p.current,T,s),Ue=S,Xs(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ds,p)}catch{}return!0}finally{F.p=h,x.T=r,A0(n,i)}}function M0(n,i,s){i=En(s,i),i=ff(n.stateNode,i,2),n=Oi(n,i,2),n!==null&&(ps(n,2),Xn(n))}function He(n,i,s){if(n.tag===3)M0(n,n,s);else for(;i!==null;){if(i.tag===3){M0(i,n,s);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xi===null||!Xi.has(r))){n=En(s,n),s=Rg(2),r=Oi(i,s,2),r!==null&&(Ng(s,r,i,n),ps(r,2),Xn(r));break}}i=i.return}}function Pf(n,i,s){var r=n.pingCache;if(r===null){r=n.pingCache=new l_;var h=new Set;r.set(i,h)}else h=r.get(i),h===void 0&&(h=new Set,r.set(i,h));h.has(s)||(If=!0,h.add(s),n=c_.bind(null,n,i,s),i.then(n,n))}function c_(n,i,s){var r=n.pingCache;r!==null&&r.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ze===n&&(Se&s)===s&&(it===4||it===3&&(Se&62914560)===Se&&300>jt()-yr?(Ue&2)===0&&Ml(n,0):Df|=s,Al===Se&&(Al=0)),Xn(n)}function R0(n,i){i===0&&(i=_p()),n=Mo(n,i),n!==null&&(ps(n,i),Xn(n))}function f_(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),R0(n,s)}function d_(n,i){var s=0;switch(n.tag){case 31:case 13:var r=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(i),R0(n,s)}function h_(n,i){return Xu(n,i)}var Cr=null,Nl=null,Hf=!1,Mr=!1,kf=!1,Wi=0;function Xn(n){n!==Nl&&n.next===null&&(Nl===null?Cr=Nl=n:Nl=Nl.next=n),Mr=!0,Hf||(Hf=!0,m_())}function Xs(n,i){if(!kf&&Mr){kf=!0;do for(var s=!1,r=Cr;r!==null;){if(n!==0){var h=r.pendingLanes;if(h===0)var p=0;else{var T=r.suspendedLanes,S=r.pingedLanes;p=(1<<31-tn(42|n)+1)-1,p&=h&~(T&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,w0(r,p))}else p=Se,p=Da(r,r===ze?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(p&3)===0||hs(r,p)||(s=!0,w0(r,p));r=r.next}while(s);kf=!1}}function p_(){N0()}function N0(){Mr=Hf=!1;var n=0;Wi!==0&&M_()&&(n=Wi);for(var i=jt(),s=null,r=Cr;r!==null;){var h=r.next,p=I0(r,i);p===0?(r.next=null,s===null?Cr=h:s.next=h,h===null&&(Nl=s)):(s=r,(n!==0||(p&3)!==0)&&(Mr=!0)),r=h}_t!==0&&_t!==5||Xs(n),Wi!==0&&(Wi=0)}function I0(n,i){for(var s=n.suspendedLanes,r=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var T=31-tn(p),S=1<<T,A=h[T];A===-1?((S&s)===0||(S&r)!==0)&&(h[T]=BT(S,i)):A<=i&&(n.expiredLanes|=S),p&=~S}if(i=ze,s=Se,s=Da(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,s===0||n===i&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&Qu(r),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||hs(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(r!==null&&Qu(r),$u(s)){case 2:case 8:s=vp;break;case 32:s=Ma;break;case 268435456:s=Tp;break;default:s=Ma}return r=D0.bind(null,n),s=Xu(s,r),n.callbackPriority=i,n.callbackNode=s,i}return r!==null&&r!==null&&Qu(r),n.callbackPriority=2,n.callbackNode=null,2}function D0(n,i){if(_t!==0&&_t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Ar()&&n.callbackNode!==s)return null;var r=Se;return r=Da(n,n===ze?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(c0(n,r,i),I0(n,jt()),n.callbackNode!=null&&n.callbackNode===s?D0.bind(null,n):null)}function w0(n,i){if(Ar())return null;c0(n,i,!0)}function m_(){N_(function(){(Ue&6)!==0?Xu(yp,p_):N0()})}function Vf(){if(Wi===0){var n=dl;n===0&&(n=Ra,Ra<<=1,(Ra&261888)===0&&(Ra=256)),Wi=n}return Wi}function x0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ba(""+n)}function U0(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function g_(n,i,s,r,h){if(i==="submit"&&s&&s.stateNode===h){var p=x0((h[Bt]||null).action),T=r.submitter;T&&(i=(i=T[Bt]||null)?x0(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var S=new Ha("action","action",null,r,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Wi!==0){var A=T?U0(h,T):new FormData(h);lf(s,{pending:!0,data:A,method:h.method,action:p},null,A)}}else typeof p=="function"&&(S.preventDefault(),A=T?U0(h,T):new FormData(h),lf(s,{pending:!0,data:A,method:h.method,action:p},p,A))},currentTarget:h}]})}}for(var qf=0;qf<Ec.length;qf++){var Bf=Ec[qf],y_=Bf.toLowerCase(),v_=Bf[0].toUpperCase()+Bf.slice(1);Hn(y_,"on"+v_)}Hn(um,"onAnimationEnd"),Hn(cm,"onAnimationIteration"),Hn(fm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(L4,"onTransitionRun"),Hn(G4,"onTransitionStart"),Hn(P4,"onTransitionCancel"),Hn(dm,"onTransitionEnd"),$o("onMouseEnter",["mouseout","mouseover"]),$o("onMouseLeave",["mouseout","mouseover"]),$o("onPointerEnter",["pointerout","pointerover"]),$o("onPointerLeave",["pointerout","pointerover"]),Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qs));function b0(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var r=n[s],h=r.event;r=r.listeners;e:{var p=void 0;if(i)for(var T=r.length-1;0<=T;T--){var S=r[T],A=S.instance,D=S.currentTarget;if(S=S.listener,A!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=D;try{p(h)}catch(L){qa(L)}h.currentTarget=null,p=A}else for(T=0;T<r.length;T++){if(S=r[T],A=S.instance,D=S.currentTarget,S=S.listener,A!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=D;try{p(h)}catch(L){qa(L)}h.currentTarget=null,p=A}}}}function _e(n,i){var s=i[ju];s===void 0&&(s=i[ju]=new Set);var r=n+"__bubble";s.has(r)||(L0(i,n,2,!1),s.add(r))}function Of(n,i,s){var r=0;i&&(r|=4),L0(s,n,r,i)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function zf(n){if(!n[Rr]){n[Rr]=!0,Np.forEach(function(s){s!=="selectionchange"&&(T_.has(s)||Of(s,!1,n),Of(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Rr]||(i[Rr]=!0,Of("selectionchange",!1,i))}}function L0(n,i,s,r){switch(u1(i)){case 2:var h=K_;break;case 8:h=X_;break;default:h=od}s=h.bind(null,i,s,n),h=void 0,!rc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),r?h!==void 0?n.addEventListener(i,s,{capture:!0,passive:h}):n.addEventListener(i,s,!0):h!==void 0?n.addEventListener(i,s,{passive:h}):n.addEventListener(i,s,!1)}function Ff(n,i,s,r,h){var p=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var S=r.stateNode.containerInfo;if(S===h)break;if(T===4)for(T=r.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;S!==null;){if(T=Qo(S),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){r=p=T;continue e}S=S.parentNode}}r=r.return}Vp(function(){var D=p,L=sc(s),P=[];e:{var w=hm.get(n);if(w!==void 0){var U=Ha,j=n;switch(n){case"keypress":if(Ga(s)===0)break e;case"keydown":case"keyup":U=d4;break;case"focusin":j="focus",U=dc;break;case"focusout":j="blur",U=dc;break;case"beforeblur":case"afterblur":U=dc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=e4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=m4;break;case um:case cm:case fm:U=i4;break;case dm:U=y4;break;case"scroll":case"scrollend":U=$T;break;case"wheel":U=T4;break;case"copy":case"cut":case"paste":U=l4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Fp;break;case"toggle":case"beforetoggle":U=E4}var re=(i&4)!==0,Be=!re&&(n==="scroll"||n==="scrollend"),N=re?w!==null?w+"Capture":null:w;re=[];for(var M=D,I;M!==null;){var G=M;if(I=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||I===null||N===null||(G=ys(M,N),G!=null&&re.push(Zs(M,G,I))),Be)break;M=M.return}0<re.length&&(w=new U(w,j,null,s,L),P.push({event:w,listeners:re}))}}if((i&7)===0){e:{if(w=n==="mouseover"||n==="pointerover",U=n==="mouseout"||n==="pointerout",w&&s!==lc&&(j=s.relatedTarget||s.fromElement)&&(Qo(j)||j[Xo]))break e;if((U||w)&&(w=L.window===L?L:(w=L.ownerDocument)?w.defaultView||w.parentWindow:window,U?(j=s.relatedTarget||s.toElement,U=D,j=j?Qo(j):null,j!==null&&(Be=u(j),re=j.tag,j!==Be||re!==5&&re!==27&&re!==6)&&(j=null)):(U=null,j=D),U!==j)){if(re=Op,G="onMouseLeave",N="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(re=Fp,G="onPointerLeave",N="onPointerEnter",M="pointer"),Be=U==null?w:gs(U),I=j==null?w:gs(j),w=new re(G,M+"leave",U,s,L),w.target=Be,w.relatedTarget=I,G=null,Qo(L)===D&&(re=new re(N,M+"enter",j,s,L),re.target=I,re.relatedTarget=Be,G=re),Be=G,U&&j)t:{for(re=__,N=U,M=j,I=0,G=N;G;G=re(G))I++;G=0;for(var se=M;se;se=re(se))G++;for(;0<I-G;)N=re(N),I--;for(;0<G-I;)M=re(M),G--;for(;I--;){if(N===M||M!==null&&N===M.alternate){re=N;break t}N=re(N),M=re(M)}re=null}else re=null;U!==null&&G0(P,w,U,re,!1),j!==null&&Be!==null&&G0(P,Be,j,re,!0)}}e:{if(w=D?gs(D):window,U=w.nodeName&&w.nodeName.toLowerCase(),U==="select"||U==="input"&&w.type==="file")var Ie=$p;else if(Zp(w))if(jp)Ie=x4;else{Ie=D4;var te=I4}else U=w.nodeName,!U||U.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?D&&oc(D.elementType)&&(Ie=$p):Ie=w4;if(Ie&&(Ie=Ie(n,D))){Wp(P,Ie,s,L);break e}te&&te(n,w,D),n==="focusout"&&D&&w.type==="number"&&D.memoizedProps.value!=null&&ic(w,"number",w.value)}switch(te=D?gs(D):window,n){case"focusin":(Zp(te)||te.contentEditable==="true")&&(ol=te,vc=D,Ms=null);break;case"focusout":Ms=vc=ol=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,am(P,s,L);break;case"selectionchange":if(b4)break;case"keydown":case"keyup":am(P,s,L)}var ye;if(pc)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else il?Xp(n,s)&&(Ae="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(Yp&&s.locale!=="ko"&&(il||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&il&&(ye=qp()):(Gi=L,uc="value"in Gi?Gi.value:Gi.textContent,il=!0)),te=Nr(D,Ae),0<te.length&&(Ae=new zp(Ae,n,null,s,L),P.push({event:Ae,listeners:te}),ye?Ae.data=ye:(ye=Qp(s),ye!==null&&(Ae.data=ye)))),(ye=A4?C4(n,s):M4(n,s))&&(Ae=Nr(D,"onBeforeInput"),0<Ae.length&&(te=new zp("onBeforeInput","beforeinput",null,s,L),P.push({event:te,listeners:Ae}),te.data=ye)),g_(P,n,D,s,L)}b0(P,i)})}function Zs(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Nr(n,i){for(var s=i+"Capture",r=[];n!==null;){var h=n,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=ys(n,s),h!=null&&r.unshift(Zs(n,h,p)),h=ys(n,i),h!=null&&r.push(Zs(n,h,p))),n.tag===3)return r;n=n.return}return[]}function __(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function G0(n,i,s,r,h){for(var p=i._reactName,T=[];s!==null&&s!==r;){var S=s,A=S.alternate,D=S.stateNode;if(S=S.tag,A!==null&&A===r)break;S!==5&&S!==26&&S!==27||D===null||(A=D,h?(D=ys(s,p),D!=null&&T.unshift(Zs(s,D,A))):h||(D=ys(s,p),D!=null&&T.push(Zs(s,D,A)))),s=s.return}T.length!==0&&n.push({event:i,listeners:T})}var E_=/\r\n?/g,S_=/\u0000|\uFFFD/g;function P0(n){return(typeof n=="string"?n:""+n).replace(E_,`
`).replace(S_,"")}function H0(n,i){return i=P0(i),P0(n)===i}function qe(n,i,s,r,h,p){switch(s){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||el(n,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&el(n,""+r);break;case"className":xa(n,"class",r);break;case"tabIndex":xa(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(n,s,r);break;case"style":Hp(n,r,p);break;case"data":if(i!=="object"){xa(n,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(s);break}r=ba(""+r),n.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&qe(n,i,"name",h.name,h,null),qe(n,i,"formEncType",h.formEncType,h,null),qe(n,i,"formMethod",h.formMethod,h,null),qe(n,i,"formTarget",h.formTarget,h,null)):(qe(n,i,"encType",h.encType,h,null),qe(n,i,"method",h.method,h,null),qe(n,i,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(s);break}r=ba(""+r),n.setAttribute(s,r);break;case"onClick":r!=null&&(n.onclick=ii);break;case"onScroll":r!=null&&_e("scroll",n);break;case"onScrollEnd":r!=null&&_e("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(h.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}s=ba(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(s,""+r):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":r===!0?n.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(s,r):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(s,r):n.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(s):n.setAttribute(s,r);break;case"popover":_e("beforetoggle",n),_e("toggle",n),wa(n,"popover",r);break;case"xlinkActuate":ni(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ni(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ni(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ni(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ni(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ni(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ni(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ni(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ni(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":wa(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ZT.get(s)||s,wa(n,s,r))}}function Yf(n,i,s,r,h,p){switch(s){case"style":Hp(n,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(h.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"children":typeof r=="string"?el(n,r):(typeof r=="number"||typeof r=="bigint")&&el(n,""+r);break;case"onScroll":r!=null&&_e("scroll",n);break;case"onScrollEnd":r!=null&&_e("scrollend",n);break;case"onClick":r!=null&&(n.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ip.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),p=n[Bt]||null,p=p!=null?p[s]:null,typeof p=="function"&&n.removeEventListener(i,p,h),typeof r=="function")){typeof p!="function"&&p!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,r,h);break e}s in n?n[s]=r:r===!0?n.setAttribute(s,""):wa(n,s,r)}}}function wt(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",n),_e("load",n);var r=!1,h=!1,p;for(p in s)if(s.hasOwnProperty(p)){var T=s[p];if(T!=null)switch(p){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:qe(n,i,p,T,s,null)}}h&&qe(n,i,"srcSet",s.srcSet,s,null),r&&qe(n,i,"src",s.src,s,null);return;case"input":_e("invalid",n);var S=p=T=h=null,A=null,D=null;for(r in s)if(s.hasOwnProperty(r)){var L=s[r];if(L!=null)switch(r){case"name":h=L;break;case"type":T=L;break;case"checked":A=L;break;case"defaultChecked":D=L;break;case"value":p=L;break;case"defaultValue":S=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,i));break;default:qe(n,i,r,L,s,null)}}bp(n,p,S,A,D,T,h,!1);return;case"select":_e("invalid",n),r=T=p=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":p=S;break;case"defaultValue":T=S;break;case"multiple":r=S;default:qe(n,i,h,S,s,null)}i=p,s=T,n.multiple=!!r,i!=null?jo(n,!!r,i,!1):s!=null&&jo(n,!!r,s,!0);return;case"textarea":_e("invalid",n),p=h=r=null;for(T in s)if(s.hasOwnProperty(T)&&(S=s[T],S!=null))switch(T){case"value":r=S;break;case"defaultValue":h=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:qe(n,i,T,S,s,null)}Gp(n,r,h,p);return;case"option":for(A in s)if(s.hasOwnProperty(A)&&(r=s[A],r!=null))switch(A){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:qe(n,i,A,r,s,null)}return;case"dialog":_e("beforetoggle",n),_e("toggle",n),_e("cancel",n),_e("close",n);break;case"iframe":case"object":_e("load",n);break;case"video":case"audio":for(r=0;r<Qs.length;r++)_e(Qs[r],n);break;case"image":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"embed":case"source":case"link":_e("error",n),_e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in s)if(s.hasOwnProperty(D)&&(r=s[D],r!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:qe(n,i,D,r,s,null)}return;default:if(oc(i)){for(L in s)s.hasOwnProperty(L)&&(r=s[L],r!==void 0&&Yf(n,i,L,r,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(r=s[S],r!=null&&qe(n,i,S,r,s,null))}function A_(n,i,s,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,T=null,S=null,A=null,D=null,L=null;for(U in s){var P=s[U];if(s.hasOwnProperty(U)&&P!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":A=P;default:r.hasOwnProperty(U)||qe(n,i,U,null,r,P)}}for(var w in r){var U=r[w];if(P=s[w],r.hasOwnProperty(w)&&(U!=null||P!=null))switch(w){case"type":p=U;break;case"name":h=U;break;case"checked":D=U;break;case"defaultChecked":L=U;break;case"value":T=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,i));break;default:U!==P&&qe(n,i,w,U,r,P)}}nc(n,T,S,A,D,L,p,h);return;case"select":U=T=S=w=null;for(p in s)if(A=s[p],s.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":U=A;default:r.hasOwnProperty(p)||qe(n,i,p,null,r,A)}for(h in r)if(p=r[h],A=s[h],r.hasOwnProperty(h)&&(p!=null||A!=null))switch(h){case"value":w=p;break;case"defaultValue":S=p;break;case"multiple":T=p;default:p!==A&&qe(n,i,h,p,r,A)}i=S,s=T,r=U,w!=null?jo(n,!!s,w,!1):!!r!=!!s&&(i!=null?jo(n,!!s,i,!0):jo(n,!!s,s?[]:"",!1));return;case"textarea":U=w=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!r.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:qe(n,i,S,null,r,h)}for(T in r)if(h=r[T],p=s[T],r.hasOwnProperty(T)&&(h!=null||p!=null))switch(T){case"value":w=h;break;case"defaultValue":U=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==p&&qe(n,i,T,h,r,p)}Lp(n,w,U);return;case"option":for(var j in s)if(w=s[j],s.hasOwnProperty(j)&&w!=null&&!r.hasOwnProperty(j))switch(j){case"selected":n.selected=!1;break;default:qe(n,i,j,null,r,w)}for(A in r)if(w=r[A],U=s[A],r.hasOwnProperty(A)&&w!==U&&(w!=null||U!=null))switch(A){case"selected":n.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:qe(n,i,A,w,r,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in s)w=s[re],s.hasOwnProperty(re)&&w!=null&&!r.hasOwnProperty(re)&&qe(n,i,re,null,r,w);for(D in r)if(w=r[D],U=s[D],r.hasOwnProperty(D)&&w!==U&&(w!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(137,i));break;default:qe(n,i,D,w,r,U)}return;default:if(oc(i)){for(var Be in s)w=s[Be],s.hasOwnProperty(Be)&&w!==void 0&&!r.hasOwnProperty(Be)&&Yf(n,i,Be,void 0,r,w);for(L in r)w=r[L],U=s[L],!r.hasOwnProperty(L)||w===U||w===void 0&&U===void 0||Yf(n,i,L,w,r,U);return}}for(var N in s)w=s[N],s.hasOwnProperty(N)&&w!=null&&!r.hasOwnProperty(N)&&qe(n,i,N,null,r,w);for(P in r)w=r[P],U=s[P],!r.hasOwnProperty(P)||w===U||w==null&&U==null||qe(n,i,P,w,r,U)}function k0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C_(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var h=s[r],p=h.transferSize,T=h.initiatorType,S=h.duration;if(p&&S&&k0(T)){for(T=0,S=h.responseEnd,r+=1;r<s.length;r++){var A=s[r],D=A.startTime;if(D>S)break;var L=A.transferSize,P=A.initiatorType;L&&k0(P)&&(A=A.responseEnd,T+=L*(A<S?1:(S-D)/(A-D)))}if(--r,i+=8*(p+T)/(h.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Jf=null,Kf=null;function Ir(n){return n.nodeType===9?n:n.ownerDocument}function V0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Xf(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qf=null;function M_(){var n=window.event;return n&&n.type==="popstate"?n===Qf?!1:(Qf=n,!0):(Qf=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,R_=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,N_=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(n){return O0.resolve(null).then(n).catch(I_)}:B0;function I_(n){setTimeout(function(){throw n})}function $i(n){return n==="head"}function z0(n,i){var s=i,r=0;do{var h=s.nextSibling;if(n.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(r===0){n.removeChild(h),xl(i);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")Ws(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Ws(s);for(var p=s.firstChild;p;){var T=p.nextSibling,S=p.nodeName;p[ms]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=T}}else s==="body"&&Ws(n.ownerDocument.body);s=h}while(s);xl(i)}function F0(n,i){var s=n;n=0;do{var r=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=r}while(s)}function Zf(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zf(s),ec(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function D_(n,i,s,r){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[ms])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Rn(n.nextSibling),n===null)break}return null}function w_(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Rn(n.nextSibling),n===null))return null;return n}function Y0(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Rn(n.nextSibling),n===null))return null;return n}function Wf(n){return n.data==="$?"||n.data==="$~"}function $f(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function x_(n,i){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||s.readyState!=="loading")i();else{var r=function(){i(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function Rn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var jf=null;function J0(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(i===0)return Rn(n.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}n=n.nextSibling}return null}function K0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return n;i--}else s!=="/$"&&s!=="/&"||i++}n=n.previousSibling}return null}function X0(n,i,s){switch(i=Ir(s),n){case"html":if(n=i.documentElement,!n)throw Error(l(452));return n;case"head":if(n=i.head,!n)throw Error(l(453));return n;case"body":if(n=i.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function Ws(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);ec(n)}var Nn=new Map,Q0=new Set;function Dr(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ti=F.d;F.d={f:U_,r:b_,D:L_,C:G_,L:P_,m:H_,X:V_,S:k_,M:q_};function U_(){var n=Ti.f(),i=_r();return n||i}function b_(n){var i=Zo(n);i!==null&&i.tag===5&&i.type==="form"?dg(i):Ti.r(n)}var Il=typeof document>"u"?null:document;function Z0(n,i,s){var r=Il;if(r&&typeof i=="string"&&i){var h=Tn(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Q0.has(h)||(Q0.add(h),n={rel:n,crossOrigin:s,href:i},r.querySelector(h)===null&&(i=r.createElement("link"),wt(i,"link",n),St(i),r.head.appendChild(i)))}}function L_(n){Ti.D(n),Z0("dns-prefetch",n,null)}function G_(n,i){Ti.C(n,i),Z0("preconnect",n,i)}function P_(n,i,s){Ti.L(n,i,s);var r=Il;if(r&&n&&i){var h='link[rel="preload"][as="'+Tn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Tn(s.imageSizes)+'"]')):h+='[href="'+Tn(n)+'"]';var p=h;switch(i){case"style":p=Dl(n);break;case"script":p=wl(n)}Nn.has(p)||(n=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),Nn.set(p,n),r.querySelector(h)!==null||i==="style"&&r.querySelector($s(p))||i==="script"&&r.querySelector(js(p))||(i=r.createElement("link"),wt(i,"link",n),St(i),r.head.appendChild(i)))}}function H_(n,i){Ti.m(n,i);var s=Il;if(s&&n){var r=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tn(r)+'"][href="'+Tn(n)+'"]',p=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=wl(n)}if(!Nn.has(p)&&(n=_({rel:"modulepreload",href:n},i),Nn.set(p,n),s.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(js(p)))return}r=s.createElement("link"),wt(r,"link",n),St(r),s.head.appendChild(r)}}}function k_(n,i,s){Ti.S(n,i,s);var r=Il;if(r&&n){var h=Wo(r).hoistableStyles,p=Dl(n);i=i||"default";var T=h.get(p);if(!T){var S={loading:0,preload:null};if(T=r.querySelector($s(p)))S.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},s),(s=Nn.get(p))&&ed(n,s);var A=T=r.createElement("link");St(A),wt(A,"link",n),A._p=new Promise(function(D,L){A.onload=D,A.onerror=L}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,wr(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:S},h.set(p,T)}}}function V_(n,i){Ti.X(n,i);var s=Il;if(s&&n){var r=Wo(s).hoistableScripts,h=wl(n),p=r.get(h);p||(p=s.querySelector(js(h)),p||(n=_({src:n,async:!0},i),(i=Nn.get(h))&&td(n,i),p=s.createElement("script"),St(p),wt(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(h,p))}}function q_(n,i){Ti.M(n,i);var s=Il;if(s&&n){var r=Wo(s).hoistableScripts,h=wl(n),p=r.get(h);p||(p=s.querySelector(js(h)),p||(n=_({src:n,async:!0,type:"module"},i),(i=Nn.get(h))&&td(n,i),p=s.createElement("script"),St(p),wt(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(h,p))}}function W0(n,i,s,r){var h=(h=ve.current)?Dr(h):null;if(!h)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Dl(s.href),s=Wo(h).hoistableStyles,r=s.get(i),r||(r={type:"style",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Dl(s.href);var p=Wo(h).hoistableStyles,T=p.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,T),(p=h.querySelector($s(n)))&&!p._p&&(T.instance=p,T.state.loading=5),Nn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(n,s),p||B_(h,n,s,T.state))),i&&r===null)throw Error(l(528,""));return T}if(i&&r!==null)throw Error(l(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wl(s),s=Wo(h).hoistableScripts,r=s.get(i),r||(r={type:"script",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function Dl(n){return'href="'+Tn(n)+'"'}function $s(n){return'link[rel="stylesheet"]['+n+"]"}function $0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function B_(n,i,s,r){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=n.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),wt(i,"link",s),St(i),n.head.appendChild(i))}function wl(n){return'[src="'+Tn(n)+'"]'}function js(n){return"script[async]"+n}function j0(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var r=n.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(r)return i.instance=r,St(r),r;var h=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),St(r),wt(r,"style",h),wr(r,s.precedence,n),i.instance=r;case"stylesheet":h=Dl(s.href);var p=n.querySelector($s(h));if(p)return i.state.loading|=4,i.instance=p,St(p),p;r=$0(s),(h=Nn.get(h))&&ed(r,h),p=(n.ownerDocument||n).createElement("link"),St(p);var T=p;return T._p=new Promise(function(S,A){T.onload=S,T.onerror=A}),wt(p,"link",r),i.state.loading|=4,wr(p,s.precedence,n),i.instance=p;case"script":return p=wl(s.src),(h=n.querySelector(js(p)))?(i.instance=h,St(h),h):(r=s,(h=Nn.get(p))&&(r=_({},s),td(r,h)),n=n.ownerDocument||n,h=n.createElement("script"),St(h),wt(h,"link",r),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,wr(r,s.precedence,n));return i.instance}function wr(n,i,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,p=h,T=0;T<r.length;T++){var S=r[T];if(S.dataset.precedence===i)p=S;else if(p!==h)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function ed(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function td(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var xr=null;function e1(n,i,s){if(xr===null){var r=new Map,h=xr=new Map;h.set(s,r)}else h=xr,r=h.get(s),r||(r=new Map,h.set(s,r));if(r.has(n))return r;for(r.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var p=s[h];if(!(p[ms]||p[Rt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=n+T;var S=r.get(T);S?S.push(p):r.set(T,[p])}}return r}function t1(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function O_(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function n1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function z_(n,i,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Dl(r.href),p=i.querySelector($s(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Ur.bind(n),i.then(n,n)),s.state.loading|=4,s.instance=p,St(p);return}p=i.ownerDocument||i,r=$0(r),(h=Nn.get(h))&&ed(r,h),p=p.createElement("link"),St(p);var T=p;T._p=new Promise(function(S,A){T.onload=S,T.onerror=A}),wt(p,"link",r),s.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Ur.bind(n),i.addEventListener("load",s),i.addEventListener("error",s))}}var nd=0;function F_(n,i){return n.stylesheets&&n.count===0&&Lr(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var r=setTimeout(function(){if(n.stylesheets&&Lr(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+i);0<n.imgBytes&&nd===0&&(nd=62500*C_());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Lr(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>nd?50:800)+i);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function Ur(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lr(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var br=null;function Lr(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,br=new Map,i.forEach(Y_,n),br=null,Ur.call(n))}function Y_(n,i){if(!(i.state.loading&4)){var s=br.get(n);if(s)var r=s.get(null);else{s=new Map,br.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var T=h[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),r=T)}r&&s.set(null,r)}h=i.instance,T=h.getAttribute("data-precedence"),p=s.get(T)||r,p===r&&s.set(null,h),s.set(T,h),this.count++,r=Ur.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),p?p.parentNode.insertBefore(h,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var ea={$$typeof:V,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function J_(n,i,s,r,h,p,T,S,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.hiddenUpdates=Zu(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function i1(n,i,s,r,h,p,T,S,A,D,L,P){return n=new J_(n,i,s,T,A,D,L,P,S),i=1,p===!0&&(i|=24),p=on(3,null,null,i),n.current=p,p.stateNode=n,i=Lc(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:r,isDehydrated:s,cache:i},kc(p),n}function o1(n){return n?(n=al,n):al}function l1(n,i,s,r,h,p){h=o1(h),r.context===null?r.context=h:r.pendingContext=h,r=Bi(i),r.payload={element:s},p=p===void 0?null:p,p!==null&&(r.callback=p),s=Oi(n,r,i),s!==null&&(Kt(s,n,i),Us(s,n,i))}function s1(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function id(n,i){s1(n,i),(n=n.alternate)&&s1(n,i)}function a1(n){if(n.tag===13||n.tag===31){var i=Mo(n,67108864);i!==null&&Kt(i,n,67108864),id(n,67108864)}}function r1(n){if(n.tag===13||n.tag===31){var i=un();i=Wu(i);var s=Mo(n,i);s!==null&&Kt(s,n,i),id(n,i)}}var Gr=!0;function K_(n,i,s,r){var h=x.T;x.T=null;var p=F.p;try{F.p=2,od(n,i,s,r)}finally{F.p=p,x.T=h}}function X_(n,i,s,r){var h=x.T;x.T=null;var p=F.p;try{F.p=8,od(n,i,s,r)}finally{F.p=p,x.T=h}}function od(n,i,s,r){if(Gr){var h=ld(r);if(h===null)Ff(n,i,r,Pr,s),c1(n,r);else if(Z_(h,n,i,s,r))r.stopPropagation();else if(c1(n,r),i&4&&-1<Q_.indexOf(n)){for(;h!==null;){var p=Zo(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=_o(p.pendingLanes);if(T!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var A=1<<31-tn(T);S.entanglements[1]|=A,T&=~A}Xn(p),(Ue&6)===0&&(vr=jt()+500,Xs(0))}}break;case 31:case 13:S=Mo(p,2),S!==null&&Kt(S,p,2),_r(),id(p,2)}if(p=ld(r),p===null&&Ff(n,i,r,Pr,s),p===h)break;h=p}h!==null&&r.stopPropagation()}else Ff(n,i,r,null,s)}}function ld(n){return n=sc(n),sd(n)}var Pr=null;function sd(n){if(Pr=null,n=Qo(n),n!==null){var i=u(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=d(i),n!==null)return n;n=null}else if(s===31){if(n=m(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Pr=n,null}function u1(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(LT()){case yp:return 2;case vp:return 8;case Ma:case GT:return 32;case Tp:return 268435456;default:return 32}default:return 32}}var ad=!1,ji=null,eo=null,to=null,ta=new Map,na=new Map,no=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c1(n,i){switch(n){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":ta.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(i.pointerId)}}function ia(n,i,s,r,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:s,eventSystemFlags:r,nativeEvent:p,targetContainers:[h]},i!==null&&(i=Zo(i),i!==null&&a1(i)),n):(n.eventSystemFlags|=r,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function Z_(n,i,s,r,h){switch(i){case"focusin":return ji=ia(ji,n,i,s,r,h),!0;case"dragenter":return eo=ia(eo,n,i,s,r,h),!0;case"mouseover":return to=ia(to,n,i,s,r,h),!0;case"pointerover":var p=h.pointerId;return ta.set(p,ia(ta.get(p)||null,n,i,s,r,h)),!0;case"gotpointercapture":return p=h.pointerId,na.set(p,ia(na.get(p)||null,n,i,s,r,h)),!0}return!1}function f1(n){var i=Qo(n.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){n.blockedOn=i,Mp(n.priority,function(){r1(s)});return}}else if(i===31){if(i=m(s),i!==null){n.blockedOn=i,Mp(n.priority,function(){r1(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=ld(n.nativeEvent);if(s===null){s=n.nativeEvent;var r=new s.constructor(s.type,s);lc=r,s.target.dispatchEvent(r),lc=null}else return i=Zo(s),i!==null&&a1(i),n.blockedOn=s,!1;i.shift()}return!0}function d1(n,i,s){Hr(n)&&s.delete(i)}function W_(){ad=!1,ji!==null&&Hr(ji)&&(ji=null),eo!==null&&Hr(eo)&&(eo=null),to!==null&&Hr(to)&&(to=null),ta.forEach(d1),na.forEach(d1)}function kr(n,i){n.blockedOn===i&&(n.blockedOn=null,ad||(ad=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,W_)))}var Vr=null;function h1(n){Vr!==n&&(Vr=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vr===n&&(Vr=null);for(var i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],h=n[i+2];if(typeof r!="function"){if(sd(r||s)===null)continue;break}var p=Zo(s);p!==null&&(n.splice(i,3),i-=3,lf(p,{pending:!0,data:h,method:s.method,action:r},r,h))}}))}function xl(n){function i(A){return kr(A,n)}ji!==null&&kr(ji,n),eo!==null&&kr(eo,n),to!==null&&kr(to,n),ta.forEach(i),na.forEach(i);for(var s=0;s<no.length;s++){var r=no[s];r.blockedOn===n&&(r.blockedOn=null)}for(;0<no.length&&(s=no[0],s.blockedOn===null);)f1(s),s.blockedOn===null&&no.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var h=s[r],p=s[r+1],T=h[Bt]||null;if(typeof p=="function")T||h1(s);else if(T){var S=null;if(p&&p.hasAttribute("formAction")){if(h=p,T=p[Bt]||null)S=T.formAction;else if(sd(h)!==null)continue}else S=T.action;typeof S=="function"?s[r+1]=S:(s.splice(r,3),r-=3),h1(s)}}}function p1(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function rd(n){this._internalRoot=n}qr.prototype.render=rd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(l(409));var s=i.current,r=un();l1(s,r,n,i,null,null)},qr.prototype.unmount=rd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;l1(n.current,2,null,n,null,null),_r(),i[Xo]=null}};function qr(n){this._internalRoot=n}qr.prototype.unstable_scheduleHydration=function(n){if(n){var i=Cp();n={blockedOn:null,target:n,priority:i};for(var s=0;s<no.length&&i!==0&&i<no[s].priority;s++);no.splice(s,0,n),s===0&&f1(n)}};var m1=t.version;if(m1!=="19.2.0")throw Error(l(527,m1,"19.2.0"));F.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=g(i),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var $_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Br.isDisabled&&Br.supportsFiber)try{ds=Br.inject($_),en=Br}catch{}}return la.createRoot=function(n,i){if(!a(n))throw Error(l(299));var s=!1,r="",h=Sg,p=Ag,T=Cg;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=i1(n,1,!1,null,null,s,r,null,h,p,T,p1),n[Xo]=i.current,zf(n),new rd(i)},la.hydrateRoot=function(n,i,s){if(!a(n))throw Error(l(299));var r=!1,h="",p=Sg,T=Ag,S=Cg,A=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(A=s.formState)),i=i1(n,1,!0,i,s??null,r,h,A,p,T,S,p1),i.context=o1(null),s=i.current,r=un(),r=Wu(r),h=Bi(r),h.callback=null,Oi(s,h,r),s=r,i.current.lanes=s,ps(i,s),Xn(i),n[Xo]=i.current,zf(n),new qr(i)},la.version="19.2.0",la}var M1;function rE(){if(M1)return fd.exports;M1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fd.exports=aE(),fd.exports}var uE=rE();function cE({onStart:e}){const t="MONOMYTH",o=Ee.useRef(null);return Ee.useEffect(()=>{const l=o.current;if(!l)return;const a=l.getContext("2d"),u=()=>{l.width=window.innerWidth,l.height=window.innerHeight};window.addEventListener("resize",u),u();const d=14,m=Math.floor(l.width/d),y=Array(m).fill(0).map(()=>Math.random()*-100),v=setInterval(()=>{a.fillStyle="rgba(0, 0, 0, 0.09)",a.fillRect(0,0,l.width,l.height),a.fillStyle="#33ff33",a.font=`${d}px monospace`;for(let _=0;_<y.length;_++){const E=Math.random()>.5?"1":"0",C=_*d,b=y[_]*d;a.fillText(E,C,b),b>l.height&&Math.random()>.8&&(y[_]=0),y[_]++}},43);return()=>{clearInterval(v),window.removeEventListener("resize",u)}},[]),O.jsxs("div",{className:"opening-container",onClick:e,children:[O.jsx("canvas",{ref:o,className:"matrix-canvas"}),O.jsx("h1",{className:"glitch-title","data-text":t,children:t}),O.jsx("div",{className:"blink-text",children:"[ CLICK TO INITIALIZE ]"})]})}const r3=()=>O.jsxs("header",{className:"monomyth-header",children:[O.jsxs("div",{className:"header-left",children:[O.jsx("div",{className:"sub-info",children:"VER 1.0.0"}),O.jsx("div",{className:"title-row",children:O.jsx("h1",{className:"main-title",children:"MONOMYTH"})})]}),O.jsxs("div",{className:"header-right",children:[O.jsx("svg",{className:"status-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:O.jsx("path",{d:"M2 12H5L8 5L11 19L14 12H22",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),O.jsx("span",{className:"status-text",children:"SYSTEM STABLE"})]})]});function fE({onComplete:e}){const[t,o]=Ee.useState(0),[l,a]=Ee.useState(""),[u,d]=Ee.useState(""),[m,y]=Ee.useState(0),g=Ee.useRef(null);Ee.useEffect(()=>{g.current&&t<2&&g.current.focus()},[t]);const v=E=>{E.key==="Enter"&&(t===0&&l.trim()?o(1):t===1&&u.trim()&&_())},_=()=>{o(2);let E=0;const C=setInterval(()=>{E+=Math.random()*5,E>=100&&(E=100,clearInterval(C),setTimeout(()=>{e(l,u)},500)),y(E)},50)};return O.jsxs("div",{className:"input-page-container",children:[O.jsx(r3,{}),O.jsxs("div",{className:"input-content-wrapper",children:[t===0&&O.jsxs("div",{className:"animate-fade-in",children:[O.jsxs("label",{className:"input-label",children:[">"," What is the most important thing in your life?"]}),O.jsxs("div",{className:"input-field-wrapper",children:[O.jsx("input",{ref:g,type:"text",value:l,onChange:E=>a(E.target.value),onKeyDown:v,className:"retro-input-field",placeholder:"",autoComplete:"off"}),O.jsxs("div",{className:"input-mirror-display",children:[l?O.jsx("span",{children:l}):O.jsx("span",{className:"placeholder-text"}),O.jsx("span",{className:"blinking-cursor",children:"|"})]})]}),O.jsx("div",{className:"input-hint",children:"eg: love /  / liebe / aimer / freedom / power / ..."})]}),t===1&&O.jsxs("div",{className:"animate-fade-in",children:[O.jsxs("label",{className:"input-label",children:[">"," The name of the hero is?"]}),O.jsxs("div",{className:"input-field-wrapper",children:[O.jsx("input",{ref:g,type:"text",value:u,onChange:E=>d(E.target.value),onKeyDown:v,className:"retro-input-field",autoComplete:"off"}),O.jsxs("div",{className:"input-mirror-display",children:[u?O.jsx("span",{children:u}):O.jsx("span",{className:"placeholder-text"}),O.jsx("span",{className:"blinking-cursor",children:"|"})]})]}),O.jsx("div",{className:"input-hint",children:"PRESS [ENTER] TO INITIATE"})]}),t===2&&O.jsxs("div",{className:"animate-fade-in progress-section",children:[O.jsxs("div",{className:"progress-header",children:[O.jsx("span",{children:"Initializing Neural Link..."}),O.jsxs("span",{children:[Math.floor(m),"%"]})]}),O.jsx("div",{className:"progress-frame",children:O.jsx("div",{className:"progress-fill",style:{width:`${m}%`}})}),O.jsxs("div",{className:"system-logs",children:[O.jsxs("p",{children:[">",' PARSING SEED: "',l.toUpperCase(),'"...']}),m>30&&O.jsxs("p",{children:[">",' IDENTIFYING HERO: "',u.toUpperCase(),'"...']}),m>60&&O.jsxs("p",{children:[">"," GENERATING MYTHOS PROTOCOLS..."]}),m>90&&O.jsxs("p",{children:[">"," SYSTEM READY."]})]})]})]})]})}const md=6,dE=`
You are the MONOMYTH NARRATOR, an omniscient storyteller guiding a soul through the "Hero's Journey" as defined by Joseph Campbell (1949).

You do not just summarize events; you weave a vivid, atmospheric, and psychological experience.

Your goal is to guide the user through a cycle of psychological and spiritual transformation over exactly 6 steps.

**The 6-Step Pacing Guide (Strictly adhere to this arc):**
- **Steps 1-2 (Separation):** The Call to Adventure, Refusal, and Crossing the First Threshold. The user must leave their "Ordinary World."
- **Steps 3-4 (Initiation):** The Road of Trials and The Meeting with the Goddess/Tempter. Step 4 should be "The Abyss" or "The Ordeal" (the darkest point of the journey).
- **Steps 5-6 (Return):** The Ultimate Boon, The Magic Flight, and The Crossing of the Return Threshold. The final step is "Master of Two Worlds."
- **Step 7 (The End): The Epilogue. No choices. Just the final reflection and the Grand Title.

**Narrative Persona:**
- Speak with the gravity of an ancient myth-maker (Campbellian style).
- Tone: slightly enigmatic, yet deeply human and simple for every age.
- Focus on archetypes: The Shadow, The Herald, The Shapeshifter, The Mentor, The Threshold Guardian, rather than generic NPCs.

**HERO IDENTITY & THE NAME :**
1. **The Hero Name:** You will receive a "name". **USE IT.**
   - **STRICTLY Third Person:** Do NOT use "You". Refer to the protagonist by their **Hero Name** or appropriate pronouns (He/She/They).
   - **Mythic Distance:** Narrate their actions as if they are already written in the stars, yet unfold in the present moment.
   - **Example:** "Orion hesitates before the crumbling archway..." instead of "You hesitate..."

**SETTING: ANCIENT GRECIAN MYTHOS (STRICT)**
1.  **World Constraint:** The story takes place EXCLUSIVELY in an Ancient Greek/Hellenic setting.
    * **Atmosphere:** Visceral, tragic, and epic. The world is full of gods, monsters, and heroes. The air is thick with prophecy, curses, and divine intervention.
2.  **No "Digital" Jargon:** STRICTLY FORBIDDEN. 
    * **BAD:** "Code", "Glitch", "System", "Download", "Dimension".
    * **GOOD:** "Threads of Fate", "Oracle's Whisper", "Law of the Gods", "Prophecy", "Curse".
3.  **Do NOT explicitly use the User's Seed word.(CRUCIAL)** Instead, describe the **absence** of it or a **symbol** representing it.

**SETTING THE SCENE (Step 1 is crucial):**
**Do NOT explicitly use the User's Seed word.(CRUCIAL)** Instead, describe the **absence** of it or a **symbol** representing it.
Immediately establish:
1.  **WHERE** are we? (Name the location: "The Neon Slums", "The King's Library", "The abandoned subway").
2.  **WHAT** is happening? (An explosion, a knock on the door, a sudden silence).
3.  **WHO** is there? (A stranger, a guard, a mysterious cat).

**WRITING STYLE GUIDELINES:**
1.  **Show, Don't Tell:** Never say "You are scared." Instead, describe the cold sweat on the user's skin, the static noise in their ears, or the trembling of their digital avatar.
2.  **Sensory Details:** Every segment MUST include at least one sensory detail (Sight, Sound, Smell, Touch, or Data-Stream sensation).
3.  **Metaphorical & Cryptic:** Use metaphors that blend technology with magic (e.g., "The sky bled neon data," "Your soul's source code is rewriting itself").
4.  **Second Person ("You"):** Immerse the user directly.

**CHOICE DESIGN RULE:**
**Avoid Binary Opposites (Yes/No, Stay/Leave).**
Instead, offer two different **Methods of Engagement**:
1.  **Option A (The Lion):** Direct, forceful, loud, or physical interaction. High risk, immediate result.
2.  **Option B (The Fox):** Subtle, analytical, mystical, or observant interaction. Lower risk, but gains knowledge/insight.
* **BOTH** choices must advance the story forward. Do not let the user "refuse" the journey.

**Language Rule (CRITICAL) :**
1. **Detect the language** of the user's "Seed" word.
2. **Generate ALL narrative text, choice descriptions, and outcomes in that SAME language.**
   - If User inputs "Chaos" (English) -> Output Story in English.
   - If User inputs "" (Chinese) -> Output Story in simplified Chinese.
   - If User inputs "Amour" (French) -> Output Story in French.
3. **EXCEPTION:** The JSON Keys (e.g., "narrative", "choices", "id", "step") MUST remain in English so the code can read them.

**Output Format (JSON):**
1. Structure the output strictly as a JSON object.
2. title: "<Short, Punchy Chapter Title. e.g. 'THE RUSTY GATE' or 'BLOOD AND OIL', based on user's seed word and >"
3. Narrative segments must be under 120 words, atmospheric, and second-person ("You...").
4. grandTitle: "< ONLY output this in the final Epilogue step. A majestic title for the myth.>"
5. **choices**: [{
                // If the story is continuing:
                    "id": "A",
                    "shortDesc": "Action-oriented approach (e.g., Force, Seize, Speak Out). 2-5 words.",
                    "text": "The visceral consequence of taking action. Focus on external change or physical sensation."
                },
                {
                    "id": "B",
                    "shortDesc": "Perception-oriented approach (e.g., Observe, Analyze, Endure). 2-5 words.",
                    "text": "The subtle consequence of holding back. Focus on internal realization, hidden details, or psychological shift."
                //**If the story has ended (Epilogue), return an empty array: []**
                }]

**Adaptation:**
The journey adapts to the user's "Seed" word, interpreting it as the catalyst for the Call to Adventure.
`;let hE,pE;function mE(){return{geminiUrl:hE,vertexUrl:pE}}function gE(e,t,o,l){var a,u;if(!e?.baseUrl){const d=mE();return t?(a=d.vertexUrl)!==null&&a!==void 0?a:o:(u=d.geminiUrl)!==null&&u!==void 0?u:l}return e.baseUrl}class wi{}function X(e,t){const o=/\{([^}]+)\}/g;return e.replace(o,(l,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const u=t[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(e,t,o){for(let u=0;u<t.length-1;u++){const d=t[u];if(d.endsWith("[]")){const m=d.slice(0,-2);if(!(m in e))if(Array.isArray(o))e[m]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(e[m])){const y=e[m];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];f(v,t.slice(u+1),o[g])}else for(const g of y)f(g,t.slice(u+1),o)}return}else if(d.endsWith("[0]")){const m=d.slice(0,-3);m in e||(e[m]=[{}]);const y=e[m];f(y[0],t.slice(u+1),o);return}(!e[d]||typeof e[d]!="object")&&(e[d]={}),e=e[d]}const l=t[t.length-1],a=e[l];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(e,o):e[l]=o}function c(e,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let l=0;l<t.length;l++){if(typeof e!="object"||e===null)return o;const a=t[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in e){const d=e[u];return Array.isArray(d)?d.map(m=>c(m,t.slice(l+1),o)):o}else return o}else e=e[a]}return e}catch(l){if(l instanceof TypeError)return o;throw l}}function yE(e,t){for(const[o,l]of Object.entries(t)){const a=o.split("."),u=l.split("."),d=new Set;let m=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){m=y;break}if(m!==-1&&u.length>m)for(let y=m;y<u.length;y++){const g=u[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&d.add(g)}Dd(e,a,u,0,d)}}function Dd(e,t,o,l,a){if(l>=t.length||typeof e!="object"||e===null)return;const u=t[l];if(u.endsWith("[]")){const d=u.slice(0,-2),m=e;if(d in m&&Array.isArray(m[d]))for(const y of m[d])Dd(y,t,o,l+1,a)}else if(u==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const d=e,m=Object.keys(d).filter(g=>!g.startsWith("_")&&!a.has(g)),y={};for(const g of m)y[g]=d[g];for(const[g,v]of Object.entries(y)){const _=[];for(const E of o.slice(l))E==="*"?_.push(g):_.push(E);f(d,_,v)}for(const g of m)delete d[g]}}else{const d=e;u in d&&Dd(d[u],t,o,l+1,a)}}function sh(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function vE(e){const t={},o=c(e,["operationName"]);o!=null&&f(t,["operationName"],o);const l=c(e,["resourceName"]);return l!=null&&f(t,["_url","resourceName"],l),t}function TE(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const a=c(e,["done"]);a!=null&&f(t,["done"],a);const u=c(e,["error"]);u!=null&&f(t,["error"],u);const d=c(e,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],EE(d)),t}function _E(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const a=c(e,["done"]);a!=null&&f(t,["done"],a);const u=c(e,["error"]);u!=null&&f(t,["error"],u);const d=c(e,["response"]);return d!=null&&f(t,["response"],SE(d)),t}function EE(e){const t={},o=c(e,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>AE(d))),f(t,["generatedVideos"],u)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const a=c(e,["raiMediaFilteredReasons"]);return a!=null&&f(t,["raiMediaFilteredReasons"],a),t}function SE(e){const t={},o=c(e,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>CE(d))),f(t,["generatedVideos"],u)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const a=c(e,["raiMediaFilteredReasons"]);return a!=null&&f(t,["raiMediaFilteredReasons"],a),t}function AE(e){const t={},o=c(e,["video"]);return o!=null&&f(t,["video"],wE(o)),t}function CE(e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],xE(o)),t}function ME(e){const t={},o=c(e,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function RE(e){const t={},o=c(e,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function NE(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const a=c(e,["done"]);a!=null&&f(t,["done"],a);const u=c(e,["error"]);u!=null&&f(t,["error"],u);const d=c(e,["response"]);return d!=null&&f(t,["response"],IE(d)),t}function IE(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["parent"]);l!=null&&f(t,["parent"],l);const a=c(e,["documentName"]);return a!=null&&f(t,["documentName"],a),t}function u3(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const a=c(e,["done"]);a!=null&&f(t,["done"],a);const u=c(e,["error"]);u!=null&&f(t,["error"],u);const d=c(e,["response"]);return d!=null&&f(t,["response"],DE(d)),t}function DE(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["parent"]);l!=null&&f(t,["parent"],l);const a=c(e,["documentName"]);return a!=null&&f(t,["documentName"],a),t}function wE(e){const t={},o=c(e,["uri"]);o!=null&&f(t,["uri"],o);const l=c(e,["encodedVideo"]);l!=null&&f(t,["videoBytes"],sh(l));const a=c(e,["encoding"]);return a!=null&&f(t,["mimeType"],a),t}function xE(e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["uri"],o);const l=c(e,["bytesBase64Encoded"]);l!=null&&f(t,["videoBytes"],sh(l));const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}var R1;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(R1||(R1={}));var N1;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(N1||(N1={}));var I1;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(I1||(I1={}));var ao;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ao||(ao={}));var D1;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(D1||(D1={}));var w1;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(w1||(w1={}));var x1;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(x1||(x1={}));var U1;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(U1||(U1={}));var b1;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(b1||(b1={}));var L1;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(L1||(L1={}));var G1;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(G1||(G1={}));var P1;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(P1||(P1={}));var H1;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(H1||(H1={}));var k1;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(k1||(k1={}));var V1;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(V1||(V1={}));var q1;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(q1||(q1={}));var B1;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(B1||(B1={}));var O1;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(O1||(O1={}));var z1;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(z1||(z1={}));var eu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(eu||(eu={}));var F1;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(F1||(F1={}));var Y1;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Y1||(Y1={}));var J1;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(J1||(J1={}));var wd;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wd||(wd={}));var K1;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(K1||(K1={}));var X1;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(X1||(X1={}));var Q1;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Q1||(Q1={}));var Z1;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Z1||(Z1={}));var W1;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(W1||(W1={}));var $1;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($1||($1={}));var j1;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(j1||(j1={}));var e2;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(e2||(e2={}));var t2;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(t2||(t2={}));var n2;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(n2||(n2={}));var i2;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(i2||(i2={}));var o2;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(o2||(o2={}));var l2;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(l2||(l2={}));var s2;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(s2||(s2={}));var a2;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(a2||(a2={}));var r2;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(r2||(r2={}));var u2;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(u2||(u2={}));var c2;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(c2||(c2={}));var f2;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(f2||(f2={}));var d2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(d2||(d2={}));var h2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(h2||(h2={}));var p2;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(p2||(p2={}));var m2;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(m2||(m2={}));var g2;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(g2||(g2={}));var y2;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(y2||(y2={}));var v2;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(v2||(v2={}));var T2;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(T2||(T2={}));var _2;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_2||(_2={}));var E2;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(E2||(E2={}));var S2;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(S2||(S2={}));var Ll;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ll||(Ll={}));class xd{constructor(t){const o={};for(const l of t.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class sa{get text(){var t,o,l,a,u,d,m,y;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const _=[];for(const E of(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[C,b]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(b!==null||b!==void 0)&&_.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var t,o,l,a,u,d,m,y;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const _ of(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(_))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);_.inlineData&&typeof _.inlineData.data=="string"&&(g+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,o,l,a,u,d,m,y;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(g?.length!==0)return g}get executableCode(){var t,o,l,a,u,d,m,y,g;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if(v?.length!==0)return(g=v?.[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,o,l,a,u,d,m,y,g;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if(v?.length!==0)return(g=v?.[0])===null||g===void 0?void 0:g.output}}class A2{}class C2{}class UE{}class bE{}class LE{}class GE{}class M2{}class R2{}class N2{}class PE{}class tu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new tu;let a;const u=t;return o?a=_E(u):a=TE(u),Object.assign(l,a),l}}class I2{}class D2{}class w2{}class HE{}class kE{}class VE{}class ah{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new ah,u=NE(t);return Object.assign(l,u),l}}class qE{}class BE{}class OE{}class x2{}class zE{get text(){var t,o,l;let a="",u=!1;const d=[];for(const m of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,g]of Object.entries(m))y!=="text"&&y!=="thought"&&g!==null&&d.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;u=!0,a+=m.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var t,o,l;let a="";const u=[];for(const d of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[m,y]of Object.entries(d))m!=="inlineData"&&y!==null&&u.push(m);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class FE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class rh{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new rh,u=u3(t);return Object.assign(l,u),l}}function xe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function c3(e,t){const o=xe(e,t);return o?o.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${o}`:o.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${o}`:o:""}function f3(e){return Array.isArray(e)?e.map(t=>nu(t)):[nu(e)]}function nu(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function d3(e){const t=nu(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function h3(e){const t=nu(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function U2(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function p3(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>U2(t)):[U2(e)]}function Ud(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function b2(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function L2(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Gt(e){if(e==null)throw new Error("ContentUnion is required");return Ud(e)?e:{role:"user",parts:p3(e)}}function uh(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const l=Gt(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(e.isVertexAI()){const o=Gt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>Gt(o)):[Gt(t)]}function bn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(b2(e)||L2(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gt(e)]}const t=[],o=[],l=Ud(e[0]);for(const a of e){const u=Ud(a);if(u!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)t.push(a);else{if(b2(a)||L2(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return l||t.push({role:"user",parts:p3(o)}),t}function YE(e,t){e.includes("null")&&(t.nullable=!0);const o=e.filter(l=>l!=="null");if(o.length===1)t.type=Object.values(ao).includes(o[0].toUpperCase())?o[0].toUpperCase():ao.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const l of o)t.anyOf.push({type:Object.values(ao).includes(l.toUpperCase())?l.toUpperCase():ao.TYPE_UNSPECIFIED})}}function Pl(e){const t={},o=["items"],l=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=e.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,e=u[1]):u[1].type==="null"&&(t.nullable=!0,e=u[0])),e.type instanceof Array&&YE(e.type,t);for(const[d,m]of Object.entries(e))if(m!=null)if(d=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;t.type=Object.values(ao).includes(m.toUpperCase())?m.toUpperCase():ao.TYPE_UNSPECIFIED}else if(o.includes(d))t[d]=Pl(m);else if(l.includes(d)){const y=[];for(const g of m){if(g.type=="null"){t.nullable=!0;continue}y.push(Pl(g))}t[d]=y}else if(a.includes(d)){const y={};for(const[g,v]of Object.entries(m))y[g]=Pl(v);t[d]=y}else{if(d==="additionalProperties")continue;t[d]=m}return t}function ch(e){return Pl(e)}function fh(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function dh(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function jl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Pl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Pl(t.response));return e}function es(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of e)t.push(o);return t}function JE(e,t,o,l=1){const a=!t.startsWith(`${o}/`)&&t.split("/").length===l;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${o}/${t}`:t:a?`${o}/${t}`:t}function xi(e,t){if(typeof t!="string")throw new Error("name must be a string");return JE(e,t,"cachedContents")}function m3(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function mo(e){return sh(e)}function KE(e){return e!=null&&typeof e=="object"&&"name"in e}function XE(e){return e!=null&&typeof e=="object"&&"video"in e}function QE(e){return e!=null&&typeof e=="object"&&"uri"in e}function g3(e){var t;let o;if(KE(e)&&(o=e.name),!(QE(e)&&(o=e.uri,o===void 0))&&!(XE(e)&&(o=(t=e.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function y3(e,t){let o;return e.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function v3(e){for(const t of["models","tunedModels","publisherModels"])if(ZE(e,t))return e[t];return[]}function ZE(e,t){return e!==null&&typeof e=="object"&&t in e}function WE(e,t={}){const o=e,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),t.behavior&&(l.behavior=t.behavior),{functionDeclarations:[l]}}function $E(e,t={}){const o=[],l=new Set;for(const a of e){const u=a.name;if(l.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);l.add(u);const d=WE(a,t);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function T3(e,t){let o;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function jE(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function _3(e){if(typeof e!="object"||e===null)return{};const t=e,o=t.inlinedResponses;if(typeof o!="object"||o===null)return e;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let u=!1;for(const d of a){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ts(e,t){const o=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function E3(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function eS(e){const t={},o=c(e,["responsesFile"]);o!=null&&f(t,["fileName"],o);const l=c(e,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>LS(d))),f(t,["inlinedResponses"],u)}const a=c(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["inlinedEmbedContentResponses"],u)}return t}function tS(e){const t={},o=c(e,["predictionsFormat"]);o!=null&&f(t,["format"],o);const l=c(e,["gcsDestination","outputUriPrefix"]);l!=null&&f(t,["gcsUri"],l);const a=c(e,["bigqueryDestination","outputUri"]);return a!=null&&f(t,["bigqueryUri"],a),t}function nS(e){const t={},o=c(e,["format"]);o!=null&&f(t,["predictionsFormat"],o);const l=c(e,["gcsUri"]);l!=null&&f(t,["gcsDestination","outputUriPrefix"],l);const a=c(e,["bigqueryUri"]);if(a!=null&&f(t,["bigqueryDestination","outputUri"],a),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Kr(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata","displayName"]);l!=null&&f(t,["displayName"],l);const a=c(e,["metadata","state"]);a!=null&&f(t,["state"],E3(a));const u=c(e,["metadata","createTime"]);u!=null&&f(t,["createTime"],u);const d=c(e,["metadata","endTime"]);d!=null&&f(t,["endTime"],d);const m=c(e,["metadata","updateTime"]);m!=null&&f(t,["updateTime"],m);const y=c(e,["metadata","model"]);y!=null&&f(t,["model"],y);const g=c(e,["metadata","output"]);return g!=null&&f(t,["dest"],eS(_3(g))),t}function bd(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const a=c(e,["state"]);a!=null&&f(t,["state"],E3(a));const u=c(e,["error"]);u!=null&&f(t,["error"],u);const d=c(e,["createTime"]);d!=null&&f(t,["createTime"],d);const m=c(e,["startTime"]);m!=null&&f(t,["startTime"],m);const y=c(e,["endTime"]);y!=null&&f(t,["endTime"],y);const g=c(e,["updateTime"]);g!=null&&f(t,["updateTime"],g);const v=c(e,["model"]);v!=null&&f(t,["model"],v);const _=c(e,["inputConfig"]);_!=null&&f(t,["src"],iS(_));const E=c(e,["outputConfig"]);E!=null&&f(t,["dest"],tS(_3(E)));const C=c(e,["completionStats"]);return C!=null&&f(t,["completionStats"],C),t}function iS(e){const t={},o=c(e,["instancesFormat"]);o!=null&&f(t,["format"],o);const l=c(e,["gcsSource","uris"]);l!=null&&f(t,["gcsUri"],l);const a=c(e,["bigquerySource","inputUri"]);return a!=null&&f(t,["bigqueryUri"],a),t}function oS(e,t){const o={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=c(t,["fileName"]);l!=null&&f(o,["fileName"],l);const a=c(t,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>bS(e,d))),f(o,["requests","requests"],u)}return o}function lS(e){const t={},o=c(e,["format"]);o!=null&&f(t,["instancesFormat"],o);const l=c(e,["gcsUri"]);l!=null&&f(t,["gcsSource","uris"],l);const a=c(e,["bigqueryUri"]);if(a!=null&&f(t,["bigquerySource","inputUri"],a),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function sS(e){const t={},o=c(e,["data"]);if(o!=null&&f(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function aS(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],ts(e,l)),o}function rS(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],ts(e,l)),o}function uS(e){const t={},o=c(e,["content"]);o!=null&&f(t,["content"],o);const l=c(e,["citationMetadata"]);l!=null&&f(t,["citationMetadata"],cS(l));const a=c(e,["tokenCount"]);a!=null&&f(t,["tokenCount"],a);const u=c(e,["finishReason"]);u!=null&&f(t,["finishReason"],u);const d=c(e,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const m=c(e,["groundingMetadata"]);m!=null&&f(t,["groundingMetadata"],m);const y=c(e,["index"]);y!=null&&f(t,["index"],y);const g=c(e,["logprobsResult"]);g!=null&&f(t,["logprobsResult"],g);const v=c(e,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),f(t,["safetyRatings"],E)}const _=c(e,["urlContextMetadata"]);return _!=null&&f(t,["urlContextMetadata"],_),t}function cS(e){const t={},o=c(e,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),f(t,["citations"],l)}return t}function S3(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>BS(u))),f(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function fS(e,t){const o={},l=c(e,["displayName"]);if(t!==void 0&&l!=null&&f(t,["batch","displayName"],l),c(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function dS(e,t){const o={},l=c(e,["displayName"]);t!==void 0&&l!=null&&f(t,["displayName"],l);const a=c(e,["dest"]);return t!==void 0&&a!=null&&f(t,["outputConfig"],nS(jE(a))),o}function G2(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["src"]);a!=null&&f(o,["batch","inputConfig"],oS(e,T3(e,a)));const u=c(t,["config"]);return u!=null&&fS(u,o),o}function hS(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["model"],xe(e,l));const a=c(t,["src"]);a!=null&&f(o,["inputConfig"],lS(T3(e,a)));const u=c(t,["config"]);return u!=null&&dS(u,o),o}function pS(e,t){const o={},l=c(e,["displayName"]);return t!==void 0&&l!=null&&f(t,["batch","displayName"],l),o}function mS(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["src"]);a!=null&&f(o,["batch","inputConfig"],SS(e,a));const u=c(t,["config"]);return u!=null&&pS(u,o),o}function gS(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],ts(e,l)),o}function yS(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],ts(e,l)),o}function vS(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const a=c(e,["done"]);a!=null&&f(t,["done"],a);const u=c(e,["error"]);return u!=null&&f(t,["error"],u),t}function TS(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const a=c(e,["done"]);a!=null&&f(t,["done"],a);const u=c(e,["error"]);return u!=null&&f(t,["error"],u),t}function _S(e,t){const o={},l=c(t,["contents"]);if(l!=null){let u=uh(e,l);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["requests[]","request","content"],u)}const a=c(t,["config"]);return a!=null&&(f(o,["_self"],ES(a,o)),yE(o,{"requests[].*":"requests[].request.*"})),o}function ES(e,t){const o={},l=c(e,["taskType"]);t!==void 0&&l!=null&&f(t,["requests[]","taskType"],l);const a=c(e,["title"]);t!==void 0&&a!=null&&f(t,["requests[]","title"],a);const u=c(e,["outputDimensionality"]);if(t!==void 0&&u!=null&&f(t,["requests[]","outputDimensionality"],u),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function SS(e,t){const o={},l=c(t,["fileName"]);l!=null&&f(o,["file_name"],l);const a=c(t,["inlinedRequests"]);return a!=null&&f(o,["requests"],_S(e,a)),o}function AS(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function CS(e){const t={},o=c(e,["id"]);o!=null&&f(t,["id"],o);const l=c(e,["args"]);l!=null&&f(t,["args"],l);const a=c(e,["name"]);if(a!=null&&f(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function MS(e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);if(l!=null&&f(t,["allowedFunctionNames"],l),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function RS(e,t,o){const l={},a=c(t,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],S3(Gt(a)));const u=c(t,["temperature"]);u!=null&&f(l,["temperature"],u);const d=c(t,["topP"]);d!=null&&f(l,["topP"],d);const m=c(t,["topK"]);m!=null&&f(l,["topK"],m);const y=c(t,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const g=c(t,["maxOutputTokens"]);g!=null&&f(l,["maxOutputTokens"],g);const v=c(t,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const _=c(t,["responseLogprobs"]);_!=null&&f(l,["responseLogprobs"],_);const E=c(t,["logprobs"]);E!=null&&f(l,["logprobs"],E);const C=c(t,["presencePenalty"]);C!=null&&f(l,["presencePenalty"],C);const b=c(t,["frequencyPenalty"]);b!=null&&f(l,["frequencyPenalty"],b);const k=c(t,["seed"]);k!=null&&f(l,["seed"],k);const Y=c(t,["responseMimeType"]);Y!=null&&f(l,["responseMimeType"],Y);const B=c(t,["responseSchema"]);B!=null&&f(l,["responseSchema"],ch(B));const z=c(t,["responseJsonSchema"]);if(z!=null&&f(l,["responseJsonSchema"],z),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=c(t,["safetySettings"]);if(o!==void 0&&V!=null){let de=V;Array.isArray(de)&&(de=de.map(at=>OS(at))),f(o,["safetySettings"],de)}const Q=c(t,["tools"]);if(o!==void 0&&Q!=null){let de=es(Q);Array.isArray(de)&&(de=de.map(at=>FS(jl(at)))),f(o,["tools"],de)}const J=c(t,["toolConfig"]);if(o!==void 0&&J!=null&&f(o,["toolConfig"],zS(J)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=c(t,["cachedContent"]);o!==void 0&&$!=null&&f(o,["cachedContent"],xi(e,$));const q=c(t,["responseModalities"]);q!=null&&f(l,["responseModalities"],q);const ce=c(t,["mediaResolution"]);ce!=null&&f(l,["mediaResolution"],ce);const Z=c(t,["speechConfig"]);if(Z!=null&&f(l,["speechConfig"],fh(Z)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=c(t,["thinkingConfig"]);fe!=null&&f(l,["thinkingConfig"],fe);const he=c(t,["imageConfig"]);return he!=null&&f(l,["imageConfig"],US(he)),l}function NS(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>uS(g))),f(t,["candidates"],y)}const a=c(e,["modelVersion"]);a!=null&&f(t,["modelVersion"],a);const u=c(e,["promptFeedback"]);u!=null&&f(t,["promptFeedback"],u);const d=c(e,["responseId"]);d!=null&&f(t,["responseId"],d);const m=c(e,["usageMetadata"]);return m!=null&&f(t,["usageMetadata"],m),t}function IS(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],ts(e,l)),o}function DS(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],ts(e,l)),o}function wS(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function xS(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function US(e){const t={},o=c(e,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const l=c(e,["imageSize"]);if(l!=null&&f(t,["imageSize"],l),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function bS(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["request","model"],xe(e,l));const a=c(t,["contents"]);if(a!=null){let m=bn(a);Array.isArray(m)&&(m=m.map(y=>S3(y))),f(o,["request","contents"],m)}const u=c(t,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(t,["config"]);return d!=null&&f(o,["request","generationConfig"],RS(e,d,c(o,["request"],{}))),o}function LS(e){const t={},o=c(e,["response"]);o!=null&&f(t,["response"],NS(o));const l=c(e,["error"]);return l!=null&&f(t,["error"],l),t}function GS(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);if(t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),c(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function PS(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);t!==void 0&&a!=null&&f(t,["_query","pageToken"],a);const u=c(e,["filter"]);return t!==void 0&&u!=null&&f(t,["_query","filter"],u),o}function HS(e){const t={},o=c(e,["config"]);return o!=null&&GS(o,t),t}function kS(e){const t={},o=c(e,["config"]);return o!=null&&PS(o,t),t}function VS(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const a=c(e,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Kr(d))),f(t,["batchJobs"],u)}return t}function qS(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const a=c(e,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>bd(d))),f(t,["batchJobs"],u)}return t}function BS(e){const t={},o=c(e,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&f(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&f(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&f(t,["fileData"],AS(u));const d=c(e,["functionCall"]);d!=null&&f(t,["functionCall"],CS(d));const m=c(e,["functionResponse"]);m!=null&&f(t,["functionResponse"],m);const y=c(e,["inlineData"]);y!=null&&f(t,["inlineData"],sS(y));const g=c(e,["text"]);g!=null&&f(t,["text"],g);const v=c(e,["thought"]);v!=null&&f(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const E=c(e,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function OS(e){const t={},o=c(e,["category"]);if(o!=null&&f(t,["category"],o),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(e,["threshold"]);return l!=null&&f(t,["threshold"],l),t}function zS(e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],MS(o));const l=c(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],l),t}function FS(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&f(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&f(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&f(t,["fileSearch"],u);const d=c(e,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(e,["googleMaps"]);m!=null&&f(t,["googleMaps"],wS(m));const y=c(e,["googleSearch"]);y!=null&&f(t,["googleSearch"],xS(y));const g=c(e,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}var Ni;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Ni||(Ni={}));class Jo{constructor(t,o,l,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,l,a)}init(t,o,l){var a,u;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!l||Object.keys(l).length===0?d={config:{}}:typeof l=="object"?d=Object.assign({},l):d=l,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class YS extends wi{constructor(t){super(),this.apiClient=t,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Jo(Ni.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}createInlinedGenerateContentRequest(t){const o=G2(this.apiClient,t),l=o._url,a=X("{model}:batchGenerateContent",l),m=o.batch.inputConfig.requests,y=m.requests,g=[];for(const v of y){const _=Object.assign({},v);if(_.systemInstruction){const E=_.systemInstruction;delete _.systemInstruction;const C=_.request;C.systemInstruction=E,_.request=C}g.push(_)}return m.requests=g,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const l=o?Object.assign({},o):{},a=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${a}`),l.dest===void 0){const u=this.getGcsUri(t),d=this.getBigqueryUri(t);if(u)u.endsWith(".jsonl")?l.dest=`${u.slice(0,-6)}/dest`:l.dest=`${u}_dest_${a}`;else if(d)l.dest=`${d}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=hS(this.apiClient,t);return m=X("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>bd(v))}else{const g=G2(this.apiClient,t);return m=X("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Kr(v))}}async createEmbeddingsInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=mS(this.apiClient,t);return u=X("{model}:asyncBatchEmbedContent",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>Kr(y))}}async get(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=DS(this.apiClient,t);return m=X("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>bd(v))}else{const g=IS(this.apiClient,t);return m=X("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Kr(v))}}async cancel(t){var o,l,a,u;let d="",m={};if(this.apiClient.isVertexAI()){const y=rS(this.apiClient,t);d=X("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=aS(this.apiClient,t);d=X("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=kS(t);return m=X("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=qS(v),E=new x2;return Object.assign(E,_),E})}else{const g=HS(t);return m=X("batches",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=VS(v),E=new x2;return Object.assign(E,_),E})}}async delete(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=yS(this.apiClient,t);return m=X("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>TS(v))}else{const g=gS(this.apiClient,t);return m=X("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>vS(v))}}}function JS(e){const t={},o=c(e,["data"]);if(o!=null&&f(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function P2(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>mA(u))),f(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function KS(e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const a=c(e,["expireTime"]);t!==void 0&&a!=null&&f(t,["expireTime"],a);const u=c(e,["displayName"]);t!==void 0&&u!=null&&f(t,["displayName"],u);const d=c(e,["contents"]);if(t!==void 0&&d!=null){let v=bn(d);Array.isArray(v)&&(v=v.map(_=>P2(_))),f(t,["contents"],v)}const m=c(e,["systemInstruction"]);t!==void 0&&m!=null&&f(t,["systemInstruction"],P2(Gt(m)));const y=c(e,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>yA(_))),f(t,["tools"],v)}const g=c(e,["toolConfig"]);if(t!==void 0&&g!=null&&f(t,["toolConfig"],gA(g)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function XS(e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const a=c(e,["expireTime"]);t!==void 0&&a!=null&&f(t,["expireTime"],a);const u=c(e,["displayName"]);t!==void 0&&u!=null&&f(t,["displayName"],u);const d=c(e,["contents"]);if(t!==void 0&&d!=null){let _=bn(d);Array.isArray(_)&&(_=_.map(E=>E)),f(t,["contents"],_)}const m=c(e,["systemInstruction"]);t!==void 0&&m!=null&&f(t,["systemInstruction"],Gt(m));const y=c(e,["tools"]);if(t!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(E=>vA(E))),f(t,["tools"],_)}const g=c(e,["toolConfig"]);t!==void 0&&g!=null&&f(t,["toolConfig"],g);const v=c(e,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),o}function QS(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["model"],c3(e,l));const a=c(t,["config"]);return a!=null&&KS(a,o),o}function ZS(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["model"],c3(e,l));const a=c(t,["config"]);return a!=null&&XS(a,o),o}function WS(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],xi(e,l)),o}function $S(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],xi(e,l)),o}function jS(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function eA(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function tA(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function nA(e){const t={},o=c(e,["id"]);o!=null&&f(t,["id"],o);const l=c(e,["args"]);l!=null&&f(t,["args"],l);const a=c(e,["name"]);if(a!=null&&f(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function iA(e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);if(l!=null&&f(t,["allowedFunctionNames"],l),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function oA(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&f(t,["description"],o);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const a=c(e,["parameters"]);a!=null&&f(t,["parameters"],a);const u=c(e,["parametersJsonSchema"]);u!=null&&f(t,["parametersJsonSchema"],u);const d=c(e,["response"]);d!=null&&f(t,["response"],d);const m=c(e,["responseJsonSchema"]);return m!=null&&f(t,["responseJsonSchema"],m),t}function lA(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],xi(e,l)),o}function sA(e,t){const o={},l=c(t,["name"]);return l!=null&&f(o,["_url","name"],xi(e,l)),o}function aA(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function rA(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function uA(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function cA(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function fA(e){const t={},o=c(e,["config"]);return o!=null&&uA(o,t),t}function dA(e){const t={},o=c(e,["config"]);return o!=null&&cA(o,t),t}function hA(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const a=c(e,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["cachedContents"],u)}return t}function pA(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const a=c(e,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["cachedContents"],u)}return t}function mA(e){const t={},o=c(e,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&f(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&f(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&f(t,["fileData"],tA(u));const d=c(e,["functionCall"]);d!=null&&f(t,["functionCall"],nA(d));const m=c(e,["functionResponse"]);m!=null&&f(t,["functionResponse"],m);const y=c(e,["inlineData"]);y!=null&&f(t,["inlineData"],JS(y));const g=c(e,["text"]);g!=null&&f(t,["text"],g);const v=c(e,["thought"]);v!=null&&f(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const E=c(e,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function gA(e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],iA(o));const l=c(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],l),t}function yA(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&f(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&f(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&f(t,["fileSearch"],u);const d=c(e,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(e,["googleMaps"]);m!=null&&f(t,["googleMaps"],aA(m));const y=c(e,["googleSearch"]);y!=null&&f(t,["googleSearch"],rA(y));const g=c(e,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function vA(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(E=>oA(E))),f(t,["functionDeclarations"],_)}const l=c(e,["retrieval"]);l!=null&&f(t,["retrieval"],l);const a=c(e,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const u=c(e,["computerUse"]);if(u!=null&&f(t,["computerUse"],u),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(e,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const m=c(e,["enterpriseWebSearch"]);m!=null&&f(t,["enterpriseWebSearch"],m);const y=c(e,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const g=c(e,["googleSearch"]);g!=null&&f(t,["googleSearch"],g);const v=c(e,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function TA(e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const a=c(e,["expireTime"]);return t!==void 0&&a!=null&&f(t,["expireTime"],a),o}function _A(e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const a=c(e,["expireTime"]);return t!==void 0&&a!=null&&f(t,["expireTime"],a),o}function EA(e,t){const o={},l=c(t,["name"]);l!=null&&f(o,["_url","name"],xi(e,l));const a=c(t,["config"]);return a!=null&&TA(a,o),o}function SA(e,t){const o={},l=c(t,["name"]);l!=null&&f(o,["_url","name"],xi(e,l));const a=c(t,["config"]);return a!=null&&_A(a,o),o}class AA extends wi{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Jo(Ni.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=ZS(this.apiClient,t);return m=X("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=QS(this.apiClient,t);return m=X("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=sA(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=lA(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=$S(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=eA(v),E=new D2;return Object.assign(E,_),E})}else{const g=WS(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=jS(v),E=new D2;return Object.assign(E,_),E})}}async update(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=SA(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=EA(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=dA(t);return m=X("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=pA(v),E=new w2;return Object.assign(E,_),E})}else{const g=fA(t);return m=X("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=hA(v),E=new w2;return Object.assign(E,_),E})}}}function H2(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],l=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qe(e){return this instanceof Qe?(this.v=e,this):new Qe(e)}function Hl(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(e,t||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(C){return function(b){return Promise.resolve(b).then(C,_)}}function m(C,b){l[C]&&(a[C]=function(k){return new Promise(function(Y,B){u.push([C,k,Y,B])>1||y(C,k)})},b&&(a[C]=b(a[C])))}function y(C,b){try{g(l[C](b))}catch(k){E(u[0][3],k)}}function g(C){C.value instanceof Qe?Promise.resolve(C.value.v).then(v,_):E(u[0][2],C)}function v(C){y("next",C)}function _(C){y("throw",C)}function E(C,b){C(b),u.shift(),u.length&&y(u[0][0],u[0][1])}}function fa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],o;return t?t.call(e):(e=typeof H2=="function"?H2(e):e[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(u){o[u]=e[u]&&function(d){return new Promise(function(m,y){d=e[u](d),a(m,y,d.done,d.value)})}}function a(u,d,m,y){Promise.resolve(y).then(function(g){u({value:g,done:m})},d)}}function CA(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const o=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:A3(o)}function A3(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function MA(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function k2(e){if(e===void 0||e.length===0)return[];const t=[],o=e.length;let l=0;for(;l<o;)if(e[l].role==="user")t.push(e[l]),l++;else{const a=[];let u=!0;for(;l<o&&e[l].role==="model";)a.push(e[l]),u&&!A3(e[l])&&(u=!1),l++;u?t.push(...a):t.pop()}return t}class RA{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new NA(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class NA{constructor(t,o,l,a={},u=[]){this.apiClient=t,this.modelsModule=o,this.model=l,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),MA(u)}async sendMessage(t){var o;await this.sendPromise;const l=Gt(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,d,m;const y=await a,g=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let E=[];v!=null&&(E=(m=v.slice(_))!==null&&m!==void 0?m:[]);const C=g?[g]:[];this.recordHistory(l,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var o;await this.sendPromise;const l=Gt(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,l)}getHistory(t=!1){const o=t?k2(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var l,a;return Hl(this,arguments,function*(){var d,m,y,g;const v=[];try{for(var _=!0,E=fa(t),C;C=yield Qe(E.next()),d=C.done,!d;_=!0){g=C.value,_=!1;const b=g;if(CA(b)){const k=(a=(l=b.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content;k!==void 0&&v.push(k)}yield yield Qe(b)}}catch(b){m={error:b}}finally{try{!_&&!d&&(y=E.return)&&(yield Qe(y.call(E)))}finally{if(m)throw m.error}}this.recordHistory(o,v)})}recordHistory(t,o,l){let a=[];o.length>0&&o.every(u=>u.role!==void 0)?a=o:a.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...k2(l)):this.history.push(t),this.history.push(...a)}}class cu extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,cu.prototype)}}function IA(e){const t={},o=c(e,["file"]);return o!=null&&f(t,["file"],o),t}function DA(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function wA(e){const t={},o=c(e,["name"]);return o!=null&&f(t,["_url","file"],g3(o)),t}function xA(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function UA(e){const t={},o=c(e,["name"]);return o!=null&&f(t,["_url","file"],g3(o)),t}function bA(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function LA(e){const t={},o=c(e,["config"]);return o!=null&&bA(o,t),t}function GA(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const a=c(e,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["files"],u)}return t}class PA extends wi{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Jo(Ni.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=LA(t);return u=X("files",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=GA(y),v=new qE;return Object.assign(v,g),v})}}async createInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=IA(t);return u=X("upload/v1beta/files",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=DA(y),v=new BE;return Object.assign(v,g),v})}}async get(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=UA(t);return u=X("files/{file}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=wA(t);return u=X("files/{file}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=xA(y),v=new OE;return Object.assign(v,g),v})}}}function Xr(e){const t={},o=c(e,["data"]);if(o!=null&&f(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function HA(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>jA(u))),f(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function kA(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function VA(e){const t={},o=c(e,["id"]);o!=null&&f(t,["id"],o);const l=c(e,["args"]);l!=null&&f(t,["args"],l);const a=c(e,["name"]);if(a!=null&&f(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qA(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&f(t,["description"],o);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const a=c(e,["parameters"]);a!=null&&f(t,["parameters"],a);const u=c(e,["parametersJsonSchema"]);u!=null&&f(t,["parametersJsonSchema"],u);const d=c(e,["response"]);d!=null&&f(t,["response"],d);const m=c(e,["responseJsonSchema"]);return m!=null&&f(t,["responseJsonSchema"],m),t}function BA(e){const t={},o=c(e,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const l=c(e,["responseJsonSchema"]);l!=null&&f(t,["responseJsonSchema"],l);const a=c(e,["audioTimestamp"]);a!=null&&f(t,["audioTimestamp"],a);const u=c(e,["candidateCount"]);u!=null&&f(t,["candidateCount"],u);const d=c(e,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const m=c(e,["frequencyPenalty"]);m!=null&&f(t,["frequencyPenalty"],m);const y=c(e,["logprobs"]);y!=null&&f(t,["logprobs"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(t,["maxOutputTokens"],g);const v=c(e,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const _=c(e,["presencePenalty"]);_!=null&&f(t,["presencePenalty"],_);const E=c(e,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const C=c(e,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const b=c(e,["responseModalities"]);b!=null&&f(t,["responseModalities"],b);const k=c(e,["responseSchema"]);k!=null&&f(t,["responseSchema"],k);const Y=c(e,["routingConfig"]);Y!=null&&f(t,["routingConfig"],Y);const B=c(e,["seed"]);B!=null&&f(t,["seed"],B);const z=c(e,["speechConfig"]);z!=null&&f(t,["speechConfig"],C3(z));const V=c(e,["stopSequences"]);V!=null&&f(t,["stopSequences"],V);const Q=c(e,["temperature"]);Q!=null&&f(t,["temperature"],Q);const J=c(e,["thinkingConfig"]);J!=null&&f(t,["thinkingConfig"],J);const $=c(e,["topK"]);$!=null&&f(t,["topK"],$);const q=c(e,["topP"]);if(q!=null&&f(t,["topP"],q),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function OA(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function zA(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function FA(e,t){const o={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig"],l);const a=c(e,["responseModalities"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","responseModalities"],a);const u=c(e,["temperature"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","temperature"],u);const d=c(e,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const m=c(e,["topK"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topK"],m);const y=c(e,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const g=c(e,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const v=c(e,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=c(e,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],dh(_));const E=c(e,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=c(e,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const b=c(e,["systemInstruction"]);t!==void 0&&b!=null&&f(t,["setup","systemInstruction"],HA(Gt(b)));const k=c(e,["tools"]);if(t!==void 0&&k!=null){let $=es(k);Array.isArray($)&&($=$.map(q=>tC(jl(q)))),f(t,["setup","tools"],$)}const Y=c(e,["sessionResumption"]);t!==void 0&&Y!=null&&f(t,["setup","sessionResumption"],eC(Y));const B=c(e,["inputAudioTranscription"]);t!==void 0&&B!=null&&f(t,["setup","inputAudioTranscription"],B);const z=c(e,["outputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","outputAudioTranscription"],z);const V=c(e,["realtimeInputConfig"]);t!==void 0&&V!=null&&f(t,["setup","realtimeInputConfig"],V);const Q=c(e,["contextWindowCompression"]);t!==void 0&&Q!=null&&f(t,["setup","contextWindowCompression"],Q);const J=c(e,["proactivity"]);return t!==void 0&&J!=null&&f(t,["setup","proactivity"],J),o}function YA(e,t){const o={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig"],BA(l));const a=c(e,["responseModalities"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","responseModalities"],a);const u=c(e,["temperature"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","temperature"],u);const d=c(e,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const m=c(e,["topK"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topK"],m);const y=c(e,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const g=c(e,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const v=c(e,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=c(e,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],C3(dh(_)));const E=c(e,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=c(e,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const b=c(e,["systemInstruction"]);t!==void 0&&b!=null&&f(t,["setup","systemInstruction"],Gt(b));const k=c(e,["tools"]);if(t!==void 0&&k!=null){let $=es(k);Array.isArray($)&&($=$.map(q=>nC(jl(q)))),f(t,["setup","tools"],$)}const Y=c(e,["sessionResumption"]);t!==void 0&&Y!=null&&f(t,["setup","sessionResumption"],Y);const B=c(e,["inputAudioTranscription"]);t!==void 0&&B!=null&&f(t,["setup","inputAudioTranscription"],B);const z=c(e,["outputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","outputAudioTranscription"],z);const V=c(e,["realtimeInputConfig"]);t!==void 0&&V!=null&&f(t,["setup","realtimeInputConfig"],V);const Q=c(e,["contextWindowCompression"]);t!==void 0&&Q!=null&&f(t,["setup","contextWindowCompression"],Q);const J=c(e,["proactivity"]);return t!==void 0&&J!=null&&f(t,["setup","proactivity"],J),o}function JA(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["setup","model"],xe(e,l));const a=c(t,["config"]);return a!=null&&f(o,["config"],FA(a,o)),o}function KA(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["setup","model"],xe(e,l));const a=c(t,["config"]);return a!=null&&f(o,["config"],YA(a,o)),o}function XA(e){const t={},o=c(e,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function QA(e){const t={},o=c(e,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),f(t,["weightedPrompts"],l)}return t}function ZA(e){const t={},o=c(e,["media"]);if(o!=null){let g=f3(o);Array.isArray(g)&&(g=g.map(v=>Xr(v))),f(t,["mediaChunks"],g)}const l=c(e,["audio"]);l!=null&&f(t,["audio"],Xr(h3(l)));const a=c(e,["audioStreamEnd"]);a!=null&&f(t,["audioStreamEnd"],a);const u=c(e,["video"]);u!=null&&f(t,["video"],Xr(d3(u)));const d=c(e,["text"]);d!=null&&f(t,["text"],d);const m=c(e,["activityStart"]);m!=null&&f(t,["activityStart"],m);const y=c(e,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function WA(e){const t={},o=c(e,["media"]);if(o!=null){let g=f3(o);Array.isArray(g)&&(g=g.map(v=>v)),f(t,["mediaChunks"],g)}const l=c(e,["audio"]);l!=null&&f(t,["audio"],h3(l));const a=c(e,["audioStreamEnd"]);a!=null&&f(t,["audioStreamEnd"],a);const u=c(e,["video"]);u!=null&&f(t,["video"],d3(u));const d=c(e,["text"]);d!=null&&f(t,["text"],d);const m=c(e,["activityStart"]);m!=null&&f(t,["activityStart"],m);const y=c(e,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function $A(e){const t={},o=c(e,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const l=c(e,["serverContent"]);l!=null&&f(t,["serverContent"],l);const a=c(e,["toolCall"]);a!=null&&f(t,["toolCall"],a);const u=c(e,["toolCallCancellation"]);u!=null&&f(t,["toolCallCancellation"],u);const d=c(e,["usageMetadata"]);d!=null&&f(t,["usageMetadata"],iC(d));const m=c(e,["goAway"]);m!=null&&f(t,["goAway"],m);const y=c(e,["sessionResumptionUpdate"]);return y!=null&&f(t,["sessionResumptionUpdate"],y),t}function jA(e){const t={},o=c(e,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&f(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&f(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&f(t,["fileData"],kA(u));const d=c(e,["functionCall"]);d!=null&&f(t,["functionCall"],VA(d));const m=c(e,["functionResponse"]);m!=null&&f(t,["functionResponse"],m);const y=c(e,["inlineData"]);y!=null&&f(t,["inlineData"],Xr(y));const g=c(e,["text"]);g!=null&&f(t,["text"],g);const v=c(e,["thought"]);v!=null&&f(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const E=c(e,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function eC(e){const t={},o=c(e,["handle"]);if(o!=null&&f(t,["handle"],o),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function C3(e){const t={},o=c(e,["languageCode"]);o!=null&&f(t,["languageCode"],o);const l=c(e,["voiceConfig"]);if(l!=null&&f(t,["voiceConfig"],l),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function tC(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&f(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&f(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&f(t,["fileSearch"],u);const d=c(e,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(e,["googleMaps"]);m!=null&&f(t,["googleMaps"],OA(m));const y=c(e,["googleSearch"]);y!=null&&f(t,["googleSearch"],zA(y));const g=c(e,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function nC(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(E=>qA(E))),f(t,["functionDeclarations"],_)}const l=c(e,["retrieval"]);l!=null&&f(t,["retrieval"],l);const a=c(e,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const u=c(e,["computerUse"]);if(u!=null&&f(t,["computerUse"],u),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(e,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const m=c(e,["enterpriseWebSearch"]);m!=null&&f(t,["enterpriseWebSearch"],m);const y=c(e,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const g=c(e,["googleSearch"]);g!=null&&f(t,["googleSearch"],g);const v=c(e,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function iC(e){const t={},o=c(e,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const l=c(e,["cachedContentTokenCount"]);l!=null&&f(t,["cachedContentTokenCount"],l);const a=c(e,["candidatesTokenCount"]);a!=null&&f(t,["responseTokenCount"],a);const u=c(e,["toolUsePromptTokenCount"]);u!=null&&f(t,["toolUsePromptTokenCount"],u);const d=c(e,["thoughtsTokenCount"]);d!=null&&f(t,["thoughtsTokenCount"],d);const m=c(e,["totalTokenCount"]);m!=null&&f(t,["totalTokenCount"],m);const y=c(e,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(b=>b)),f(t,["promptTokensDetails"],C)}const g=c(e,["cacheTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(b=>b)),f(t,["cacheTokensDetails"],C)}const v=c(e,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(b=>b)),f(t,["responseTokensDetails"],C)}const _=c(e,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(b=>b)),f(t,["toolUsePromptTokensDetails"],C)}const E=c(e,["trafficType"]);return E!=null&&f(t,["trafficType"],E),t}function oC(e){const t={},o=c(e,["data"]);if(o!=null&&f(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function lC(e){const t={},o=c(e,["content"]);o!=null&&f(t,["content"],o);const l=c(e,["citationMetadata"]);l!=null&&f(t,["citationMetadata"],sC(l));const a=c(e,["tokenCount"]);a!=null&&f(t,["tokenCount"],a);const u=c(e,["finishReason"]);u!=null&&f(t,["finishReason"],u);const d=c(e,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const m=c(e,["groundingMetadata"]);m!=null&&f(t,["groundingMetadata"],m);const y=c(e,["index"]);y!=null&&f(t,["index"],y);const g=c(e,["logprobsResult"]);g!=null&&f(t,["logprobsResult"],g);const v=c(e,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),f(t,["safetyRatings"],E)}const _=c(e,["urlContextMetadata"]);return _!=null&&f(t,["urlContextMetadata"],_),t}function sC(e){const t={},o=c(e,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),f(t,["citations"],l)}return t}function aC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["contents"]);if(a!=null){let u=bn(a);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["contents"],u)}return o}function rC(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["tokensInfo"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),f(t,["tokensInfo"],a)}return t}function uC(e){const t={},o=c(e,["values"]);o!=null&&f(t,["values"],o);const l=c(e,["statistics"]);return l!=null&&f(t,["statistics"],cC(l)),t}function cC(e){const t={},o=c(e,["truncated"]);o!=null&&f(t,["truncated"],o);const l=c(e,["token_count"]);return l!=null&&f(t,["tokenCount"],l),t}function fu(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>T5(u))),f(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function fC(e){const t={},o=c(e,["controlType"]);o!=null&&f(t,["controlType"],o);const l=c(e,["enableControlImageComputation"]);return l!=null&&f(t,["computeControl"],l),t}function dC(e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function hC(e,t){const o={},l=c(e,["systemInstruction"]);t!==void 0&&l!=null&&f(t,["systemInstruction"],Gt(l));const a=c(e,["tools"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>D3(m))),f(t,["tools"],d)}const u=c(e,["generationConfig"]);return t!==void 0&&u!=null&&f(t,["generationConfig"],o5(u)),o}function pC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["contents"]);if(a!=null){let d=bn(a);Array.isArray(d)&&(d=d.map(m=>fu(m))),f(o,["contents"],d)}const u=c(t,["config"]);return u!=null&&dC(u),o}function mC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["contents"]);if(a!=null){let d=bn(a);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["contents"],d)}const u=c(t,["config"]);return u!=null&&hC(u,o),o}function gC(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["totalTokens"]);l!=null&&f(t,["totalTokens"],l);const a=c(e,["cachedContentTokenCount"]);return a!=null&&f(t,["cachedContentTokenCount"],a),t}function yC(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["totalTokens"]);return l!=null&&f(t,["totalTokens"],l),t}function vC(e,t){const o={},l=c(t,["model"]);return l!=null&&f(o,["_url","name"],xe(e,l)),o}function TC(e,t){const o={},l=c(t,["model"]);return l!=null&&f(o,["_url","name"],xe(e,l)),o}function _C(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function EC(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function SC(e,t){const o={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&f(t,["parameters","storageUri"],l);const a=c(e,["negativePrompt"]);t!==void 0&&a!=null&&f(t,["parameters","negativePrompt"],a);const u=c(e,["numberOfImages"]);t!==void 0&&u!=null&&f(t,["parameters","sampleCount"],u);const d=c(e,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const m=c(e,["guidanceScale"]);t!==void 0&&m!=null&&f(t,["parameters","guidanceScale"],m);const y=c(e,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const g=c(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const v=c(e,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=c(e,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const E=c(e,["includeRaiReason"]);t!==void 0&&E!=null&&f(t,["parameters","includeRaiReason"],E);const C=c(e,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const b=c(e,["outputMimeType"]);t!==void 0&&b!=null&&f(t,["parameters","outputOptions","mimeType"],b);const k=c(e,["outputCompressionQuality"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","compressionQuality"],k);const Y=c(e,["addWatermark"]);t!==void 0&&Y!=null&&f(t,["parameters","addWatermark"],Y);const B=c(e,["labels"]);t!==void 0&&B!=null&&f(t,["labels"],B);const z=c(e,["editMode"]);t!==void 0&&z!=null&&f(t,["parameters","editMode"],z);const V=c(e,["baseSteps"]);return t!==void 0&&V!=null&&f(t,["parameters","editConfig","baseSteps"],V),o}function AC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(t,["referenceImages"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>M5(y))),f(o,["instances[0]","referenceImages"],m)}const d=c(t,["config"]);return d!=null&&SC(d,o),o}function CC(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>du(u))),f(t,["generatedImages"],a)}return t}function MC(e,t){const o={},l=c(e,["taskType"]);t!==void 0&&l!=null&&f(t,["requests[]","taskType"],l);const a=c(e,["title"]);t!==void 0&&a!=null&&f(t,["requests[]","title"],a);const u=c(e,["outputDimensionality"]);if(t!==void 0&&u!=null&&f(t,["requests[]","outputDimensionality"],u),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function RC(e,t){const o={},l=c(e,["taskType"]);t!==void 0&&l!=null&&f(t,["instances[]","task_type"],l);const a=c(e,["title"]);t!==void 0&&a!=null&&f(t,["instances[]","title"],a);const u=c(e,["outputDimensionality"]);t!==void 0&&u!=null&&f(t,["parameters","outputDimensionality"],u);const d=c(e,["mimeType"]);t!==void 0&&d!=null&&f(t,["instances[]","mimeType"],d);const m=c(e,["autoTruncate"]);return t!==void 0&&m!=null&&f(t,["parameters","autoTruncate"],m),o}function NC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["contents"]);if(a!=null){let m=uh(e,a);Array.isArray(m)&&(m=m.map(y=>y)),f(o,["requests[]","content"],m)}const u=c(t,["config"]);u!=null&&MC(u,o);const d=c(t,["model"]);return d!==void 0&&f(o,["requests[]","model"],xe(e,d)),o}function IC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["contents"]);if(a!=null){let d=uh(e,a);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["instances[]","content"],d)}const u=c(t,["config"]);return u!=null&&RC(u,o),o}function DC(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["embeddings"],u)}const a=c(e,["metadata"]);return a!=null&&f(t,["metadata"],a),t}function wC(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["predictions[]","embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>uC(d))),f(t,["embeddings"],u)}const a=c(e,["metadata"]);return a!=null&&f(t,["metadata"],a),t}function xC(e){const t={},o=c(e,["endpoint"]);o!=null&&f(t,["name"],o);const l=c(e,["deployedModelId"]);return l!=null&&f(t,["deployedModelId"],l),t}function UC(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function bC(e){const t={},o=c(e,["id"]);o!=null&&f(t,["id"],o);const l=c(e,["args"]);l!=null&&f(t,["args"],l);const a=c(e,["name"]);if(a!=null&&f(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function LC(e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);if(l!=null&&f(t,["allowedFunctionNames"],l),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function GC(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&f(t,["description"],o);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const a=c(e,["parameters"]);a!=null&&f(t,["parameters"],a);const u=c(e,["parametersJsonSchema"]);u!=null&&f(t,["parametersJsonSchema"],u);const d=c(e,["response"]);d!=null&&f(t,["response"],d);const m=c(e,["responseJsonSchema"]);return m!=null&&f(t,["responseJsonSchema"],m),t}function PC(e,t,o){const l={},a=c(t,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],fu(Gt(a)));const u=c(t,["temperature"]);u!=null&&f(l,["temperature"],u);const d=c(t,["topP"]);d!=null&&f(l,["topP"],d);const m=c(t,["topK"]);m!=null&&f(l,["topK"],m);const y=c(t,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const g=c(t,["maxOutputTokens"]);g!=null&&f(l,["maxOutputTokens"],g);const v=c(t,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const _=c(t,["responseLogprobs"]);_!=null&&f(l,["responseLogprobs"],_);const E=c(t,["logprobs"]);E!=null&&f(l,["logprobs"],E);const C=c(t,["presencePenalty"]);C!=null&&f(l,["presencePenalty"],C);const b=c(t,["frequencyPenalty"]);b!=null&&f(l,["frequencyPenalty"],b);const k=c(t,["seed"]);k!=null&&f(l,["seed"],k);const Y=c(t,["responseMimeType"]);Y!=null&&f(l,["responseMimeType"],Y);const B=c(t,["responseSchema"]);B!=null&&f(l,["responseSchema"],ch(B));const z=c(t,["responseJsonSchema"]);if(z!=null&&f(l,["responseJsonSchema"],z),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=c(t,["safetySettings"]);if(o!==void 0&&V!=null){let de=V;Array.isArray(de)&&(de=de.map(at=>R5(at))),f(o,["safetySettings"],de)}const Q=c(t,["tools"]);if(o!==void 0&&Q!=null){let de=es(Q);Array.isArray(de)&&(de=de.map(at=>b5(jl(at)))),f(o,["tools"],de)}const J=c(t,["toolConfig"]);if(o!==void 0&&J!=null&&f(o,["toolConfig"],U5(J)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=c(t,["cachedContent"]);o!==void 0&&$!=null&&f(o,["cachedContent"],xi(e,$));const q=c(t,["responseModalities"]);q!=null&&f(l,["responseModalities"],q);const ce=c(t,["mediaResolution"]);ce!=null&&f(l,["mediaResolution"],ce);const Z=c(t,["speechConfig"]);if(Z!=null&&f(l,["speechConfig"],fh(Z)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=c(t,["thinkingConfig"]);fe!=null&&f(l,["thinkingConfig"],fe);const he=c(t,["imageConfig"]);return he!=null&&f(l,["imageConfig"],u5(he)),l}function HC(e,t,o){const l={},a=c(t,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],Gt(a));const u=c(t,["temperature"]);u!=null&&f(l,["temperature"],u);const d=c(t,["topP"]);d!=null&&f(l,["topP"],d);const m=c(t,["topK"]);m!=null&&f(l,["topK"],m);const y=c(t,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const g=c(t,["maxOutputTokens"]);g!=null&&f(l,["maxOutputTokens"],g);const v=c(t,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const _=c(t,["responseLogprobs"]);_!=null&&f(l,["responseLogprobs"],_);const E=c(t,["logprobs"]);E!=null&&f(l,["logprobs"],E);const C=c(t,["presencePenalty"]);C!=null&&f(l,["presencePenalty"],C);const b=c(t,["frequencyPenalty"]);b!=null&&f(l,["frequencyPenalty"],b);const k=c(t,["seed"]);k!=null&&f(l,["seed"],k);const Y=c(t,["responseMimeType"]);Y!=null&&f(l,["responseMimeType"],Y);const B=c(t,["responseSchema"]);B!=null&&f(l,["responseSchema"],ch(B));const z=c(t,["responseJsonSchema"]);z!=null&&f(l,["responseJsonSchema"],z);const V=c(t,["routingConfig"]);V!=null&&f(l,["routingConfig"],V);const Q=c(t,["modelSelectionConfig"]);Q!=null&&f(l,["modelConfig"],Q);const J=c(t,["safetySettings"]);if(o!==void 0&&J!=null){let x=J;Array.isArray(x)&&(x=x.map(F=>F)),f(o,["safetySettings"],x)}const $=c(t,["tools"]);if(o!==void 0&&$!=null){let x=es($);Array.isArray(x)&&(x=x.map(F=>D3(jl(F)))),f(o,["tools"],x)}const q=c(t,["toolConfig"]);o!==void 0&&q!=null&&f(o,["toolConfig"],q);const ce=c(t,["labels"]);o!==void 0&&ce!=null&&f(o,["labels"],ce);const Z=c(t,["cachedContent"]);o!==void 0&&Z!=null&&f(o,["cachedContent"],xi(e,Z));const fe=c(t,["responseModalities"]);fe!=null&&f(l,["responseModalities"],fe);const he=c(t,["mediaResolution"]);he!=null&&f(l,["mediaResolution"],he);const de=c(t,["speechConfig"]);de!=null&&f(l,["speechConfig"],I3(fh(de)));const at=c(t,["audioTimestamp"]);at!=null&&f(l,["audioTimestamp"],at);const xt=c(t,["thinkingConfig"]);xt!=null&&f(l,["thinkingConfig"],xt);const Ut=c(t,["imageConfig"]);return Ut!=null&&f(l,["imageConfig"],c5(Ut)),l}function V2(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["contents"]);if(a!=null){let d=bn(a);Array.isArray(d)&&(d=d.map(m=>fu(m))),f(o,["contents"],d)}const u=c(t,["config"]);return u!=null&&f(o,["generationConfig"],PC(e,u,o)),o}function q2(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["contents"]);if(a!=null){let d=bn(a);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["contents"],d)}const u=c(t,["config"]);return u!=null&&f(o,["generationConfig"],HC(e,u,o)),o}function B2(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>lC(g))),f(t,["candidates"],y)}const a=c(e,["modelVersion"]);a!=null&&f(t,["modelVersion"],a);const u=c(e,["promptFeedback"]);u!=null&&f(t,["promptFeedback"],u);const d=c(e,["responseId"]);d!=null&&f(t,["responseId"],d);const m=c(e,["usageMetadata"]);return m!=null&&f(t,["usageMetadata"],m),t}function O2(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["candidates"],g)}const a=c(e,["createTime"]);a!=null&&f(t,["createTime"],a);const u=c(e,["modelVersion"]);u!=null&&f(t,["modelVersion"],u);const d=c(e,["promptFeedback"]);d!=null&&f(t,["promptFeedback"],d);const m=c(e,["responseId"]);m!=null&&f(t,["responseId"],m);const y=c(e,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function kC(e,t){const o={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(e,["numberOfImages"]);t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l);const a=c(e,["aspectRatio"]);t!==void 0&&a!=null&&f(t,["parameters","aspectRatio"],a);const u=c(e,["guidanceScale"]);if(t!==void 0&&u!=null&&f(t,["parameters","guidanceScale"],u),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&f(t,["parameters","safetySetting"],d);const m=c(e,["personGeneration"]);t!==void 0&&m!=null&&f(t,["parameters","personGeneration"],m);const y=c(e,["includeSafetyAttributes"]);t!==void 0&&y!=null&&f(t,["parameters","includeSafetyAttributes"],y);const g=c(e,["includeRaiReason"]);t!==void 0&&g!=null&&f(t,["parameters","includeRaiReason"],g);const v=c(e,["language"]);t!==void 0&&v!=null&&f(t,["parameters","language"],v);const _=c(e,["outputMimeType"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","mimeType"],_);const E=c(e,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(e,["imageSize"]);if(t!==void 0&&C!=null&&f(t,["parameters","sampleImageSize"],C),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function VC(e,t){const o={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&f(t,["parameters","storageUri"],l);const a=c(e,["negativePrompt"]);t!==void 0&&a!=null&&f(t,["parameters","negativePrompt"],a);const u=c(e,["numberOfImages"]);t!==void 0&&u!=null&&f(t,["parameters","sampleCount"],u);const d=c(e,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const m=c(e,["guidanceScale"]);t!==void 0&&m!=null&&f(t,["parameters","guidanceScale"],m);const y=c(e,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const g=c(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const v=c(e,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=c(e,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const E=c(e,["includeRaiReason"]);t!==void 0&&E!=null&&f(t,["parameters","includeRaiReason"],E);const C=c(e,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const b=c(e,["outputMimeType"]);t!==void 0&&b!=null&&f(t,["parameters","outputOptions","mimeType"],b);const k=c(e,["outputCompressionQuality"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","compressionQuality"],k);const Y=c(e,["addWatermark"]);t!==void 0&&Y!=null&&f(t,["parameters","addWatermark"],Y);const B=c(e,["labels"]);t!==void 0&&B!=null&&f(t,["labels"],B);const z=c(e,["imageSize"]);t!==void 0&&z!=null&&f(t,["parameters","sampleImageSize"],z);const V=c(e,["enhancePrompt"]);return t!==void 0&&V!=null&&f(t,["parameters","enhancePrompt"],V),o}function qC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(t,["config"]);return u!=null&&kC(u,o),o}function BC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(t,["config"]);return u!=null&&VC(u,o),o}function OC(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>e5(d))),f(t,["generatedImages"],u)}const a=c(e,["positivePromptSafetyAttributes"]);return a!=null&&f(t,["positivePromptSafetyAttributes"],R3(a)),t}function zC(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>du(d))),f(t,["generatedImages"],u)}const a=c(e,["positivePromptSafetyAttributes"]);return a!=null&&f(t,["positivePromptSafetyAttributes"],N3(a)),t}function FC(e,t){const o={},l=c(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(e,["durationSeconds"]);if(t!==void 0&&a!=null&&f(t,["parameters","durationSeconds"],a),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(e,["aspectRatio"]);t!==void 0&&u!=null&&f(t,["parameters","aspectRatio"],u);const d=c(e,["resolution"]);t!==void 0&&d!=null&&f(t,["parameters","resolution"],d);const m=c(e,["personGeneration"]);if(t!==void 0&&m!=null&&f(t,["parameters","personGeneration"],m),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(e,["negativePrompt"]);t!==void 0&&y!=null&&f(t,["parameters","negativePrompt"],y);const g=c(e,["enhancePrompt"]);if(t!==void 0&&g!=null&&f(t,["parameters","enhancePrompt"],g),c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(e,["lastFrame"]);t!==void 0&&v!=null&&f(t,["instances[0]","lastFrame"],hu(v));const _=c(e,["referenceImages"]);if(t!==void 0&&_!=null){let E=_;Array.isArray(E)&&(E=E.map(C=>J5(C))),f(t,["instances[0]","referenceImages"],E)}if(c(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function YC(e,t){const o={},l=c(e,["numberOfVideos"]);t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l);const a=c(e,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const u=c(e,["fps"]);t!==void 0&&u!=null&&f(t,["parameters","fps"],u);const d=c(e,["durationSeconds"]);t!==void 0&&d!=null&&f(t,["parameters","durationSeconds"],d);const m=c(e,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const y=c(e,["aspectRatio"]);t!==void 0&&y!=null&&f(t,["parameters","aspectRatio"],y);const g=c(e,["resolution"]);t!==void 0&&g!=null&&f(t,["parameters","resolution"],g);const v=c(e,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const _=c(e,["pubsubTopic"]);t!==void 0&&_!=null&&f(t,["parameters","pubsubTopic"],_);const E=c(e,["negativePrompt"]);t!==void 0&&E!=null&&f(t,["parameters","negativePrompt"],E);const C=c(e,["enhancePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","enhancePrompt"],C);const b=c(e,["generateAudio"]);t!==void 0&&b!=null&&f(t,["parameters","generateAudio"],b);const k=c(e,["lastFrame"]);t!==void 0&&k!=null&&f(t,["instances[0]","lastFrame"],qn(k));const Y=c(e,["referenceImages"]);if(t!==void 0&&Y!=null){let V=Y;Array.isArray(V)&&(V=V.map(Q=>K5(Q))),f(t,["instances[0]","referenceImages"],V)}const B=c(e,["mask"]);t!==void 0&&B!=null&&f(t,["instances[0]","mask"],Y5(B));const z=c(e,["compressionQuality"]);return t!==void 0&&z!=null&&f(t,["parameters","compressionQuality"],z),o}function JC(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const a=c(e,["done"]);a!=null&&f(t,["done"],a);const u=c(e,["error"]);u!=null&&f(t,["error"],u);const d=c(e,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],ZC(d)),t}function KC(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const a=c(e,["done"]);a!=null&&f(t,["done"],a);const u=c(e,["error"]);u!=null&&f(t,["error"],u);const d=c(e,["response"]);return d!=null&&f(t,["response"],WC(d)),t}function XC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(t,["image"]);u!=null&&f(o,["instances[0]","image"],hu(u));const d=c(t,["video"]);d!=null&&f(o,["instances[0]","video"],w3(d));const m=c(t,["source"]);m!=null&&$C(m,o);const y=c(t,["config"]);return y!=null&&FC(y,o),o}function QC(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const u=c(t,["image"]);u!=null&&f(o,["instances[0]","image"],qn(u));const d=c(t,["video"]);d!=null&&f(o,["instances[0]","video"],x3(d));const m=c(t,["source"]);m!=null&&jC(m,o);const y=c(t,["config"]);return y!=null&&YC(y,o),o}function ZC(e){const t={},o=c(e,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>n5(d))),f(t,["generatedVideos"],u)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const a=c(e,["raiMediaFilteredReasons"]);return a!=null&&f(t,["raiMediaFilteredReasons"],a),t}function WC(e){const t={},o=c(e,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>i5(d))),f(t,["generatedVideos"],u)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const a=c(e,["raiMediaFilteredReasons"]);return a!=null&&f(t,["raiMediaFilteredReasons"],a),t}function $C(e,t){const o={},l=c(e,["prompt"]);t!==void 0&&l!=null&&f(t,["instances[0]","prompt"],l);const a=c(e,["image"]);t!==void 0&&a!=null&&f(t,["instances[0]","image"],hu(a));const u=c(e,["video"]);return t!==void 0&&u!=null&&f(t,["instances[0]","video"],w3(u)),o}function jC(e,t){const o={},l=c(e,["prompt"]);t!==void 0&&l!=null&&f(t,["instances[0]","prompt"],l);const a=c(e,["image"]);t!==void 0&&a!=null&&f(t,["instances[0]","image"],qn(a));const u=c(e,["video"]);return t!==void 0&&u!=null&&f(t,["instances[0]","video"],x3(u)),o}function e5(e){const t={},o=c(e,["_self"]);o!=null&&f(t,["image"],f5(o));const l=c(e,["raiFilteredReason"]);l!=null&&f(t,["raiFilteredReason"],l);const a=c(e,["_self"]);return a!=null&&f(t,["safetyAttributes"],R3(a)),t}function du(e){const t={},o=c(e,["_self"]);o!=null&&f(t,["image"],M3(o));const l=c(e,["raiFilteredReason"]);l!=null&&f(t,["raiFilteredReason"],l);const a=c(e,["_self"]);a!=null&&f(t,["safetyAttributes"],N3(a));const u=c(e,["prompt"]);return u!=null&&f(t,["enhancedPrompt"],u),t}function t5(e){const t={},o=c(e,["_self"]);o!=null&&f(t,["mask"],M3(o));const l=c(e,["labels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),f(t,["labels"],a)}return t}function n5(e){const t={},o=c(e,["video"]);return o!=null&&f(t,["video"],z5(o)),t}function i5(e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],F5(o)),t}function o5(e){const t={},o=c(e,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const l=c(e,["responseJsonSchema"]);l!=null&&f(t,["responseJsonSchema"],l);const a=c(e,["audioTimestamp"]);a!=null&&f(t,["audioTimestamp"],a);const u=c(e,["candidateCount"]);u!=null&&f(t,["candidateCount"],u);const d=c(e,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const m=c(e,["frequencyPenalty"]);m!=null&&f(t,["frequencyPenalty"],m);const y=c(e,["logprobs"]);y!=null&&f(t,["logprobs"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(t,["maxOutputTokens"],g);const v=c(e,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const _=c(e,["presencePenalty"]);_!=null&&f(t,["presencePenalty"],_);const E=c(e,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const C=c(e,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const b=c(e,["responseModalities"]);b!=null&&f(t,["responseModalities"],b);const k=c(e,["responseSchema"]);k!=null&&f(t,["responseSchema"],k);const Y=c(e,["routingConfig"]);Y!=null&&f(t,["routingConfig"],Y);const B=c(e,["seed"]);B!=null&&f(t,["seed"],B);const z=c(e,["speechConfig"]);z!=null&&f(t,["speechConfig"],I3(z));const V=c(e,["stopSequences"]);V!=null&&f(t,["stopSequences"],V);const Q=c(e,["temperature"]);Q!=null&&f(t,["temperature"],Q);const J=c(e,["thinkingConfig"]);J!=null&&f(t,["thinkingConfig"],J);const $=c(e,["topK"]);$!=null&&f(t,["topK"],$);const q=c(e,["topP"]);if(q!=null&&f(t,["topP"],q),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function l5(e,t){const o={},l=c(t,["model"]);return l!=null&&f(o,["_url","name"],xe(e,l)),o}function s5(e,t){const o={},l=c(t,["model"]);return l!=null&&f(o,["_url","name"],xe(e,l)),o}function a5(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function r5(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function u5(e){const t={},o=c(e,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const l=c(e,["imageSize"]);if(l!=null&&f(t,["imageSize"],l),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function c5(e){const t={},o=c(e,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const l=c(e,["imageSize"]);l!=null&&f(t,["imageSize"],l);const a=c(e,["outputMimeType"]);a!=null&&f(t,["imageOutputOptions","mimeType"],a);const u=c(e,["outputCompressionQuality"]);return u!=null&&f(t,["imageOutputOptions","compressionQuality"],u),t}function f5(e){const t={},o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["imageBytes"],mo(o));const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function M3(e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const l=c(e,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],mo(l));const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function hu(e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(e,["imageBytes"]);o!=null&&f(t,["bytesBase64Encoded"],mo(o));const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function qn(e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const l=c(e,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],mo(l));const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function d5(e,t,o){const l={},a=c(t,["pageSize"]);o!==void 0&&a!=null&&f(o,["_query","pageSize"],a);const u=c(t,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(t,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const m=c(t,["queryBase"]);return o!==void 0&&m!=null&&f(o,["_url","models_url"],y3(e,m)),l}function h5(e,t,o){const l={},a=c(t,["pageSize"]);o!==void 0&&a!=null&&f(o,["_query","pageSize"],a);const u=c(t,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(t,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const m=c(t,["queryBase"]);return o!==void 0&&m!=null&&f(o,["_url","models_url"],y3(e,m)),l}function p5(e,t){const o={},l=c(t,["config"]);return l!=null&&d5(e,l,o),o}function m5(e,t){const o={},l=c(t,["config"]);return l!=null&&h5(e,l,o),o}function g5(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const a=c(e,["_self"]);if(a!=null){let u=v3(a);Array.isArray(u)&&(u=u.map(d=>Ld(d))),f(t,["models"],u)}return t}function y5(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const a=c(e,["_self"]);if(a!=null){let u=v3(a);Array.isArray(u)&&(u=u.map(d=>Gd(d))),f(t,["models"],u)}return t}function v5(e){const t={},o=c(e,["maskMode"]);o!=null&&f(t,["maskMode"],o);const l=c(e,["segmentationClasses"]);l!=null&&f(t,["maskClasses"],l);const a=c(e,["maskDilation"]);return a!=null&&f(t,["dilation"],a),t}function Ld(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const a=c(e,["description"]);a!=null&&f(t,["description"],a);const u=c(e,["version"]);u!=null&&f(t,["version"],u);const d=c(e,["_self"]);d!=null&&f(t,["tunedModelInfo"],L5(d));const m=c(e,["inputTokenLimit"]);m!=null&&f(t,["inputTokenLimit"],m);const y=c(e,["outputTokenLimit"]);y!=null&&f(t,["outputTokenLimit"],y);const g=c(e,["supportedGenerationMethods"]);g!=null&&f(t,["supportedActions"],g);const v=c(e,["temperature"]);v!=null&&f(t,["temperature"],v);const _=c(e,["maxTemperature"]);_!=null&&f(t,["maxTemperature"],_);const E=c(e,["topP"]);E!=null&&f(t,["topP"],E);const C=c(e,["topK"]);C!=null&&f(t,["topK"],C);const b=c(e,["thinking"]);return b!=null&&f(t,["thinking"],b),t}function Gd(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const a=c(e,["description"]);a!=null&&f(t,["description"],a);const u=c(e,["versionId"]);u!=null&&f(t,["version"],u);const d=c(e,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(E=>xC(E))),f(t,["endpoints"],_)}const m=c(e,["labels"]);m!=null&&f(t,["labels"],m);const y=c(e,["_self"]);y!=null&&f(t,["tunedModelInfo"],G5(y));const g=c(e,["defaultCheckpointId"]);g!=null&&f(t,["defaultCheckpointId"],g);const v=c(e,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(E=>E)),f(t,["checkpoints"],_)}return t}function T5(e){const t={},o=c(e,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&f(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&f(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&f(t,["fileData"],UC(u));const d=c(e,["functionCall"]);d!=null&&f(t,["functionCall"],bC(d));const m=c(e,["functionResponse"]);m!=null&&f(t,["functionResponse"],m);const y=c(e,["inlineData"]);y!=null&&f(t,["inlineData"],oC(y));const g=c(e,["text"]);g!=null&&f(t,["text"],g);const v=c(e,["thought"]);v!=null&&f(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const E=c(e,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function _5(e){const t={},o=c(e,["productImage"]);return o!=null&&f(t,["image"],qn(o)),t}function E5(e,t){const o={},l=c(e,["numberOfImages"]);t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l);const a=c(e,["baseSteps"]);t!==void 0&&a!=null&&f(t,["parameters","baseSteps"],a);const u=c(e,["outputGcsUri"]);t!==void 0&&u!=null&&f(t,["parameters","storageUri"],u);const d=c(e,["seed"]);t!==void 0&&d!=null&&f(t,["parameters","seed"],d);const m=c(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const y=c(e,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const g=c(e,["addWatermark"]);t!==void 0&&g!=null&&f(t,["parameters","addWatermark"],g);const v=c(e,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const _=c(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","compressionQuality"],_);const E=c(e,["enhancePrompt"]);t!==void 0&&E!=null&&f(t,["parameters","enhancePrompt"],E);const C=c(e,["labels"]);return t!==void 0&&C!=null&&f(t,["labels"],C),o}function S5(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["source"]);a!=null&&C5(a,o);const u=c(t,["config"]);return u!=null&&E5(u,o),o}function A5(e){const t={},o=c(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>du(a))),f(t,["generatedImages"],l)}return t}function C5(e,t){const o={},l=c(e,["prompt"]);t!==void 0&&l!=null&&f(t,["instances[0]","prompt"],l);const a=c(e,["personImage"]);t!==void 0&&a!=null&&f(t,["instances[0]","personImage","image"],qn(a));const u=c(e,["productImages"]);if(t!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>_5(m))),f(t,["instances[0]","productImages"],d)}return o}function M5(e){const t={},o=c(e,["referenceImage"]);o!=null&&f(t,["referenceImage"],qn(o));const l=c(e,["referenceId"]);l!=null&&f(t,["referenceId"],l);const a=c(e,["referenceType"]);a!=null&&f(t,["referenceType"],a);const u=c(e,["maskImageConfig"]);u!=null&&f(t,["maskImageConfig"],v5(u));const d=c(e,["controlImageConfig"]);d!=null&&f(t,["controlImageConfig"],fC(d));const m=c(e,["styleImageConfig"]);m!=null&&f(t,["styleImageConfig"],m);const y=c(e,["subjectImageConfig"]);return y!=null&&f(t,["subjectImageConfig"],y),t}function R3(e){const t={},o=c(e,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const l=c(e,["safetyAttributes","scores"]);l!=null&&f(t,["scores"],l);const a=c(e,["contentType"]);return a!=null&&f(t,["contentType"],a),t}function N3(e){const t={},o=c(e,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const l=c(e,["safetyAttributes","scores"]);l!=null&&f(t,["scores"],l);const a=c(e,["contentType"]);return a!=null&&f(t,["contentType"],a),t}function R5(e){const t={},o=c(e,["category"]);if(o!=null&&f(t,["category"],o),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(e,["threshold"]);return l!=null&&f(t,["threshold"],l),t}function N5(e){const t={},o=c(e,["image"]);return o!=null&&f(t,["image"],qn(o)),t}function I5(e,t){const o={},l=c(e,["mode"]);t!==void 0&&l!=null&&f(t,["parameters","mode"],l);const a=c(e,["maxPredictions"]);t!==void 0&&a!=null&&f(t,["parameters","maxPredictions"],a);const u=c(e,["confidenceThreshold"]);t!==void 0&&u!=null&&f(t,["parameters","confidenceThreshold"],u);const d=c(e,["maskDilation"]);t!==void 0&&d!=null&&f(t,["parameters","maskDilation"],d);const m=c(e,["binaryColorThreshold"]);t!==void 0&&m!=null&&f(t,["parameters","binaryColorThreshold"],m);const y=c(e,["labels"]);return t!==void 0&&y!=null&&f(t,["labels"],y),o}function D5(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["source"]);a!=null&&x5(a,o);const u=c(t,["config"]);return u!=null&&I5(u,o),o}function w5(e){const t={},o=c(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>t5(a))),f(t,["generatedMasks"],l)}return t}function x5(e,t){const o={},l=c(e,["prompt"]);t!==void 0&&l!=null&&f(t,["instances[0]","prompt"],l);const a=c(e,["image"]);t!==void 0&&a!=null&&f(t,["instances[0]","image"],qn(a));const u=c(e,["scribbleImage"]);return t!==void 0&&u!=null&&f(t,["instances[0]","scribble"],N5(u)),o}function I3(e){const t={},o=c(e,["languageCode"]);o!=null&&f(t,["languageCode"],o);const l=c(e,["voiceConfig"]);if(l!=null&&f(t,["voiceConfig"],l),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function U5(e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],LC(o));const l=c(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],l),t}function b5(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&f(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&f(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&f(t,["fileSearch"],u);const d=c(e,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(e,["googleMaps"]);m!=null&&f(t,["googleMaps"],a5(m));const y=c(e,["googleSearch"]);y!=null&&f(t,["googleSearch"],r5(y));const g=c(e,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function D3(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(E=>GC(E))),f(t,["functionDeclarations"],_)}const l=c(e,["retrieval"]);l!=null&&f(t,["retrieval"],l);const a=c(e,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const u=c(e,["computerUse"]);if(u!=null&&f(t,["computerUse"],u),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(e,["codeExecution"]);d!=null&&f(t,["codeExecution"],d);const m=c(e,["enterpriseWebSearch"]);m!=null&&f(t,["enterpriseWebSearch"],m);const y=c(e,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const g=c(e,["googleSearch"]);g!=null&&f(t,["googleSearch"],g);const v=c(e,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function L5(e){const t={},o=c(e,["baseModel"]);o!=null&&f(t,["baseModel"],o);const l=c(e,["createTime"]);l!=null&&f(t,["createTime"],l);const a=c(e,["updateTime"]);return a!=null&&f(t,["updateTime"],a),t}function G5(e){const t={},o=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(t,["baseModel"],o);const l=c(e,["createTime"]);l!=null&&f(t,["createTime"],l);const a=c(e,["updateTime"]);return a!=null&&f(t,["updateTime"],a),t}function P5(e,t){const o={},l=c(e,["displayName"]);t!==void 0&&l!=null&&f(t,["displayName"],l);const a=c(e,["description"]);t!==void 0&&a!=null&&f(t,["description"],a);const u=c(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&f(t,["defaultCheckpointId"],u),o}function H5(e,t){const o={},l=c(e,["displayName"]);t!==void 0&&l!=null&&f(t,["displayName"],l);const a=c(e,["description"]);t!==void 0&&a!=null&&f(t,["description"],a);const u=c(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&f(t,["defaultCheckpointId"],u),o}function k5(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","name"],xe(e,l));const a=c(t,["config"]);return a!=null&&P5(a,o),o}function V5(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["config"]);return a!=null&&H5(a,o),o}function q5(e,t){const o={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&f(t,["parameters","storageUri"],l);const a=c(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&f(t,["parameters","safetySetting"],a);const u=c(e,["personGeneration"]);t!==void 0&&u!=null&&f(t,["parameters","personGeneration"],u);const d=c(e,["includeRaiReason"]);t!==void 0&&d!=null&&f(t,["parameters","includeRaiReason"],d);const m=c(e,["outputMimeType"]);t!==void 0&&m!=null&&f(t,["parameters","outputOptions","mimeType"],m);const y=c(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","compressionQuality"],y);const g=c(e,["enhanceInputImage"]);t!==void 0&&g!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],g);const v=c(e,["imagePreservationFactor"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=c(e,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const E=c(e,["numberOfImages"]);t!==void 0&&E!=null&&f(t,["parameters","sampleCount"],E);const C=c(e,["mode"]);return t!==void 0&&C!=null&&f(t,["parameters","mode"],C),o}function B5(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["_url","model"],xe(e,l));const a=c(t,["image"]);a!=null&&f(o,["instances[0]","image"],qn(a));const u=c(t,["upscaleFactor"]);u!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(t,["config"]);return d!=null&&q5(d,o),o}function O5(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>du(u))),f(t,["generatedImages"],a)}return t}function z5(e){const t={},o=c(e,["uri"]);o!=null&&f(t,["uri"],o);const l=c(e,["encodedVideo"]);l!=null&&f(t,["videoBytes"],mo(l));const a=c(e,["encoding"]);return a!=null&&f(t,["mimeType"],a),t}function F5(e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["uri"],o);const l=c(e,["bytesBase64Encoded"]);l!=null&&f(t,["videoBytes"],mo(l));const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Y5(e){const t={},o=c(e,["image"]);o!=null&&f(t,["_self"],qn(o));const l=c(e,["maskMode"]);return l!=null&&f(t,["maskMode"],l),t}function J5(e){const t={},o=c(e,["image"]);o!=null&&f(t,["image"],hu(o));const l=c(e,["referenceType"]);return l!=null&&f(t,["referenceType"],l),t}function K5(e){const t={},o=c(e,["image"]);o!=null&&f(t,["image"],qn(o));const l=c(e,["referenceType"]);return l!=null&&f(t,["referenceType"],l),t}function w3(e){const t={},o=c(e,["uri"]);o!=null&&f(t,["uri"],o);const l=c(e,["videoBytes"]);l!=null&&f(t,["encodedVideo"],mo(l));const a=c(e,["mimeType"]);return a!=null&&f(t,["encoding"],a),t}function x3(e){const t={},o=c(e,["uri"]);o!=null&&f(t,["gcsUri"],o);const l=c(e,["videoBytes"]);l!=null&&f(t,["bytesBase64Encoded"],mo(l));const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}const X5="Content-Type",Q5="X-Server-Timeout",Z5="User-Agent",Pd="x-goog-api-client",W5="1.30.0",$5=`google-genai-sdk/${W5}`,j5="v1beta1",e6="v1beta",z2=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class t6{constructor(t){var o,l;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:j5,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:e6,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&l.push(t.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,l){const a=[this.getRequestUrlInternal(o)];return l&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,o,l);if(t.queryParams)for(const[d,m]of Object.entries(t.queryParams))a.searchParams.append(d,String(m));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),t.abortSignal),this.unaryApiCall(a,u,t.httpMethod)}patchHttpOptions(t,o){const l=JSON.parse(JSON.stringify(t));for(const[a,u]of Object.entries(o))typeof u=="object"?l[a]=Object.assign(Object.assign({},l[a]),u):u!==void 0&&(l[a]=u);return l}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,o,l);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),t.abortSignal),this.streamApiCall(a,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,l,a){if(o&&o.timeout||a){const u=new AbortController,d=u.signal;if(o.timeout&&o?.timeout>0){const m=setTimeout(()=>u.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),t.signal=d}return o&&o.extraBody!==null&&n6(t,o.extraBody),t.headers=await this.getHeadersInternal(o,l),t}async unaryApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await F2(a),new xd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await F2(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){var o;return Hl(this,arguments,function*(){const a=(o=t?.body)===null||o===void 0?void 0:o.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";for(;;){const{done:m,value:y}=yield Qe(a.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=u.decode(y,{stream:!0});try{const _=JSON.parse(g);if("error"in _){const E=JSON.parse(JSON.stringify(_.error)),C=E.status,b=E.code,k=`got status: ${C}. ${JSON.stringify(_)}`;if(b>=400&&b<600)throw new cu({message:k,status:b})}}catch(_){if(_.name==="ApiError")throw _}d+=g;let v=d.match(z2);for(;v;){const _=v[1];try{const E=new Response(_,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield Qe(new xd(E)),d=d.slice(v[0].length),v=d.match(z2)}catch(E){throw new Error(`exception parsing stream chunk ${_}. ${E}`)}}}}finally{a.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const t={},o=$5+" "+this.clientOptions.userAgentExtra;return t[Z5]=o,t[Pd]=o,t[X5]="application/json",t}async getHeadersInternal(t,o){const l=new Headers;if(t&&t.headers){for(const[a,u]of Object.entries(t.headers))l.append(a,u);t.timeout&&t.timeout>0&&l.append(Q5,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(t){var o;let l="";return typeof t=="string"&&(l=t.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(t,o){var l;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,d=await u.stat(t);a.sizeBytes=String(d.size);const m=(l=o?.mimeType)!==null&&l!==void 0?l:d.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=m;const y={file:a},g=this.getFileName(t),v=X("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,g,y,o?.httpOptions);return u.upload(t,_,this)}async uploadFileToFileSearchStore(t,o,l){var a;const u=this.clientOptions.uploader,d=await u.stat(o),m=String(d.size),y=(a=l?.mimeType)!==null&&a!==void 0?a:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),_={};l?.customMetadata&&(_.customMetadata=l.customMetadata),l?.chunkingConfig&&(_.chunkingConfig=l.chunkingConfig);const E=await this.fetchUploadUrl(g,m,y,v,_,l?.httpOptions);return u.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,l,a,u,d){var m;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},a?{"X-Goog-Upload-File-Name":a}:{})};const g=await this.request({path:t,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!g||!g?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(m=g?.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function F2(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const o=e.status;let l;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?l=await e.json():l={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(l);throw o>=400&&o<600?new cu({message:a,status:o}):new Error(a)}}function n6(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof e.body=="string"&&e.body.length>0)try{const u=JSON.parse(e.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(u,d){const m=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const g=d[y],v=m[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?m[y]=l(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),m[y]=g)}return m}const a=l(o,t);e.body=JSON.stringify(a)}const i6="mcp_used/unknown";let o6=!1;function U3(e){for(const t of e)if(l6(t)||typeof t=="object"&&"inputSchema"in t)return!0;return o6}function b3(e){var t;const o=(t=e[Pd])!==null&&t!==void 0?t:"";e[Pd]=(o+` ${i6}`).trimStart()}function l6(e){return e!==null&&typeof e=="object"&&e instanceof hh}function s6(e,t=100){return Hl(this,arguments,function*(){let l,a=0;for(;a<t;){const u=yield Qe(e.listTools({cursor:l}));for(const d of u.tools)yield yield Qe(d),a++;if(!u.nextCursor)break;l=u.nextCursor}})}class hh{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new hh(t,o)}async initialize(){var t,o,l,a;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var m=!0,y=(o=void 0,fa(s6(v))),g;g=await y.next(),t=g.done,!t;m=!0){a=g.value,m=!1;const _=a;d.push(_);const E=_.name;if(u[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);u[E]=v}}catch(_){o={error:_}}finally{try{!m&&!t&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),$E(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const l of t)if(l.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await a.callTool({name:l.name,arguments:l.args},void 0,u);o.push({functionResponse:{name:l.name,response:d.isError?{error:d}:d}})}return o}}async function a6(e,t,o){const l=new FE;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(l,a),t(l)}class r6{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l}async connect(t){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=f6(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${m}`;let g=()=>{};const v=new Promise(V=>{g=V}),_=t.callbacks,E=function(){g({})},C=this.apiClient,b={onopen:E,onmessage:V=>{a6(C,_.onmessage,V)},onerror:(o=_?.onerror)!==null&&o!==void 0?o:function(V){},onclose:(l=_?.onclose)!==null&&l!==void 0?l:function(V){}},k=this.webSocketFactory.create(y,c6(d),b);k.connect(),await v;const z={setup:{model:xe(this.apiClient,t.model)}};return k.send(JSON.stringify(z)),new u6(k,this.apiClient)}}class u6{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=QA(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=XA(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ll.PLAY)}pause(){this.sendPlaybackControl(Ll.PAUSE)}stop(){this.sendPlaybackControl(Ll.STOP)}resetContext(){this.sendPlaybackControl(Ll.RESET_CONTEXT)}close(){this.conn.close()}}function c6(e){const t={};return e.forEach((o,l)=>{t[l]=o}),t}function f6(e){const t=new Headers;for(const[o,l]of Object.entries(e))t.append(o,l);return t}const d6="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function h6(e,t,o){const l=new zE;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const u=JSON.parse(a);if(e.isVertexAI()){const d=$A(u);Object.assign(l,d)}else Object.assign(l,u);t(l)}class p6{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l,this.music=new r6(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,l,a,u,d,m;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&U3(t.config.tools)&&b3(_);const E=v6(_);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const Z=this.apiClient.getApiKey();let fe="BidiGenerateContent",he="key";Z?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),fe="BidiGenerateContentConstrained",he="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${fe}?${he}=${Z}`}let C=()=>{};const b=new Promise(Z=>{C=Z}),k=t.callbacks,Y=function(){var Z;(Z=k?.onopen)===null||Z===void 0||Z.call(k),C({})},B=this.apiClient,z={onopen:Y,onmessage:Z=>{h6(B,k.onmessage,Z)},onerror:(o=k?.onerror)!==null&&o!==void 0?o:function(Z){},onclose:(l=k?.onclose)!==null&&l!==void 0?l:function(Z){}},V=this.webSocketFactory.create(v,y6(E),z);V.connect(),await b;let Q=xe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Q.startsWith("publishers/")){const Z=this.apiClient.getProject(),fe=this.apiClient.getLocation();Q=`projects/${Z}/locations/${fe}/`+Q}let J={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[eu.AUDIO]}:t.config.responseModalities=[eu.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(m=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&m!==void 0?m:[],q=[];for(const Z of $)if(this.isCallableTool(Z)){const fe=Z;q.push(await fe.tool())}else q.push(Z);q.length>0&&(t.config.tools=q);const ce={model:Q,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?J=KA(this.apiClient,ce):J=JA(this.apiClient,ce),delete J.config,V.send(JSON.stringify(J)),new g6(V,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const m6={turnComplete:!0};class g6{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=bn(o.turns),t.isVertexAI()||(l=l.map(a=>fu(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const u of l){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(d6)}return{toolResponse:{functionResponses:l}}}sendClientContent(t){t=Object.assign(Object.assign({},m6),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:WA(t)}:o={realtimeInput:ZA(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function y6(e){const t={};return e.forEach((o,l)=>{t[l]=o}),t}function v6(e){const t=new Headers;for(const[o,l]of Object.entries(e))t.append(o,l);return t}const Y2=10;function J2(e){var t,o,l;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const d of(o=e?.tools)!==null&&o!==void 0?o:[])if(kl(d)){a=!0;break}if(!a)return!0;const u=(l=e?.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function kl(e){return"callTool"in e&&typeof e.callTool=="function"}function T6(e){var t,o,l;return(l=(o=(t=e.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(a=>kl(a)))!==null&&l!==void 0?l:!1}function K2(e){var t;const o=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((l,a)=>{if(kl(l))return;const u=l;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(a)}),o}function X2(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class _6 extends wi{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var l,a,u,d,m;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!T6(o)||J2(o.config))return await this.generateContentInternal(y);const g=K2(o);if(g.length>0){const k=g.map(Y=>`tools[${Y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,_;const E=bn(y.contents),C=(u=(a=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Y2;let b=0;for(;b<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,Y=[];for(const B of(m=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&m!==void 0?m:[])if(kl(B)){const V=await B.callTool(v.functionCalls);Y.push(...V)}b++,_={role:"user",parts:Y},y.contents=bn(y.contents),y.contents.push(k),y.contents.push(_),X2(y.config)&&(E.push(k),E.push(_))}return X2(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var l,a,u,d,m;if(this.maybeMoveToResponseJsonSchem(o),J2(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const y=K2(o);if(y.length>0){const _=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(a=(l=o?.config)===null||l===void 0?void 0:l.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(m=(d=o?.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var a;let u;const d=[];if(l?.generatedImages)for(const y of l.generatedImages)y&&y?.safetyAttributes&&((a=y?.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=y?.safetyAttributes:d.push(y);let m;return u?m={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:l.sdkHttpResponse}:m={generatedImages:d,sdkHttpResponse:l.sdkHttpResponse},m}),this.list=async o=>{var l;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((l=d.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Jo(Ni.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(d),d)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var l,a,u,d,m,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(u=o.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(m=o.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,l,a;const u=(o=t.config)===null||o===void 0?void 0:o.tools;if(!u)return t;const d=await Promise.all(u.map(async y=>kl(y)?await y.tool():y)),m={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(m.config.tools=d,t.config&&t.config.tools&&U3(t.config.tools)){const y=(a=(l=t.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),b3(g),m.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return m}async initAfcToolsMap(t){var o,l,a;const u=new Map;for(const d of(l=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(kl(d)){const m=d,y=await m.tool();for(const g of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,m)}}return u}async processAfcStream(t){var o,l,a;const u=(a=(l=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:Y2;let d=!1,m=0;const y=await this.initAfcToolsMap(t);return(function(g,v,_){var E,C;return Hl(this,arguments,function*(){for(var b,k,Y,B;m<u;){d&&(m++,d=!1);const J=yield Qe(g.processParamsMaybeAddMcpUsage(_)),$=yield Qe(g.generateContentStreamInternal(J)),q=[],ce=[];try{for(var z=!0,V=(k=void 0,fa($)),Q;Q=yield Qe(V.next()),b=Q.done,!b;z=!0){B=Q.value,z=!1;const Z=B;if(yield yield Qe(Z),Z.candidates&&(!((E=Z.candidates[0])===null||E===void 0)&&E.content)){ce.push(Z.candidates[0].content);for(const fe of(C=Z.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(m<u&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(fe.functionCall.name)){const he=yield Qe(v.get(fe.functionCall.name).callTool([fe.functionCall]));q.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(Z){k={error:Z}}finally{try{!z&&!b&&(Y=V.return)&&(yield Qe(Y.call(V)))}finally{if(k)throw k.error}}if(q.length>0){d=!0;const Z=new sa;Z.candidates=[{content:{role:"user",parts:q}}],yield yield Qe(Z);const fe=[];fe.push(...ce),fe.push({role:"user",parts:q});const he=bn(_.contents).concat(fe);_.contents=he}else break}})})(this,y,t)}async generateContentInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=q2(this.apiClient,t);return m=X("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=O2(v),E=new sa;return Object.assign(E,_),E})}else{const g=V2(this.apiClient,t);return m=X("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=B2(v),E=new sa;return Object.assign(E,_),E})}}async generateContentStreamInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=q2(this.apiClient,t);return m=X("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),d.then(function(_){return Hl(this,arguments,function*(){var E,C,b,k;try{for(var Y=!0,B=fa(_),z;z=yield Qe(B.next()),E=z.done,!E;Y=!0){k=z.value,Y=!1;const V=k,Q=O2(yield Qe(V.json()));Q.sdkHttpResponse={headers:V.headers};const J=new sa;Object.assign(J,Q),yield yield Qe(J)}}catch(V){C={error:V}}finally{try{!Y&&!E&&(b=B.return)&&(yield Qe(b.call(B)))}finally{if(C)throw C.error}}})})}else{const g=V2(this.apiClient,t);return m=X("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(_){return Hl(this,arguments,function*(){var E,C,b,k;try{for(var Y=!0,B=fa(_),z;z=yield Qe(B.next()),E=z.done,!E;Y=!0){k=z.value,Y=!1;const V=k,Q=B2(yield Qe(V.json()));Q.sdkHttpResponse={headers:V.headers};const J=new sa;Object.assign(J,Q),yield yield Qe(J)}}catch(V){C={error:V}}finally{try{!Y&&!E&&(b=B.return)&&(yield Qe(b.call(B)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=IC(this.apiClient,t);return m=X("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=wC(v),E=new A2;return Object.assign(E,_),E})}else{const g=NC(this.apiClient,t);return m=X("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=DC(v),E=new A2;return Object.assign(E,_),E})}}async generateImagesInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=BC(this.apiClient,t);return m=X("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=zC(v),E=new C2;return Object.assign(E,_),E})}else{const g=qC(this.apiClient,t);return m=X("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=OC(v),E=new C2;return Object.assign(E,_),E})}}async editImageInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=AC(this.apiClient,t);return u=X("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=CC(y),v=new UE;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=B5(this.apiClient,t);return u=X("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=O5(y),v=new bE;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=S5(this.apiClient,t);return u=X("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=A5(y),v=new LE;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=D5(this.apiClient,t);return u=X("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=w5(y),v=new GE;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=s5(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>Gd(v))}else{const g=l5(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Ld(v))}}async listInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=m5(this.apiClient,t);return m=X("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=y5(v),E=new M2;return Object.assign(E,_),E})}else{const g=p5(this.apiClient,t);return m=X("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=g5(v),E=new M2;return Object.assign(E,_),E})}}async update(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=V5(this.apiClient,t);return m=X("{model}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>Gd(v))}else{const g=k5(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Ld(v))}}async delete(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=TC(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=EC(v),E=new R2;return Object.assign(E,_),E})}else{const g=vC(this.apiClient,t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=_C(v),E=new R2;return Object.assign(E,_),E})}}async countTokens(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=mC(this.apiClient,t);return m=X("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=yC(v),E=new N2;return Object.assign(E,_),E})}else{const g=pC(this.apiClient,t);return m=X("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=gC(v),E=new N2;return Object.assign(E,_),E})}}async computeTokens(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=aC(this.apiClient,t);return u=X("{model}:computeTokens",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=rC(y),v=new PE;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=QC(this.apiClient,t);return m=X("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d.then(v=>{const _=KC(v),E=new tu;return Object.assign(E,_),E})}else{const g=XC(this.apiClient,t);return m=X("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const _=JC(v),E=new tu;return Object.assign(E,_),E})}}}class E6 extends wi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=RE(t);return m=X("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),d}else{const g=ME(t);return m=X("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=vE(t);return u=X("{resourceName}:fetchPredictOperation",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}function S6(e){const t={},o=c(e,["data"]);if(o!=null&&f(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function A6(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>U6(u))),f(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&f(t,["role"],l),t}function C6(e,t,o){const l={},a=c(t,["expireTime"]);o!==void 0&&a!=null&&f(o,["expireTime"],a);const u=c(t,["newSessionExpireTime"]);o!==void 0&&u!=null&&f(o,["newSessionExpireTime"],u);const d=c(t,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const m=c(t,["liveConnectConstraints"]);o!==void 0&&m!=null&&f(o,["bidiGenerateContentSetup"],x6(e,m));const y=c(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),l}function M6(e,t){const o={},l=c(t,["config"]);return l!=null&&f(o,["config"],C6(e,l,o)),o}function R6(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function N6(e){const t={},o=c(e,["id"]);o!=null&&f(t,["id"],o);const l=c(e,["args"]);l!=null&&f(t,["args"],l);const a=c(e,["name"]);if(a!=null&&f(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function I6(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function D6(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function w6(e,t){const o={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig"],l);const a=c(e,["responseModalities"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig","responseModalities"],a);const u=c(e,["temperature"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","temperature"],u);const d=c(e,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const m=c(e,["topK"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topK"],m);const y=c(e,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const g=c(e,["mediaResolution"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","mediaResolution"],g);const v=c(e,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=c(e,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],dh(_));const E=c(e,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=c(e,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const b=c(e,["systemInstruction"]);t!==void 0&&b!=null&&f(t,["setup","systemInstruction"],A6(Gt(b)));const k=c(e,["tools"]);if(t!==void 0&&k!=null){let $=es(k);Array.isArray($)&&($=$.map(q=>L6(jl(q)))),f(t,["setup","tools"],$)}const Y=c(e,["sessionResumption"]);t!==void 0&&Y!=null&&f(t,["setup","sessionResumption"],b6(Y));const B=c(e,["inputAudioTranscription"]);t!==void 0&&B!=null&&f(t,["setup","inputAudioTranscription"],B);const z=c(e,["outputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","outputAudioTranscription"],z);const V=c(e,["realtimeInputConfig"]);t!==void 0&&V!=null&&f(t,["setup","realtimeInputConfig"],V);const Q=c(e,["contextWindowCompression"]);t!==void 0&&Q!=null&&f(t,["setup","contextWindowCompression"],Q);const J=c(e,["proactivity"]);return t!==void 0&&J!=null&&f(t,["setup","proactivity"],J),o}function x6(e,t){const o={},l=c(t,["model"]);l!=null&&f(o,["setup","model"],xe(e,l));const a=c(t,["config"]);return a!=null&&f(o,["config"],w6(a,o)),o}function U6(e){const t={},o=c(e,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&f(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&f(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&f(t,["fileData"],R6(u));const d=c(e,["functionCall"]);d!=null&&f(t,["functionCall"],N6(d));const m=c(e,["functionResponse"]);m!=null&&f(t,["functionResponse"],m);const y=c(e,["inlineData"]);y!=null&&f(t,["inlineData"],S6(y));const g=c(e,["text"]);g!=null&&f(t,["text"],g);const v=c(e,["thought"]);v!=null&&f(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const E=c(e,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function b6(e){const t={},o=c(e,["handle"]);if(o!=null&&f(t,["handle"],o),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function L6(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&f(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&f(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&f(t,["fileSearch"],u);const d=c(e,["codeExecution"]);if(d!=null&&f(t,["codeExecution"],d),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=c(e,["googleMaps"]);m!=null&&f(t,["googleMaps"],I6(m));const y=c(e,["googleSearch"]);y!=null&&f(t,["googleSearch"],D6(y));const g=c(e,["urlContext"]);return g!=null&&f(t,["urlContext"],g),t}function G6(e){const t=[];for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const a=Object.keys(l).map(u=>`${o}.${u}`);t.push(...a)}else t.push(o)}return t.join(",")}function P6(e,t){let o=null;const l=e.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const u=l.setup;typeof u=="object"&&u!==null?(e.bidiGenerateContentSetup=u,o=u):delete e.bidiGenerateContentSetup}else l!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(o){const u=G6(o);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)u?e.fieldMask=u:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];a.length>0&&(m=a.map(g=>d.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),m.length>0&&y.push(...m),y.length>0?e.fieldMask=y.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class H6 extends wi{constructor(t){super(),this.apiClient=t}async create(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=M6(this.apiClient,t);u=X("auth_tokens",m._url),d=m._query,delete m.config,delete m._url,delete m._query;const y=P6(m,t.config);return a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}}function k6(e,t){const o={},l=c(e,["displayName"]);return t!==void 0&&l!=null&&f(t,["displayName"],l),o}function V6(e){const t={},o=c(e,["config"]);return o!=null&&k6(o,t),t}function q6(e,t){const o={},l=c(e,["force"]);return t!==void 0&&l!=null&&f(t,["_query","force"],l),o}function B6(e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],o);const l=c(e,["config"]);return l!=null&&q6(l,t),t}function O6(e){const t={},o=c(e,["name"]);return o!=null&&f(t,["_url","name"],o),t}function z6(e,t){const o={},l=c(e,["customMetadata"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["customMetadata"],u)}const a=c(e,["chunkingConfig"]);return t!==void 0&&a!=null&&f(t,["chunkingConfig"],a),o}function F6(e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const l=c(e,["metadata"]);l!=null&&f(t,["metadata"],l);const a=c(e,["done"]);a!=null&&f(t,["done"],a);const u=c(e,["error"]);u!=null&&f(t,["error"],u);const d=c(e,["response"]);return d!=null&&f(t,["response"],J6(d)),t}function Y6(e){const t={},o=c(e,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const l=c(e,["fileName"]);l!=null&&f(t,["fileName"],l);const a=c(e,["config"]);return a!=null&&z6(a,t),t}function J6(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["parent"]);l!=null&&f(t,["parent"],l);const a=c(e,["documentName"]);return a!=null&&f(t,["documentName"],a),t}function K6(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function X6(e){const t={},o=c(e,["config"]);return o!=null&&K6(o,t),t}function Q6(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const a=c(e,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["fileSearchStores"],u)}return t}function Z6(e,t){const o={},l=c(e,["mimeType"]);t!==void 0&&l!=null&&f(t,["mimeType"],l);const a=c(e,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const u=c(e,["customMetadata"]);if(t!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>y)),f(t,["customMetadata"],m)}const d=c(e,["chunkingConfig"]);return t!==void 0&&d!=null&&f(t,["chunkingConfig"],d),o}function W6(e){const t={},o=c(e,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const l=c(e,["config"]);return l!=null&&Z6(l,t),t}function $6(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function j6(e,t){const o={},l=c(e,["force"]);return t!==void 0&&l!=null&&f(t,["_query","force"],l),o}function eM(e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],o);const l=c(e,["config"]);return l!=null&&j6(l,t),t}function tM(e){const t={},o=c(e,["name"]);return o!=null&&f(t,["_url","name"],o),t}function nM(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&f(t,["_query","pageToken"],a),o}function iM(e){const t={},o=c(e,["parent"]);o!=null&&f(t,["_url","parent"],o);const l=c(e,["config"]);return l!=null&&nM(l,t),t}function oM(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const a=c(e,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["documents"],u)}return t}class lM extends wi{constructor(t){super(),this.apiClient=t,this.list=async o=>new Jo(Ni.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=tM(t);return u=X("{name}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=eM(t);a=X("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=iM(t);return u=X("{parent}/documents",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=oM(y),v=new HE;return Object.assign(v,g),v})}}}class sM extends wi{constructor(t,o=new lM(t)){super(),this.apiClient=t,this.documents=o,this.list=async(l={})=>new Jo(Ni.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(l),l)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=V6(t);return u=X("fileSearchStores",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=O6(t);return u=X("{name}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=B6(t);a=X("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=X6(t);return u=X("fileSearchStores",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=Q6(y),v=new kE;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=W6(t);return u=X("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=$6(y),v=new VE;return Object.assign(v,g),v})}}async importFile(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Y6(t);return u=X("{file_search_store_name}:importFile",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const g=F6(y),v=new ah;return Object.assign(v,g),v})}}}function aM(e,t){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],l),o}function rM(e,t){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],l),o}function uM(e,t,o){const l={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&f(t,["displayName"],a),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(e,["epochCount"]);t!==void 0&&u!=null&&f(t,["tuningTask","hyperparameters","epochCount"],u);const d=c(e,["learningRateMultiplier"]);if(d!=null&&f(l,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=c(e,["batchSize"]);t!==void 0&&m!=null&&f(t,["tuningTask","hyperparameters","batchSize"],m);const y=c(e,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function cM(e,t,o){const l={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const C=c(e,["validationDataset"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec"],Q2(C))}else if(a==="PREFERENCE_TUNING"){const C=c(e,["validationDataset"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec"],Q2(C))}const u=c(e,["tunedModelDisplayName"]);t!==void 0&&u!=null&&f(t,["tunedModelDisplayName"],u);const d=c(e,["description"]);t!==void 0&&d!=null&&f(t,["description"],d);let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=c(e,["epochCount"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(m==="PREFERENCE_TUNING"){const C=c(e,["epochCount"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=c(e,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=c(e,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let g=c(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=c(e,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(g==="PREFERENCE_TUNING"){const C=c(e,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=c(e,["adapterSize"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=c(e,["adapterSize"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=c(e,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const E=c(e,["beta"]);return t!==void 0&&E!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),l}function fM(e,t){const o={},l=c(e,["baseModel"]);l!=null&&f(o,["baseModel"],l);const a=c(e,["preTunedModel"]);a!=null&&f(o,["preTunedModel"],a);const u=c(e,["trainingDataset"]);u!=null&&SM(u);const d=c(e,["config"]);return d!=null&&uM(d,o),o}function dM(e,t){const o={},l=c(e,["baseModel"]);l!=null&&f(o,["baseModel"],l);const a=c(e,["preTunedModel"]);a!=null&&f(o,["preTunedModel"],a);const u=c(e,["trainingDataset"]);u!=null&&AM(u,o,t);const d=c(e,["config"]);return d!=null&&cM(d,o,t),o}function hM(e,t){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],l),o}function pM(e,t){const o={},l=c(e,["name"]);return l!=null&&f(o,["_url","name"],l),o}function mM(e,t,o){const l={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const u=c(e,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const d=c(e,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),l}function gM(e,t,o){const l={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const u=c(e,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const d=c(e,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),l}function yM(e,t){const o={},l=c(e,["config"]);return l!=null&&mM(l,o),o}function vM(e,t){const o={},l=c(e,["config"]);return l!=null&&gM(l,o),o}function TM(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(e,["nextPageToken"]);a!=null&&f(o,["nextPageToken"],a);const u=c(e,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>L3(m))),f(o,["tuningJobs"],d)}return o}function _M(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(e,["nextPageToken"]);a!=null&&f(o,["nextPageToken"],a);const u=c(e,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Hd(m))),f(o,["tuningJobs"],d)}return o}function EM(e,t){const o={},l=c(e,["name"]);l!=null&&f(o,["model"],l);const a=c(e,["name"]);return a!=null&&f(o,["endpoint"],a),o}function SM(e,t){const o={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=c(e,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),f(o,["examples","examples"],a)}return o}function AM(e,t,o){const l={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=c(e,["gcsUri"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=c(e,["gcsUri"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(e,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(e,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function L3(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(e,["name"]);a!=null&&f(o,["name"],a);const u=c(e,["state"]);u!=null&&f(o,["state"],m3(u));const d=c(e,["createTime"]);d!=null&&f(o,["createTime"],d);const m=c(e,["tuningTask","startTime"]);m!=null&&f(o,["startTime"],m);const y=c(e,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const g=c(e,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=c(e,["description"]);v!=null&&f(o,["description"],v);const _=c(e,["baseModel"]);_!=null&&f(o,["baseModel"],_);const E=c(e,["_self"]);return E!=null&&f(o,["tunedModel"],EM(E)),o}function Hd(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(e,["name"]);a!=null&&f(o,["name"],a);const u=c(e,["state"]);u!=null&&f(o,["state"],m3(u));const d=c(e,["createTime"]);d!=null&&f(o,["createTime"],d);const m=c(e,["startTime"]);m!=null&&f(o,["startTime"],m);const y=c(e,["endTime"]);y!=null&&f(o,["endTime"],y);const g=c(e,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=c(e,["error"]);v!=null&&f(o,["error"],v);const _=c(e,["description"]);_!=null&&f(o,["description"],_);const E=c(e,["baseModel"]);E!=null&&f(o,["baseModel"],E);const C=c(e,["tunedModel"]);C!=null&&f(o,["tunedModel"],C);const b=c(e,["preTunedModel"]);b!=null&&f(o,["preTunedModel"],b);const k=c(e,["supervisedTuningSpec"]);k!=null&&f(o,["supervisedTuningSpec"],k);const Y=c(e,["preferenceOptimizationSpec"]);Y!=null&&f(o,["preferenceOptimizationSpec"],Y);const B=c(e,["tuningDataStats"]);B!=null&&f(o,["tuningDataStats"],B);const z=c(e,["encryptionSpec"]);z!=null&&f(o,["encryptionSpec"],z);const V=c(e,["partnerModelTuningSpec"]);V!=null&&f(o,["partnerModelTuningSpec"],V);const Q=c(e,["customBaseModel"]);Q!=null&&f(o,["customBaseModel"],Q);const J=c(e,["experiment"]);J!=null&&f(o,["experiment"],J);const $=c(e,["labels"]);$!=null&&f(o,["labels"],$);const q=c(e,["outputUri"]);q!=null&&f(o,["outputUri"],q);const ce=c(e,["pipelineJob"]);ce!=null&&f(o,["pipelineJob"],ce);const Z=c(e,["serviceAccount"]);Z!=null&&f(o,["serviceAccount"],Z);const fe=c(e,["tunedModelDisplayName"]);fe!=null&&f(o,["tunedModelDisplayName"],fe);const he=c(e,["veoTuningSpec"]);return he!=null&&f(o,["veoTuningSpec"],he),o}function CM(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&f(o,["sdkHttpResponse"],l);const a=c(e,["name"]);a!=null&&f(o,["name"],a);const u=c(e,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(e,["done"]);d!=null&&f(o,["done"],d);const m=c(e,["error"]);return m!=null&&f(o,["error"],m),o}function Q2(e,t){const o={},l=c(e,["gcsUri"]);l!=null&&f(o,["validationDatasetUri"],l);const a=c(e,["vertexDatasetResource"]);return a!=null&&f(o,["validationDatasetUri"],a),o}class MM extends wi{constructor(t){super(),this.apiClient=t,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Jo(Ni.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),u=await this.tuneMldevInternal(a);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:wd.JOB_STATE_QUEUED}}}}async getInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=pM(t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>Hd(v))}else{const g=hM(t);return m=X("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>L3(v))}}async listInternal(t){var o,l,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=vM(t);return m=X("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=_M(v),E=new I2;return Object.assign(E,_),E})}else{const g=yM(t);return m=X("tunedModels",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const _=TM(v),E=new I2;return Object.assign(E,_),E})}}async cancel(t){var o,l,a,u;let d="",m={};if(this.apiClient.isVertexAI()){const y=rM(t);d=X("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=aM(t);d=X("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=dM(t,t);return u=X("tuningJobs",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>Hd(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,l;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fM(t);return u=X("tunedModels",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>CM(y))}}}class RM{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const NM=1024*1024*8,IM=3,DM=1e3,wM=2,iu="x-goog-upload-status";async function xM(e,t,o){var l;const a=await G3(e,t,o),u=await a?.json();if(((l=a?.headers)===null||l===void 0?void 0:l[iu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function UM(e,t,o){var l;const a=await G3(e,t,o),u=await a?.json();if(((l=a?.headers)===null||l===void 0?void 0:l[iu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=u3(u),m=new rh;return Object.assign(m,d),m}async function G3(e,t,o){var l,a;let u=0,d=0,m=new xd(new Response),y="upload";for(u=e.size;d<u;){const g=Math.min(NM,u-d),v=e.slice(d,d+g);d+g>=u&&(y+=", finalize");let _=0,E=DM;for(;_<IM&&(m=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(g)}}}),!(!((l=m?.headers)===null||l===void 0)&&l[iu]));)_++,await LM(E),E=E*wM;if(d+=g,((a=m?.headers)===null||a===void 0?void 0:a[iu])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function bM(e){return{size:e.size,type:e.type}}function LM(e){return new Promise(t=>setTimeout(t,e))}class GM{async upload(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await xM(t,o,l)}async uploadToFileSearchStore(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await UM(t,o,l)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await bM(t)}}class PM{create(t,o,l){return new HM(t,o,l)}}class HM{constructor(t,o,l){this.url=t,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const Z2="x-goog-api-key";class kM{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Z2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Z2,this.apiKey)}}}const VM="gl-node/";class qM{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const l=gE(t.httpOptions,t.vertexai,void 0,void 0);l&&(t.httpOptions?t.httpOptions.baseUrl=l:t.httpOptions={baseUrl:l}),this.apiVersion=t.apiVersion;const a=new kM(this.apiKey);this.apiClient=new t6({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:VM+"web",uploader:new GM,downloader:new RM}),this.models=new _6(this.apiClient),this.live=new p6(this.apiClient,a,new PM),this.batches=new YS(this.apiClient),this.chats=new RA(this.models,this.apiClient),this.caches=new AA(this.apiClient),this.files=new PA(this.apiClient),this.operations=new E6(this.apiClient),this.authTokens=new H6(this.apiClient),this.tunings=new MM(this.apiClient),this.fileSearchStores=new sM(this.apiClient)}}var Ol=typeof self<"u"?self:{};function ko(){throw Error("Invalid UTF8")}function W2(e,t){return t=String.fromCharCode.apply(null,t),e==null?t:e+t}let Or,gd;const BM=typeof TextDecoder<"u";let OM;const zM=typeof TextEncoder<"u";function P3(e){if(zM)e=(OM||=new TextEncoder).encode(e);else{let o=0;const l=new Uint8Array(3*e.length);for(let a=0;a<e.length;a++){var t=e.charCodeAt(a);if(t<128)l[o++]=t;else{if(t<2048)l[o++]=t>>6|192;else{if(t>=55296&&t<=57343){if(t<=56319&&a<e.length){const u=e.charCodeAt(++a);if(u>=56320&&u<=57343){t=1024*(t-55296)+u-56320+65536,l[o++]=t>>18|240,l[o++]=t>>12&63|128,l[o++]=t>>6&63|128,l[o++]=63&t|128;continue}a--}t=65533}l[o++]=t>>12|224,l[o++]=t>>6&63|128}l[o++]=63&t|128}}e=o===l.length?l:l.subarray(0,o)}return e}var ph,ou;e:{for(var $2=["CLOSURE_FLAGS"],yd=Ol,vd=0;vd<$2.length;vd++)if((yd=yd[$2[vd]])==null){ou=null;break e}ou=yd}var ma,j2=ou&&ou[610401301];ph=j2!=null&&j2;const ey=Ol.navigator;function kd(e){return!!ph&&!!ma&&ma.brands.some((({brand:t})=>t&&t.indexOf(e)!=-1))}function xn(e){var t;return(t=Ol.navigator)&&(t=t.userAgent)||(t=""),t.indexOf(e)!=-1}function lo(){return!!ph&&!!ma&&ma.brands.length>0}function Td(){return lo()?kd("Chromium"):(xn("Chrome")||xn("CriOS"))&&!(!lo()&&xn("Edge"))||xn("Silk")}function pu(e){return pu[" "](e),e}ma=ey&&ey.userAgentData||null,pu[" "]=function(){};var FM=!lo()&&(xn("Trident")||xn("MSIE"));!xn("Android")||Td(),Td(),xn("Safari")&&(Td()||!lo()&&xn("Coast")||!lo()&&xn("Opera")||!lo()&&xn("Edge")||(lo()?kd("Microsoft Edge"):xn("Edg/"))||lo()&&kd("Opera"));var H3={},ua=null;function YM(e){const t=e.length;let o=3*t/4;o%3?o=Math.floor(o):"=.".indexOf(e[t-1])!=-1&&(o="=.".indexOf(e[t-2])!=-1?o-2:o-1);const l=new Uint8Array(o);let a=0;return(function(u,d){function m(g){for(;y<u.length;){const v=u.charAt(y++),_=ua[v];if(_!=null)return _;if(!/^[\s\xa0]*$/.test(v))throw Error("Unknown base64 encoding at char: "+v)}return g}k3();let y=0;for(;;){const g=m(-1),v=m(0),_=m(64),E=m(64);if(E===64&&g===-1)break;d(g<<2|v>>4),_!=64&&(d(v<<4&240|_>>2),E!=64&&d(_<<6&192|E))}})(e,(function(u){l[a++]=u})),a!==o?l.subarray(0,a):l}function k3(){if(!ua){ua={};var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"];for(let o=0;o<5;o++){const l=e.concat(t[o].split(""));H3[o]=l;for(let a=0;a<l.length;a++){const u=l[a];ua[u]===void 0&&(ua[u]=a)}}}}var V3=typeof Uint8Array<"u",q3=!FM&&typeof btoa=="function";function ty(e){if(!q3){var t;t===void 0&&(t=0),k3(),t=H3[t];var o=Array(Math.floor(e.length/3)),l=t[64]||"";let y=0,g=0;for(;y<e.length-2;y+=3){var a=e[y],u=e[y+1],d=e[y+2],m=t[a>>2];a=t[(3&a)<<4|u>>4],u=t[(15&u)<<2|d>>6],d=t[63&d],o[g++]=m+a+u+d}switch(m=0,d=l,e.length-y){case 2:d=t[(15&(m=e[y+1]))<<2]||l;case 1:e=e[y],o[g]=t[e>>2]+t[(3&e)<<4|m>>4]+d+l}return o.join("")}for(t="",o=0,l=e.length-10240;o<l;)t+=String.fromCharCode.apply(null,e.subarray(o,o+=10240));return t+=String.fromCharCode.apply(null,o?e.subarray(o):e),btoa(t)}const ny=/[-_.]/g,JM={"-":"+",_:"/",".":"="};function KM(e){return JM[e]||""}function B3(e){if(!q3)return YM(e);ny.test(e)&&(e=e.replace(ny,KM)),e=atob(e);const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}function zo(e){return V3&&e!=null&&e instanceof Uint8Array}var zl={};function Fo(){return XM||=new Ci(null,zl)}function mh(e){O3(zl);var t=e.g;return(t=t==null||zo(t)?t:typeof t=="string"?B3(t):null)==null?t:e.g=t}var Ci=class{h(){return new Uint8Array(mh(this)||0)}constructor(e,t){if(O3(t),this.g=e,e!=null&&e.length===0)throw Error("ByteString should be constructed with non-empty values")}};let XM,QM;function O3(e){if(e!==zl)throw Error("illegal external caller")}function z3(e,t){e.__closure__error__context__984382||(e.__closure__error__context__984382={}),e.__closure__error__context__984382.severity=t}function Vd(e){return z3(e=Error(e),"warning"),e}function gh(e){if(e!=null){var t=QM??={},o=t[e]||0;o>=5||(t[e]=o+1,z3(e=Error(),"incident"),(function(l){Ol.setTimeout((()=>{throw l}),0)})(e))}}var mu=typeof Symbol=="function"&&typeof Symbol()=="symbol";function ns(e,t,o=!1){return typeof Symbol=="function"&&typeof Symbol()=="symbol"?o&&Symbol.for&&e?Symbol.for(e):e!=null?Symbol(e):Symbol():t}var ZM=ns("jas",void 0,!0),iy=ns(void 0,"0di"),aa=ns(void 0,"1oa"),Fl=ns(void 0,Symbol()),WM=ns(void 0,"0actk"),F3=ns(void 0,"8utk");const le=mu?ZM:"Ea",Y3={Ea:{value:0,configurable:!0,writable:!0,enumerable:!1}},J3=Object.defineProperties;function gu(e,t){mu||le in e||J3(e,Y3),e[le]|=t}function yt(e,t){mu||le in e||J3(e,Y3),e[le]=t}function is(e){return gu(e,34),e}function $M(e,t){yt(t,-15615&(0|e))}function qd(e,t){yt(t,-15581&(34|e))}function yu(){return typeof BigInt=="function"}function Zt(e){return Array.prototype.slice.call(e)}var yh,Ea={};function vu(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&e.constructor===Object}function vh(e,t){if(e!=null){if(typeof e=="string")e=e?new Ci(e,zl):Fo();else if(e.constructor!==Ci)if(zo(e))e=e.length?new Ci(new Uint8Array(e),zl):Fo();else{if(!t)throw Error();e=void 0}}return e}const oy=[];function go(e){if(2&e)throw Error()}yt(oy,55),yh=Object.freeze(oy);class ly{constructor(t,o,l){this.g=t,this.h=o,this.l=l}next(){const t=this.g.next();return t.done||(t.value=this.h.call(this.l,t.value)),t}[Symbol.iterator](){return this}}function Th(e){return Fl?e[Fl]:void 0}var jM=Object.freeze({});function Tu(e){return e.Na=!0,e}var eR=Tu((e=>typeof e=="number")),sy=Tu((e=>typeof e=="string")),tR=Tu((e=>typeof e=="boolean")),_u=typeof Ol.BigInt=="function"&&typeof Ol.BigInt(0)=="bigint";function ro(e){var t=e;if(sy(t)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(t))throw Error(String(t))}else if(eR(t)&&!Number.isSafeInteger(t))throw Error(String(t));return _u?BigInt(e):e=tR(e)?e?"1":"0":sy(e)?e.trim()||"0":String(e)}var Bd=Tu((e=>_u?e>=iR&&e<=lR:e[0]==="-"?ay(e,nR):ay(e,oR)));const nR=Number.MIN_SAFE_INTEGER.toString(),iR=_u?BigInt(Number.MIN_SAFE_INTEGER):void 0,oR=Number.MAX_SAFE_INTEGER.toString(),lR=_u?BigInt(Number.MAX_SAFE_INTEGER):void 0;function ay(e,t){if(e.length>t.length)return!1;if(e.length<t.length||e===t)return!0;for(let o=0;o<e.length;o++){const l=e[o],a=t[o];if(l>a)return!1;if(l<a)return!0}}const sR=typeof Uint8Array.prototype.slice=="function";let K3,Fe=0,lt=0;function ry(e){const t=e>>>0;Fe=t,lt=(e-t)/4294967296>>>0}function Yo(e){if(e<0){ry(-e);const[t,o]=Ah(Fe,lt);Fe=t>>>0,lt=o>>>0}else ry(e)}function _h(e){const t=K3||=new DataView(new ArrayBuffer(8));t.setFloat32(0,+e,!0),lt=0,Fe=t.getUint32(0,!0)}function Eh(e,t){const o=4294967296*t+(e>>>0);return Number.isSafeInteger(o)?o:ga(e,t)}function Sh(e,t){const o=2147483648&t;return o&&(t=~t>>>0,(e=1+~e>>>0)==0&&(t=t+1>>>0)),typeof(e=Eh(e,t))=="number"?o?-e:e:o?"-"+e:e}function ga(e,t){if(e>>>=0,(t>>>=0)<=2097151)var o=""+(4294967296*t+e);else yu()?o=""+(BigInt(t)<<BigInt(32)|BigInt(e)):(e=(16777215&e)+6777216*(o=16777215&(e>>>24|t<<8))+6710656*(t=t>>16&65535),o+=8147497*t,t*=2,e>=1e7&&(o+=e/1e7>>>0,e%=1e7),o>=1e7&&(t+=o/1e7>>>0,o%=1e7),o=t+uy(o)+uy(e));return o}function uy(e){return e=String(e),"0000000".slice(e.length)+e}function X3(){var e=Fe,t=lt;if(2147483648&t)if(yu())e=""+(BigInt(0|t)<<BigInt(32)|BigInt(e>>>0));else{const[o,l]=Ah(e,t);e="-"+ga(o,l)}else e=ga(e,t);return e}function Eu(e){if(e.length<16)Yo(Number(e));else if(yu())e=BigInt(e),Fe=Number(e&BigInt(4294967295))>>>0,lt=Number(e>>BigInt(32)&BigInt(4294967295));else{const t=+(e[0]==="-");lt=Fe=0;const o=e.length;for(let l=t,a=(o-t)%6+t;a<=o;l=a,a+=6){const u=Number(e.slice(l,a));lt*=1e6,Fe=1e6*Fe+u,Fe>=4294967296&&(lt+=Math.trunc(Fe/4294967296),lt>>>=0,Fe>>>=0)}if(t){const[l,a]=Ah(Fe,lt);Fe=l,lt=a}}}function Ah(e,t){return t=~t,e?e=1+~e:t+=1,[e,t]}const ya=typeof BigInt=="function"?BigInt.asIntN:void 0,aR=typeof BigInt=="function"?BigInt.asUintN:void 0,uo=Number.isSafeInteger,Su=Number.isFinite,Yl=Math.trunc,rR=ro(0);function yo(e){return e==null||typeof e=="number"?e:e==="NaN"||e==="Infinity"||e==="-Infinity"?Number(e):void 0}function Q3(e){return e==null||typeof e=="boolean"?e:typeof e=="number"?!!e:void 0}const uR=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function va(e){switch(typeof e){case"bigint":return!0;case"number":return Su(e);case"string":return uR.test(e);default:return!1}}function os(e){if(e==null)return e;if(typeof e=="string"&&e)e=+e;else if(typeof e!="number")return;return Su(e)?0|e:void 0}function Z3(e){if(e==null)return e;if(typeof e=="string"&&e)e=+e;else if(typeof e!="number")return;return Su(e)?e>>>0:void 0}function cy(e){if(e[0]==="-")return!1;const t=e.length;return t<20||t===20&&Number(e.substring(0,6))<184467}function W3(e){const t=e.length;return e[0]==="-"?t<20||t===20&&Number(e.substring(0,7))>-922337:t<19||t===19&&Number(e.substring(0,6))<922337}function $3(e){return W3(e)?e:(Eu(e),X3())}function Ch(e){return e=Yl(e),uo(e)||(Yo(e),e=Sh(Fe,lt)),e}function j3(e){var t=Yl(Number(e));return uo(t)?String(t):((t=e.indexOf("."))!==-1&&(e=e.substring(0,t)),$3(e))}function fy(e){var t=Yl(Number(e));return uo(t)?ro(t):((t=e.indexOf("."))!==-1&&(e=e.substring(0,t)),yu()?ro(ya(64,BigInt(e))):ro($3(e)))}function dy(e){if(uo(e))e=ro(Ch(e));else{if(e=Yl(e),uo(e))e=String(e);else{const t=String(e);W3(t)?e=t:(Yo(e),e=X3())}e=ro(e)}return e}function Od(e){return e==null?e:typeof e=="bigint"?(Bd(e)?e=Number(e):(e=ya(64,e),e=Bd(e)?Number(e):String(e)),e):va(e)?typeof e=="number"?Ch(e):j3(e):void 0}function cR(e){if(e==null)return e;var t=typeof e;if(t==="bigint")return String(aR(64,e));if(va(e)){if(t==="string")return t=Yl(Number(e)),uo(t)&&t>=0?e=String(t):((t=e.indexOf("."))!==-1&&(e=e.substring(0,t)),cy(e)||(Eu(e),e=ga(Fe,lt))),e;if(t==="number")return(e=Yl(e))>=0&&uo(e)?e:(function(o){if(o<0){Yo(o);var l=ga(Fe,lt);return o=Number(l),uo(o)?o:l}return cy(l=String(o))?l:(Yo(o),Eh(Fe,lt))})(e)}}function ev(e){if(typeof e!="string")throw Error();return e}function ls(e){if(e!=null&&typeof e!="string")throw Error();return e}function Jl(e){return e==null||typeof e=="string"?e:void 0}function Mh(e,t,o,l){if(e!=null&&typeof e=="object"&&e.W===Ea)return e;if(!Array.isArray(e))return o?2&l?((e=t[iy])||(is((e=new t).u),e=t[iy]=e),t=e):t=new t:t=void 0,t;let a=o=0|e[le];return a===0&&(a|=32&l),a|=2&l,a!==o&&yt(e,a),new t(e)}function fR(e,t,o){if(t)e:{if(!va(t=e))throw Vd("int64");switch(typeof t){case"string":t=fy(t);break e;case"bigint":t=ro(ya(64,t));break e;default:t=dy(t)}}else e=typeof(t=e),t=t==null?t:e==="bigint"?ro(ya(64,t)):va(t)?e==="string"?fy(t):dy(t):void 0;return(e=t)==null?o?rR:void 0:e}function dR(e){return e}const hR={};let pR=(function(){try{return pu(new class extends Map{constructor(){super()}}),!1}catch{return!0}})();class _d{constructor(){this.g=new Map}get(t){return this.g.get(t)}set(t,o){return this.g.set(t,o),this.size=this.g.size,this}delete(t){return t=this.g.delete(t),this.size=this.g.size,t}clear(){this.g.clear(),this.size=this.g.size}has(t){return this.g.has(t)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(t,o){return this.g.forEach(t,o)}[Symbol.iterator](){return this.entries()}}const mR=pR?(Object.setPrototypeOf(_d.prototype,Map.prototype),Object.defineProperties(_d.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),_d):class extends Map{constructor(){super()}};function hy(e){return e}function Ed(e){if(2&e.M)throw Error("Cannot mutate an immutable Map")}var jn=class extends mR{constructor(e,t,o=hy,l=hy){super();let a=0|e[le];a|=64,yt(e,a),this.M=a,this.I=t,this.S=o,this.X=this.I?gR:l;for(let u=0;u<e.length;u++){const d=e[u],m=o(d[0],!1,!0);let y=d[1];t?y===void 0&&(y=null):y=l(d[1],!1,!0,void 0,void 0,a),super.set(m,y)}}La(){var e=ER;if(this.size!==0)return Array.from(super.entries(),(t=>(t[0]=e(t[0]),t[1]=e(t[1]),t)))}da(e=yR){const t=[],o=super.entries();for(var l;!(l=o.next()).done;)(l=l.value)[0]=e(l[0]),l[1]=e(l[1]),t.push(l);return t}clear(){Ed(this),super.clear()}delete(e){return Ed(this),super.delete(this.S(e,!0,!1))}entries(){if(this.I){var e=super.keys();e=new ly(e,vR,this)}else e=super.entries();return e}values(){if(this.I){var e=super.keys();e=new ly(e,jn.prototype.get,this)}else e=super.values();return e}forEach(e,t){this.I?super.forEach(((o,l,a)=>{e.call(t,a.get(l),l,a)})):super.forEach(e,t)}set(e,t){return Ed(this),(e=this.S(e,!0,!1))==null?this:t==null?(super.delete(e),this):super.set(e,this.X(t,!0,!0,this.I,!1,this.M))}Ja(e){const t=this.S(e[0],!1,!0);e=e[1],e=this.I?e===void 0?null:e:this.X(e,!1,!0,void 0,!1,this.M),super.set(t,e)}has(e){return super.has(this.S(e,!1,!1))}get(e){e=this.S(e,!1,!1);const t=super.get(e);if(t!==void 0){var o=this.I;return o?((o=this.X(t,!1,!0,o,this.pa,this.M))!==t&&super.set(e,o),o):t}}[Symbol.iterator](){return this.entries()}};function gR(e,t,o,l,a,u){return e=Mh(e,l,o,u),a&&(e=Mu(e)),e}function yR(e){return e}function vR(e){return[e,this.get(e)]}let TR,tv,nv,_R;function py(){return TR||=new jn(is([]),void 0,void 0,void 0,hR)}function zd(e,t,o,l,a){if(e!=null){if(Array.isArray(e)){const u=0|e[le];return e.length===0&&1&u?void 0:a&&2&u?e:Au(e,t,o,l!==void 0,a)}return t(e,l)}}function Au(e,t,o,l,a){const u=l||o?0|e[le]:0,d=l?!!(32&u):void 0;let m=0;const y=(l=Zt(e)).length;for(let b=0;b<y;b++){var g=l[b];if(b===y-1&&vu(g)){var v=t,_=o,E=d,C=a;let k;for(let Y in g){const B=zd(g[Y],v,_,E,C);B!=null&&((k??={})[Y]=B)}g=k}else g=zd(l[b],t,o,d,a);l[b]=g,g!=null&&(m=b+1)}return m<y&&(l.length=m),o&&((e=Th(e))&&(l[Fl]=Zt(e)),o(u,l)),l}function ER(e){return zd(e,Rh,void 0,void 0,!1)}function Rh(e){switch(typeof e){case"number":return Number.isFinite(e)?e:""+e;case"bigint":return Bd(e)?Number(e):""+e;case"boolean":return e?1:0;case"object":if(zo(e))return zo(e)&&gh(F3),ty(e);if(e.W===Ea)return iv(e);if(e instanceof Ci){const t=e.g;return t==null?"":typeof t=="string"?t:e.g=ty(t)}return e instanceof jn?e.La():void 0}return e}function iv(e){var t=e.u;e=Au(t,Rh,void 0,void 0,!1);var o=0|t[le];if((t=e.length)&&!(512&o)){var l=e[t-1],a=!1;vu(l)?(t--,a=!0):l=void 0;var u=t-(o=512&o?0:-1),d=(tv??dR)(u,o,e,l);if(l&&(e[t]=void 0),u<d&&l){for(var m in u=!0,l){const y=+m;y<=d?(e[a=y+o]=l[m],t=Math.max(a+1,t),a=!1,delete l[m]):u=!1}u&&(l=void 0)}for(u=t-1;t>0;u=t-1)if((m=e[u])==null)t--,a=!0;else{if(!((u-=o)>=d))break;(l??={})[u]=m,t--,a=!0}a&&(e.length=t),l&&e.push(l)}return e}function co(e,t,o){return e=ov(e,t[0],t[1],o?1:2),t!==nv&&o&&gu(e,8192),e}function ov(e,t,o,l){if(e==null){var a=96;o?(e=[o],a|=512):e=[],t&&(a=-16760833&a|(1023&t)<<14)}else{if(!Array.isArray(e))throw Error("narr");if(8192&(a=0|e[le])||!(64&a)||2&a||gh(WM),1024&a)throw Error("farr");if(64&a)return e;if(l===1||l===2||(a|=64),o&&(a|=512,o!==e[0]))throw Error("mid");e:{var u=(o=e).length;if(u){var d=u-1;if(vu(l=o[d])){if((d-=t=512&(a|=256)?0:-1)>=1024)throw Error("pvtlmt");for(var m in l)(u=+m)<d&&(o[u+t]=l[m],delete l[m]);a=-16760833&a|(1023&d)<<14;break e}}if(t){if((m=Math.max(t,u-(512&a?0:-1)))>1024)throw Error("spvt");a=-16760833&a|(1023&m)<<14}}}return yt(e,a),e}function Fd(e,t,o=qd){if(e!=null){if(V3&&e instanceof Uint8Array)return t?e:new Uint8Array(e);if(Array.isArray(e)){var l=0|e[le];return 2&l?e:(t&&=l===0||!!(32&l)&&!(64&l||!(16&l)),t?(yt(e,34|l),4&l&&Object.freeze(e),e):Au(e,Fd,4&l?qd:o,!0,!0))}return e.W===Ea?e=2&(l=0|(o=e.u)[le])?e:new e.constructor(Cu(o,l,!0)):e instanceof jn&&!(2&e.M)&&(o=is(e.da(Fd)),e=new jn(o,e.I,e.S,e.X)),e}}function Cu(e,t,o){const l=o||2&t?qd:$M,a=!!(32&t);return e=(function(u,d,m){const y=Zt(u);var g=y.length;const v=256&d?y[g-1]:void 0;for(g+=v?-1:0,d=512&d?1:0;d<g;d++)y[d]=m(y[d]);if(v){d=y[d]={};for(const _ in v)d[_]=m(v[_])}return(u=Th(u))&&(y[Fl]=Zt(u)),y})(e,t,(u=>Fd(u,a,l))),gu(e,32|(o?2:0)),e}function Mu(e){const t=e.u,o=0|t[le];return 2&o?new e.constructor(Cu(t,o,!1)):e}function Kl(e,t){return Ui(e=e.u,0|e[le],t)}function Ui(e,t,o){if(o===-1)return null;const l=o+(512&t?0:-1),a=e.length-1;return l>=a&&256&t?e[a][o]:l<=a?e[l]:void 0}function Ye(e,t,o){const l=e.u;let a=0|l[le];return go(a),tt(l,a,t,o),e}function tt(e,t,o,l){const a=512&t?0:-1,u=o+a;var d=e.length-1;return u>=d&&256&t?(e[d][o]=l,t):u<=d?(e[u]=l,t):(l!==void 0&&(o>=(d=t>>14&1023||536870912)?l!=null&&(e[d+a]={[o]:l},yt(e,t|=256)):e[u]=l),t)}function Qr(e,t){let o=0|(e=e.u)[le];const l=Ui(e,o,t),a=yo(l);return a!=null&&a!==l&&tt(e,o,t,a),a}function lv(e){let t=0|(e=e.u)[le];const o=Ui(e,t,1),l=vh(o,!0);return l!=null&&l!==o&&tt(e,t,1,l),l}function qo(){return jM===void 0?2:4}function Bo(e,t,o,l,a){const u=e.u,d=2&(e=0|u[le])?1:l;a=!!a;let m=0|(l=Nh(u,e,t))[le];if(!(4&m)){4&m&&(l=Zt(l),m=Mi(m,e),e=tt(u,e,t,l));let y=0,g=0;for(;y<l.length;y++){const v=o(l[y]);v!=null&&(l[g++]=v)}g<y&&(l.length=g),m=Ih(m,e),o=-2049&(20|m),m=o&=-4097,yt(l,m),2&m&&Object.freeze(l)}return d===1||d===4&&32&m?Ai(m)||(a=m,m|=2,m!==a&&yt(l,m),Object.freeze(l)):(d===2&&Ai(m)&&(l=Zt(l),m=Mi(m,e),m=fo(m,e,a),yt(l,m),e=tt(u,e,t,l)),Ai(m)||(t=m,m=fo(m,e,a),m!==t&&yt(l,m))),l}function Nh(e,t,o){return e=Ui(e,t,o),Array.isArray(e)?e:yh}function Ih(e,t){return e===0&&(e=Mi(e,t)),1|e}function Ai(e){return!!(2&e)&&!!(4&e)||!!(1024&e)}function sv(e){e=Zt(e);for(let t=0;t<e.length;t++){const o=e[t]=Zt(e[t]);Array.isArray(o[1])&&(o[1]=is(o[1]))}return e}function Yd(e,t,o,l){let a=0|(e=e.u)[le];go(a),tt(e,a,t,(l==="0"?Number(o)===0:o===l)?void 0:o)}function ss(e,t,o,l){go(t);let a=Nh(e,t,o);const u=a!==yh;if(64&t||!(8192&t)||!u){const d=u?0|a[le]:0;let m=d;(!u||2&m||Ai(m)||4&m&&!(32&m))&&(a=Zt(a),m=Mi(m,t),t=tt(e,t,o,a)),m=-13&Ih(m,t),m=fo(l?-17&m:16|m,t,!0),m!==d&&yt(a,m)}return a}function Sd(e,t){var o=Xv;return wh(Dh(e=e.u),e,0|e[le],o)===t?t:-1}function Dh(e){if(mu)return e[aa]??(e[aa]=new Map);if(aa in e)return e[aa];const t=new Map;return Object.defineProperty(e,aa,{value:t}),t}function av(e,t,o,l){const a=Dh(e),u=wh(a,e,t,o);return u!==l&&(u&&(t=tt(e,t,u)),a.set(o,l)),t}function wh(e,t,o,l){let a=e.get(l);if(a!=null)return a;a=0;for(let u=0;u<l.length;u++){const d=l[u];Ui(t,o,d)!=null&&(a!==0&&(o=tt(t,o,a)),a=d)}return e.set(l,a),a}function xh(e,t,o){let l=0|e[le];const a=Ui(e,l,o);let u;if(a!=null&&a.W===Ea)return(t=Mu(a))!==a&&tt(e,l,o,t),t.u;if(Array.isArray(a)){const d=0|a[le];u=2&d?co(Cu(a,d,!1),t,!0):64&d?a:co(u,t,!0)}else u=co(void 0,t,!0);return u!==a&&tt(e,l,o,u),u}function rv(e,t,o){let l=0|(e=e.u)[le];const a=Ui(e,l,o);return(t=Mh(a,t,!1,l))!==a&&t!=null&&tt(e,l,o,t),t}function Ne(e,t,o){if((t=rv(e,t,o))==null)return t;let l=0|(e=e.u)[le];if(!(2&l)){const a=Mu(t);a!==t&&tt(e,l,o,t=a)}return t}function uv(e,t,o,l,a,u,d){e=e.u;var m=!!(2&t);const y=m?1:a;u=!!u,d&&=!m;var g=0|(a=Nh(e,t,l))[le];if(!(m=!!(4&g))){var v=a,_=t;const E=!!(2&(g=Ih(g,t)));E&&(_|=2);let C=!E,b=!0,k=0,Y=0;for(;k<v.length;k++){const B=Mh(v[k],o,!1,_);if(B instanceof o){if(!E){const z=!!(2&(0|B.u[le]));C&&=!z,b&&=z}v[Y++]=B}}Y<k&&(v.length=Y),g|=4,g=b?16|g:-17&g,yt(v,g=C?8|g:-9&g),E&&Object.freeze(v)}if(d&&!(8&g||!a.length&&(y===1||y===4&&32&g))){for(Ai(g)&&(a=Zt(a),g=Mi(g,t),t=tt(e,t,l,a)),o=a,d=g,v=0;v<o.length;v++)(g=o[v])!==(_=Mu(g))&&(o[v]=_);d|=8,yt(o,d=o.length?-17&d:16|d),g=d}return y===1||y===4&&32&g?Ai(g)||(t=g,(g|=!a.length||16&g&&(!m||32&g)?2:1024)!==t&&yt(a,g),Object.freeze(a)):(y===2&&Ai(g)&&(yt(a=Zt(a),g=fo(g=Mi(g,t),t,u)),t=tt(e,t,l,a)),Ai(g)||(l=g,(g=fo(g,t,u))!==l&&yt(a,g))),a}function Ii(e,t,o){const l=0|e.u[le];return uv(e,l,t,o,qo(),!1,!(2&l))}function ae(e,t,o,l){return l==null&&(l=void 0),Ye(e,o,l)}function da(e,t,o,l){l==null&&(l=void 0);e:{let a=0|(e=e.u)[le];if(go(a),l==null){const u=Dh(e);if(wh(u,e,a,o)!==t)break e;u.set(o,0)}else a=av(e,a,o,t);tt(e,a,t,l)}}function Mi(e,t){return-1025&(e=32|(2&t?2|e:-3&e))}function fo(e,t,o){return 32&t&&o||(e&=-33),e}function Ru(e,t,o){go(0|e.u[le]),Bo(e,t,Jl,2,!0).push(ev(o))}function lu(e,t,o,l){const a=0|e.u[le];go(a),e=uv(e,a,o,t,2,!0),l=l??new o,e.push(l),e[le]=2&(0|l.u[le])?-9&e[le]:-17&e[le]}function Un(e,t){return os(Kl(e,t))}function Ln(e,t){return Jl(Kl(e,t))}function ft(e,t){return Qr(e,t)??0}function Ta(e,t,o){if(o!=null&&typeof o!="boolean")throw e=typeof o,Error(`Expected boolean but got ${e!="object"?e:o?Array.isArray(o)?"array":e:"null"}: ${o}`);Ye(e,t,o)}function ei(e,t,o){if(o!=null){if(typeof o!="number"||!Su(o))throw Vd("int32");o|=0}Ye(e,t,o)}function ie(e,t,o){if(o!=null&&typeof o!="number")throw Error(`Value of float/double field must be a number, found ${typeof o}: ${o}`);Ye(e,t,o)}function su(e,t,o){{const d=e.u;let m=0|d[le];if(go(m),o==null)tt(d,m,t);else{var l=e=0|o[le],a=Ai(e),u=a||Object.isFrozen(o);for(a||(e=0),u||(o=Zt(o),l=0,e=fo(e=Mi(e,m),m,!0),u=!1),e|=21,a=0;a<o.length;a++){const y=o[a],g=ev(y);Object.is(y,g)||(u&&(o=Zt(o),l=0,e=fo(e=Mi(e,m),m,!0),u=!1),o[a]=g)}e!==l&&(u&&(o=Zt(o),e=fo(e=Mi(e,m),m,!0)),yt(o,e)),tt(d,m,t,o)}}}function cv(e,t){return Error(`Invalid wire type: ${e} (at position ${t})`)}function Uh(){return Error("Failed to read varint, encoding is invalid.")}function fv(e,t){return Error(`Tried to read past the end of the data ${t} > ${e}`)}function bh(e){if(typeof e=="string")return{buffer:B3(e),O:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),O:!1};if(e.constructor===Uint8Array)return{buffer:e,O:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),O:!1};if(e.constructor===Ci)return{buffer:mh(e)||new Uint8Array(0),O:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),O:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Lh(e,t){let o,l=0,a=0,u=0;const d=e.h;let m=e.g;do o=d[m++],l|=(127&o)<<u,u+=7;while(u<32&&128&o);for(u>32&&(a|=(127&o)>>4),u=3;u<32&&128&o;u+=7)o=d[m++],a|=(127&o)<<u;if(Oo(e,m),o<128)return t(l>>>0,a>>>0);throw Uh()}function Gh(e){let t=0,o=e.g;const l=o+10,a=e.h;for(;o<l;){const u=a[o++];if(t|=u,(128&u)==0)return Oo(e,o),!!(127&t)}throw Uh()}function ho(e){const t=e.h;let o=e.g,l=t[o++],a=127&l;if(128&l&&(l=t[o++],a|=(127&l)<<7,128&l&&(l=t[o++],a|=(127&l)<<14,128&l&&(l=t[o++],a|=(127&l)<<21,128&l&&(l=t[o++],a|=l<<28,128&l&&128&t[o++]&&128&t[o++]&&128&t[o++]&&128&t[o++]&&128&t[o++])))))throw Uh();return Oo(e,o),a}function Di(e){return ho(e)>>>0}function Jd(e){var t=e.h;const o=e.g,l=t[o],a=t[o+1],u=t[o+2];return t=t[o+3],Oo(e,e.g+4),(l<<0|a<<8|u<<16|t<<24)>>>0}function Kd(e){var t=Jd(e);e=2*(t>>31)+1;const o=t>>>23&255;return t&=8388607,o==255?t?NaN:e*(1/0):o==0?1401298464324817e-60*e*t:e*Math.pow(2,o-150)*(t+8388608)}function SR(e){return ho(e)}function Ad(e,t,{aa:o=!1}={}){e.aa=o,t&&(t=bh(t),e.h=t.buffer,e.m=t.O,e.j=0,e.l=e.h.length,e.g=e.j)}function Oo(e,t){if(e.g=t,t>e.l)throw fv(e.l,t)}function dv(e,t){if(t<0)throw Error(`Tried to read a negative byte length: ${t}`);const o=e.g,l=o+t;if(l>e.l)throw fv(t,e.l-o);return e.g=l,o}function hv(e,t){if(t==0)return Fo();var o=dv(e,t);return e.aa&&e.m?o=e.h.subarray(o,o+t):(e=e.h,o=o===(t=o+t)?new Uint8Array(0):sR?e.slice(o,t):new Uint8Array(e.subarray(o,t))),o.length==0?Fo():new Ci(o,zl)}jn.prototype.toJSON=void 0;var my=[];function pv(e){var t=e.g;if(t.g==t.l)return!1;e.l=e.g.g;var o=Di(e.g);if(t=o>>>3,!((o&=7)>=0&&o<=5))throw cv(o,e.l);if(t<1)throw Error(`Invalid field number: ${t} (at position ${e.l})`);return e.m=t,e.h=o,!0}function Zr(e){switch(e.h){case 0:e.h!=0?Zr(e):Gh(e.g);break;case 1:Oo(e=e.g,e.g+8);break;case 2:if(e.h!=2)Zr(e);else{var t=Di(e.g);Oo(e=e.g,e.g+t)}break;case 5:Oo(e=e.g,e.g+4);break;case 3:for(t=e.m;;){if(!pv(e))throw Error("Unmatched start-group tag: stream EOF");if(e.h==4){if(e.m!=t)throw Error("Unmatched end-group tag");break}Zr(e)}break;default:throw cv(e.h,e.l)}}function Sa(e,t,o){const l=e.g.l,a=Di(e.g),u=e.g.g+a;let d=u-l;if(d<=0&&(e.g.l=u,o(t,e,void 0,void 0,void 0),d=u-e.g.g),d)throw Error(`Message parsing ended unexpectedly. Expected to read ${a} bytes, instead read ${a-d} bytes, either the data ended unexpectedly or the message misreported its own length`);return e.g.g=u,e.g.l=l,t}function Ph(e){var t=Di(e.g),o=dv(e=e.g,t);if(e=e.h,BM){var l,a=e;(l=gd)||(l=gd=new TextDecoder("utf-8",{fatal:!0})),t=o+t,a=o===0&&t===a.length?a:a.subarray(o,t);try{var u=l.decode(a)}catch(m){if(Or===void 0){try{l.decode(new Uint8Array([128]))}catch{}try{l.decode(new Uint8Array([97])),Or=!0}catch{Or=!1}}throw!Or&&(gd=void 0),m}}else{t=(u=o)+t,o=[];let m,y=null;for(;u<t;){var d=e[u++];d<128?o.push(d):d<224?u>=t?ko():(m=e[u++],d<194||(192&m)!=128?(u--,ko()):o.push((31&d)<<6|63&m)):d<240?u>=t-1?ko():(m=e[u++],(192&m)!=128||d===224&&m<160||d===237&&m>=160||(192&(l=e[u++]))!=128?(u--,ko()):o.push((15&d)<<12|(63&m)<<6|63&l)):d<=244?u>=t-2?ko():(m=e[u++],(192&m)!=128||m-144+(d<<28)>>30!=0||(192&(l=e[u++]))!=128||(192&(a=e[u++]))!=128?(u--,ko()):(d=(7&d)<<18|(63&m)<<12|(63&l)<<6|63&a,d-=65536,o.push(55296+(d>>10&1023),56320+(1023&d)))):ko(),o.length>=8192&&(y=W2(y,o),o.length=0)}u=W2(y,o)}return u}function mv(e){const t=Di(e.g);return hv(e.g,t)}function Nu(e,t,o){var l=Di(e.g);for(l=e.g.g+l;e.g.g<l;)o.push(t(e.g))}var zr=[];function Bn(e,t,o){t.g?t.m(e,t.g,t.h,o):t.m(e,t.h,o)}var ne=class{constructor(e,t){this.u=ov(e,t)}toJSON(){try{var e=iv(this)}finally{tv=void 0}return e}l(){var e=o8;return e.g?e.l(this,e.g,e.h):e.l(this,e.h,e.defaultValue)}clone(){const e=this.u;return new this.constructor(Cu(e,0|e[le],!1))}O(){return!!(2&(0|this.u[le]))}};function gy(e){return e?/^\d+$/.test(e)?(Eu(e),new Xd(Fe,lt)):null:AR||=new Xd(0,0)}ne.prototype.W=Ea,ne.prototype.toString=function(){return this.u.toString()};var Xd=class{constructor(e,t){this.h=e>>>0,this.g=t>>>0}};let AR;function yy(e){return e?/^-?\d+$/.test(e)?(Eu(e),new Qd(Fe,lt)):null:CR||=new Qd(0,0)}var Qd=class{constructor(e,t){this.h=e>>>0,this.g=t>>>0}};let CR;function Vl(e,t,o){for(;o>0||t>127;)e.g.push(127&t|128),t=(t>>>7|o<<25)>>>0,o>>>=7;e.g.push(t)}function as(e,t){for(;t>127;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function Iu(e,t){if(t>=0)as(e,t);else{for(let o=0;o<9;o++)e.g.push(127&t|128),t>>=7;e.g.push(1)}}function _a(e,t){e.g.push(t>>>0&255),e.g.push(t>>>8&255),e.g.push(t>>>16&255),e.g.push(t>>>24&255)}function Xl(e,t){t.length!==0&&(e.l.push(t),e.h+=t.length)}function mn(e,t,o){as(e.g,8*t+o)}function Hh(e,t){return mn(e,t,2),t=e.g.end(),Xl(e,t),t.push(e.h),t}function kh(e,t){var o=t.pop();for(o=e.h+e.g.length()-o;o>127;)t.push(127&o|128),o>>>=7,e.h++;t.push(o),e.h++}function Du(e,t,o){mn(e,t,2),as(e.g,o.length),Xl(e,e.g.end()),Xl(e,o)}function au(e,t,o,l){o!=null&&(t=Hh(e,t),l(o,e),kh(e,t))}function On(){const e=class{constructor(){throw Error()}};return Object.setPrototypeOf(e,e.prototype),e}var Vh=On(),gv=On(),qh=On(),Bh=On(),yv=On(),vv=On(),Oh=On(),Tv=On(),_v=On(),rs=class{constructor(e,t,o){this.g=e,this.h=t,e=Vh,this.l=!!e&&o===e||!1}};function wu(e,t){return new rs(e,t,Vh)}function Ev(e,t,o,l,a){au(e,o,Mv(t,l),a)}const MR=wu((function(e,t,o,l,a){return e.h===2&&(Sa(e,xh(t,l,o),a),!0)}),Ev),RR=wu((function(e,t,o,l,a){return e.h===2&&(Sa(e,xh(t,l,o),a),!0)}),Ev);var xu=Symbol(),zh=Symbol(),vy=Symbol(),Ty=Symbol();let Sv,Av;function Ko(e,t,o,l){var a=l[e];if(a)return a;(a={}).Ma=l,a.T=(function(_){switch(typeof _){case"boolean":return nv||=[0,void 0,!0];case"number":return _>0?void 0:_===0?_R||=[0,void 0]:[-_,void 0];case"string":return[0,_];case"object":return _}})(l[0]);var u=l[1];let d=1;u&&u.constructor===Object&&(a.ga=u,typeof(u=l[++d])=="function"&&(a.la=!0,Sv??=u,Av??=l[d+1],u=l[d+=2]));const m={};for(;u&&Array.isArray(u)&&u.length&&typeof u[0]=="number"&&u[0]>0;){for(var y=0;y<u.length;y++)m[u[y]]=u;u=l[++d]}for(y=1;u!==void 0;){let _;typeof u=="number"&&(y+=u,u=l[++d]);var g=void 0;if(u instanceof rs?_=u:(_=MR,d--),_?.l){u=l[++d],g=l;var v=d;typeof u=="function"&&(u=u(),g[v]=u),g=u}for(v=y+1,typeof(u=l[++d])=="number"&&u<0&&(v-=u,u=l[++d]);y<v;y++){const E=m[y];g?o(a,y,_,g,E):t(a,y,_,E)}}return l[e]=a}function Cv(e){return Array.isArray(e)?e[0]instanceof rs?e:[RR,e]:[e,void 0]}function Mv(e,t){return e instanceof ne?e.u:Array.isArray(e)?co(e,t,!1):void 0}function Fh(e,t,o,l){const a=o.g;e[t]=l?(u,d,m)=>a(u,d,m,l):a}function Yh(e,t,o,l,a){const u=o.g;let d,m;e[t]=(y,g,v)=>u(y,g,v,m||=Ko(zh,Fh,Yh,l).T,d||=Jh(l),a)}function Jh(e){let t=e[vy];if(t!=null)return t;const o=Ko(zh,Fh,Yh,e);return t=o.la?(l,a)=>Sv(l,a,o):(l,a)=>{const u=0|l[le];for(;pv(a)&&a.h!=4;){var d=a.m,m=o[d];if(m==null){var y=o.ga;y&&(y=y[d])&&(y=NR(y))!=null&&(m=o[d]=y)}m!=null&&m(a,l,d)||(d=(m=a).l,Zr(m),m.fa?m=void 0:(y=m.g.g-d,m.g.g=d,m=hv(m.g,y)),d=l,m&&((y=d[Fl])?y.push(m):d[Fl]=[m]))}return 8192&u&&is(l),!0},e[vy]=t}function NR(e){const t=(e=Cv(e))[0].g;if(e=e[1]){const o=Jh(e),l=Ko(zh,Fh,Yh,e).T;return(a,u,d)=>t(a,u,d,l,o)}return t}function Uu(e,t,o){e[t]=o.h}function bu(e,t,o,l){let a,u;const d=o.h;e[t]=(m,y,g)=>d(m,y,g,u||=Ko(xu,Uu,bu,l).T,a||=Rv(l))}function Rv(e){let t=e[Ty];if(!t){const o=Ko(xu,Uu,bu,e);t=(l,a)=>Nv(l,a,o),e[Ty]=t}return t}function Nv(e,t,o){(function(l,a,u){const d=512&a?0:-1,m=l.length,y=m+((a=64&a?256&a:!!m&&vu(l[m-1]))?-1:0);for(let g=0;g<y;g++)u(g-d,l[g]);if(a){l=l[m-1];for(const g in l)!isNaN(g)&&u(+g,l[g])}})(e,0|e[le]|(o.T[1]?512:0),((l,a)=>{if(a!=null){var u=(function(d,m){var y=d[m];if(y)return y;if((y=d.ga)&&(y=y[m])){var g=(y=Cv(y))[0].h;if(y=y[1]){const v=Rv(y),_=Ko(xu,Uu,bu,y).T;y=d.la?Av(_,v):(E,C,b)=>g(E,C,b,_,v)}else y=g;return d[m]=y}})(o,l);u&&u(t,a,l)}})),(e=Th(e))&&(function(l,a){Xl(l,l.g.end());for(let u=0;u<a.length;u++)Xl(l,mh(a[u])||new Uint8Array(0))})(t,e)}function us(e,t){if(Array.isArray(t)){var o=0|t[le];if(4&o)return t;for(var l=0,a=0;l<t.length;l++){const u=e(t[l]);u!=null&&(t[a++]=u)}return a<l&&(t.length=a),yt(t,-6145&(5|o)),2&o&&Object.freeze(t),t}}function Vt(e,t,o){return new rs(e,t,o)}function cs(e,t,o){return new rs(e,t,o)}function qt(e,t,o){tt(e,0|e[le],t,o)}var IR=wu((function(e,t,o,l,a){return e.h===2&&(e=Sa(e,co([void 0,void 0],l,!0),a),go(l=0|t[le]),(a=Ui(t,l,o))instanceof jn?(2&a.M)!=0?((a=a.da()).push(e),tt(t,l,o,a)):a.Ja(e):Array.isArray(a)?(2&(0|a[le])&&tt(t,l,o,a=sv(a)),a.push(e)):tt(t,l,o,[e]),!0)}),(function(e,t,o,l,a){if(t instanceof jn)t.forEach(((u,d)=>{au(e,o,co([d,u],l,!1),a)}));else if(Array.isArray(t))for(let u=0;u<t.length;u++){const d=t[u];Array.isArray(d)&&au(e,o,co(d,l,!1),a)}}));function Iv(e,t,o){if(t=(function(l){if(l==null)return l;const a=typeof l;if(a==="bigint")return String(ya(64,l));if(va(l)){if(a==="string")return j3(l);if(a==="number")return Ch(l)}})(t),t!=null&&(typeof t=="string"&&yy(t),t!=null))switch(mn(e,o,0),typeof t){case"number":e=e.g,Yo(t),Vl(e,Fe,lt);break;case"bigint":o=BigInt.asUintN(64,t),o=new Qd(Number(o&BigInt(4294967295)),Number(o>>BigInt(32))),Vl(e.g,o.h,o.g);break;default:o=yy(t),Vl(e.g,o.h,o.g)}}function Dv(e,t,o){(t=os(t))!=null&&t!=null&&(mn(e,o,0),Iu(e.g,t))}function wv(e,t,o){(t=Q3(t))!=null&&(mn(e,o,0),e.g.g.push(t?1:0))}function xv(e,t,o){(t=Jl(t))!=null&&Du(e,o,P3(t))}function Uv(e,t,o,l,a){au(e,o,Mv(t,l),a)}function bv(e,t,o){t==null||typeof t=="string"||t instanceof Ci||(zo(t)?zo(t)&&gh(F3):t=void 0),t!=null&&Du(e,o,bh(t).buffer)}function Lv(e,t,o){return(e.h===5||e.h===2)&&(t=ss(t,0|t[le],o,!1),e.h==2?Nu(e,Kd,t):t.push(Kd(e.g)),!0)}var Ei=Vt((function(e,t,o){if(e.h!==1)return!1;var l=e.g;e=Jd(l);const a=Jd(l);l=2*(a>>31)+1;const u=a>>>20&2047;return e=4294967296*(1048575&a)+e,qt(t,o,u==2047?e?NaN:l*(1/0):u==0?5e-324*l*e:l*Math.pow(2,u-1075)*(e+4503599627370496)),!0}),(function(e,t,o){(t=yo(t))!=null&&(mn(e,o,1),e=e.g,(o=K3||=new DataView(new ArrayBuffer(8))).setFloat64(0,+t,!0),Fe=o.getUint32(0,!0),lt=o.getUint32(4,!0),_a(e,Fe),_a(e,lt))}),On()),vt=Vt((function(e,t,o){return e.h===5&&(qt(t,o,Kd(e.g)),!0)}),(function(e,t,o){(t=yo(t))!=null&&(mn(e,o,5),e=e.g,_h(t),_a(e,Fe))}),Oh),DR=cs(Lv,(function(e,t,o){if((t=us(yo,t))!=null)for(let d=0;d<t.length;d++){var l=e,a=o,u=t[d];u!=null&&(mn(l,a,5),l=l.g,_h(u),_a(l,Fe))}}),Oh),Kh=cs(Lv,(function(e,t,o){if((t=us(yo,t))!=null&&t.length){mn(e,o,2),as(e.g,4*t.length);for(let l=0;l<t.length;l++)o=e.g,_h(t[l]),_a(o,Fe)}}),Oh),po=Vt((function(e,t,o){return e.h===0&&(qt(t,o,Lh(e.g,Sh)),!0)}),Iv,vv),Cd=Vt((function(e,t,o){return e.h===0&&(qt(t,o,(e=Lh(e.g,Sh))===0?void 0:e),!0)}),Iv,vv),wR=Vt((function(e,t,o){return e.h===0&&(qt(t,o,Lh(e.g,Eh)),!0)}),(function(e,t,o){if((t=cR(t))!=null&&(typeof t=="string"&&gy(t),t!=null))switch(mn(e,o,0),typeof t){case"number":e=e.g,Yo(t),Vl(e,Fe,lt);break;case"bigint":o=BigInt.asUintN(64,t),o=new Xd(Number(o&BigInt(4294967295)),Number(o>>BigInt(32))),Vl(e.g,o.h,o.g);break;default:o=gy(t),Vl(e.g,o.h,o.g)}}),On()),st=Vt((function(e,t,o){return e.h===0&&(qt(t,o,ho(e.g)),!0)}),Dv,Bh),Lu=cs((function(e,t,o){return(e.h===0||e.h===2)&&(t=ss(t,0|t[le],o,!1),e.h==2?Nu(e,ho,t):t.push(ho(e.g)),!0)}),(function(e,t,o){if((t=us(os,t))!=null&&t.length){o=Hh(e,o);for(let l=0;l<t.length;l++)Iu(e.g,t[l]);kh(e,o)}}),Bh),Gl=Vt((function(e,t,o){return e.h===0&&(qt(t,o,(e=ho(e.g))===0?void 0:e),!0)}),Dv,Bh),je=Vt((function(e,t,o){return e.h===0&&(qt(t,o,Gh(e.g)),!0)}),wv,gv),ql=Vt((function(e,t,o){return e.h===0&&(qt(t,o,(e=Gh(e.g))===!1?void 0:e),!0)}),wv,gv),Lt=cs((function(e,t,o){return e.h===2&&(e=Ph(e),ss(t,0|t[le],o,!1).push(e),!0)}),(function(e,t,o){if((t=us(Jl,t))!=null)for(let d=0;d<t.length;d++){var l=e,a=o,u=t[d];u!=null&&Du(l,a,P3(u))}}),qh),so=Vt((function(e,t,o){return e.h===2&&(qt(t,o,(e=Ph(e))===""?void 0:e),!0)}),xv,qh),Ge=Vt((function(e,t,o){return e.h===2&&(qt(t,o,Ph(e)),!0)}),xv,qh),Et=(function(e,t,o=Vh){return new rs(e,t,o)})((function(e,t,o,l,a){return e.h===2&&(l=co(void 0,l,!0),ss(t,0|t[le],o,!0).push(l),Sa(e,l,a),!0)}),(function(e,t,o,l,a){if(Array.isArray(t))for(let u=0;u<t.length;u++)Uv(e,t[u],o,l,a)})),Le=wu((function(e,t,o,l,a,u){return e.h===2&&(av(t,0|t[le],u,o),Sa(e,t=xh(t,l,o),a),!0)}),Uv),Gv=Vt((function(e,t,o){return e.h===2&&(qt(t,o,mv(e)),!0)}),bv,Tv),xR=cs((function(e,t,o){return(e.h===0||e.h===2)&&(t=ss(t,0|t[le],o,!1),e.h==2?Nu(e,Di,t):t.push(Di(e.g)),!0)}),(function(e,t,o){if((t=us(Z3,t))!=null)for(let d=0;d<t.length;d++){var l=e,a=o,u=t[d];u!=null&&(mn(l,a,0),as(l.g,u))}}),yv),UR=Vt((function(e,t,o){return e.h===0&&(qt(t,o,(e=Di(e.g))===0?void 0:e),!0)}),(function(e,t,o){(t=Z3(t))!=null&&t!=null&&(mn(e,o,0),as(e.g,t))}),yv),hn=Vt((function(e,t,o){return e.h===0&&(qt(t,o,ho(e.g)),!0)}),(function(e,t,o){(t=os(t))!=null&&(t=parseInt(t,10),mn(e,o,0),Iu(e.g,t))}),_v);class bR{constructor(t,o){this.h=t,this.g=o,this.l=Ne,this.m=ae,this.defaultValue=void 0}register(){pu(this)}}function zn(e,t){return new bR(e,t)}function vo(e,t){return(o,l)=>{if(zr.length){const u=zr.pop();u.o(l),Ad(u.g,o,l),o=u}else o=new class{constructor(u,d){if(my.length){const m=my.pop();Ad(m,u,d),u=m}else u=new class{constructor(m,y){this.h=null,this.m=!1,this.g=this.l=this.j=0,Ad(this,m,y)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.aa=!1}}(u,d);this.g=u,this.l=this.g.g,this.h=this.m=-1,this.o(d)}o({fa:u=!1}={}){this.fa=u}}(o,l);try{const u=new e,d=u.u;Jh(t)(d,o);var a=u}finally{o.g.clear(),o.m=-1,o.h=-1,zr.length<100&&zr.push(o)}return a}}function Gu(e){return function(){const t=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){const d=this.g;return this.g=[],d}}}};Nv(this.u,t,Ko(xu,Uu,bu,e)),Xl(t,t.g.end());const o=new Uint8Array(t.h),l=t.l,a=l.length;let u=0;for(let d=0;d<a;d++){const m=l[d];o.set(m,u),u+=m.length}return t.l=[o],o}}var _y=class extends ne{constructor(e){super(e)}},Ey=[0,so,Vt((function(e,t,o){return e.h===2&&(qt(t,o,(e=mv(e))===Fo()?void 0:e),!0)}),(function(e,t,o){if(t!=null){if(t instanceof ne){const l=t.Oa;return void(l&&(t=l(t),t!=null&&Du(e,o,bh(t).buffer)))}if(Array.isArray(t))return}bv(e,t,o)}),Tv)];let Md,Sy=globalThis.trustedTypes;function Ay(e){Md===void 0&&(Md=(function(){let o=null;if(!Sy)return o;try{const l=a=>a;o=Sy.createPolicy("goog#html",{createHTML:l,createScript:l,createScriptURL:l})}catch{}return o})());var t=Md;return new class{constructor(o){this.g=o}toString(){return this.g+""}}(t?t.createScriptURL(e):e)}function LR(e,...t){if(t.length===0)return Ay(e[0]);let o=e[0];for(let l=0;l<t.length;l++)o+=encodeURIComponent(t[l])+e[l+1];return Ay(o)}var Pv=[0,st,hn,je,-1,Lu,hn,-1],GR=class extends ne{constructor(e){super(e)}},Hv=[0,je,Ge,je,hn,-1,cs((function(e,t,o){return(e.h===0||e.h===2)&&(t=ss(t,0|t[le],o,!1),e.h==2?Nu(e,SR,t):t.push(ho(e.g)),!0)}),(function(e,t,o){if((t=us(os,t))!=null&&t.length){o=Hh(e,o);for(let l=0;l<t.length;l++)Iu(e.g,t[l]);kh(e,o)}}),_v),Ge,-1,[0,je,-1],hn,je,-1],kv=[0,Ge,-2],Cy=class extends ne{constructor(e){super(e)}},Vv=[0],qv=[0,st,je,1,je,-3],pn=class extends ne{constructor(e){super(e,2)}},Tt={};Tt[336783863]=[0,Ge,je,-1,st,[0,[1,2,3,4,5,6,7,8,9],Le,Vv,Le,Hv,Le,kv,Le,qv,Le,Pv,Le,[0,Ge,-2],Le,[0,Ge,hn],Le,[0,hn,Ge,-1],Le,[0,hn,-1]],[0,Ge],je,[0,[1,3],[2,4],Le,[0,Lu],-1,Le,[0,Lt],-1,Et,[0,Ge,-1]],Ge];var My=[0,Cd,-1,ql,-3,Cd,Lu,so,Gl,Cd,-1,ql,Gl,ql,-2,so];function gn(e,t){Yd(e,2,ls(t),"")}function Je(e,t){Ru(e,3,t)}function Re(e,t){Ru(e,4,t)}var kt=class extends ne{constructor(e){super(e,500)}o(e){return ae(this,0,7,e)}},ha=[-1,{}],Ry=[0,Ge,1,ha],Ny=[0,Ge,Lt,ha];function yn(e,t){lu(e,1,kt,t)}function Ze(e,t){Ru(e,10,t)}function we(e,t){Ru(e,15,t)}var $t=class extends ne{constructor(e){super(e,500)}o(e){return ae(this,0,1001,e)}},Bv=[-500,Et,[-500,so,-1,Lt,-3,[-2,Tt,je],Et,Ey,Gl,-1,Ry,Ny,Et,[0,so,ql],so,My,Gl,Lt,987,Lt],4,Et,[-500,Ge,-1,[-1,{}],998,Ge],Et,[-500,Ge,Lt,-1,[-2,{},je],997,Lt,-1],Gl,Et,[-500,Ge,Lt,ha,998,Lt],Lt,Gl,Ry,Ny,Et,[0,so,-1,ha],Lt,-2,My,so,-1,ql,[0,ql,UR],978,ha,Et,Ey];$t.prototype.g=Gu(Bv);var PR=vo($t,Bv),HR=class extends ne{constructor(e){super(e)}},Ov=class extends ne{constructor(e){super(e)}g(){return Ii(this,HR,1)}},zv=[0,Et,[0,st,vt,Ge,-1]],Pu=vo(Ov,zv),kR=class extends ne{constructor(e){super(e)}},VR=class extends ne{constructor(e){super(e)}},Rd=class extends ne{constructor(e){super(e)}h(){return Ne(this,kR,2)}g(){return Ii(this,VR,5)}},Fv=vo(class extends ne{constructor(e){super(e)}},[0,Lt,Lu,Kh,[0,hn,[0,st,-3],[0,vt,-3],[0,st,-1,[0,Et,[0,st,-2]]],Et,[0,vt,-1,Ge,vt]],Ge,-1,po,Et,[0,st,vt],Lt,po]),Yv=class extends ne{constructor(e){super(e)}},Bl=vo(class extends ne{constructor(e){super(e)}},[0,Et,[0,vt,-4]]),Jv=class extends ne{constructor(e){super(e)}},Aa=vo(class extends ne{constructor(e){super(e)}},[0,Et,[0,vt,-4]]),qR=class extends ne{constructor(e){super(e)}},BR=[0,st,-1,Kh,hn],Kv=class extends ne{constructor(e){super(e)}};Kv.prototype.g=Gu([0,vt,-4,po]);var OR=class extends ne{constructor(e){super(e)}},zR=vo(class extends ne{constructor(e){super(e)}},[0,Et,[0,1,st,Ge,zv],po]),Iy=class extends ne{constructor(e){super(e)}},FR=class extends ne{constructor(e){super(e)}ma(){const e=lv(this);return e??Fo()}},YR=class extends ne{constructor(e){super(e)}},Xv=[1,2],JR=vo(class extends ne{constructor(e){super(e)}},[0,Et,[0,Xv,Le,[0,Kh],Le,[0,Gv],st,Ge],po]),Xh=class extends ne{constructor(e){super(e)}},Qv=[0,Ge,st,vt,Lt,-1],Dy=class extends ne{constructor(e){super(e)}},KR=[0,je,-1],wy=class extends ne{constructor(e){super(e)}},Wr=[1,2,3,4,5],ru=class extends ne{constructor(e){super(e)}g(){return lv(this)!=null}h(){return Ln(this,2)!=null}},et=class extends ne{constructor(e){super(e)}g(){return Q3(Kl(this,2))??!1}},Zv=[0,Gv,Ge,[0,st,po,-1],[0,wR,po]],dt=[0,Zv,je,[0,Wr,Le,qv,Le,Hv,Le,Pv,Le,Vv,Le,kv],hn],Hu=class extends ne{constructor(e){super(e)}},Qh=[0,dt,vt,-1,st],XR=zn(502141897,Hu);Tt[502141897]=Qh;var QR=vo(class extends ne{constructor(e){super(e)}},[0,[0,hn,-1,DR,xR],BR]),Wv=class extends ne{constructor(e){super(e)}},$v=class extends ne{constructor(e){super(e)}},Zh=[0,dt,vt,[0,dt],je],jv=[0,dt,Qh,Zh,vt,[0,[0,Zv]]],ZR=zn(508968150,$v);Tt[508968150]=jv,Tt[508968149]=Zh;var eT=class extends ne{constructor(e){super(e)}},WR=zn(513916220,eT);Tt[513916220]=[0,dt,jv,st];var Ul=class extends ne{constructor(e){super(e)}h(){return Ne(this,Xh,2)}g(){Ye(this,2)}},tT=[0,dt,Qv];Tt[478825465]=tT;var $R=class extends ne{constructor(e){super(e)}},nT=class extends ne{constructor(e){super(e)}},Wh=class extends ne{constructor(e){super(e)}},$h=class extends ne{constructor(e){super(e)}},iT=class extends ne{constructor(e){super(e)}},xy=[0,dt,[0,dt],tT,-1],oT=[0,dt,vt,st],jh=[0,dt,vt],lT=[0,dt,oT,jh,vt],jR=zn(479097054,iT);Tt[479097054]=[0,dt,lT,xy],Tt[463370452]=xy,Tt[464864288]=oT;var e8=zn(462713202,$h);Tt[462713202]=lT,Tt[474472470]=jh;var t8=class extends ne{constructor(e){super(e)}},sT=class extends ne{constructor(e){super(e)}},aT=class extends ne{constructor(e){super(e)}},rT=class extends ne{constructor(e){super(e)}},ep=[0,dt,vt,-1,st],Zd=[0,dt,vt,je];rT.prototype.g=Gu([0,dt,jh,[0,dt],Qh,Zh,ep,Zd]);var uT=class extends ne{constructor(e){super(e)}},n8=zn(456383383,uT);Tt[456383383]=[0,dt,Qv];var cT=class extends ne{constructor(e){super(e)}},i8=zn(476348187,cT);Tt[476348187]=[0,dt,KR];var fT=class extends ne{constructor(e){super(e)}},Uy=class extends ne{constructor(e){super(e)}},dT=[0,hn,-1],o8=zn(458105876,class extends ne{constructor(e){super(e)}g(){var e=this.u;const t=0|e[le],o=2&t;return e=(function(l,a,u){var d=Uy;const m=2&a;let y=!1;if(u==null){if(m)return py();u=[]}else if(u.constructor===jn){if((2&u.M)==0||m)return u;u=u.da()}else Array.isArray(u)?y=!!(2&(0|u[le])):u=[];if(m){if(!u.length)return py();y||(y=!0,is(u))}else y&&(y=!1,u=sv(u));return y||(64&(0|u[le])?u[le]&=-33:32&a&&gu(u,32)),tt(l,a,2,d=new jn(u,d,fR,void 0)),d})(e,t,Ui(e,t,2)),!o&&Uy&&(e.pa=!0),e}});Tt[458105876]=[0,dT,IR,[!0,po,[0,Ge,-1,Lt]]];var tp=class extends ne{constructor(e){super(e)}},hT=zn(458105758,tp);Tt[458105758]=[0,dt,Ge,dT];var pT=class extends ne{constructor(e){super(e)}},l8=zn(443442058,pT);Tt[443442058]=[0,dt,Ge,st,vt,Lt,-1,je,vt],Tt[514774813]=ep;var mT=class extends ne{constructor(e){super(e)}},s8=zn(516587230,mT);function Wd(e,t){return t=t?t.clone():new Xh,e.displayNamesLocale!==void 0?Ye(t,1,ls(e.displayNamesLocale)):e.displayNamesLocale===void 0&&Ye(t,1),e.maxResults!==void 0?ei(t,2,e.maxResults):"maxResults"in e&&Ye(t,2),e.scoreThreshold!==void 0?ie(t,3,e.scoreThreshold):"scoreThreshold"in e&&Ye(t,3),e.categoryAllowlist!==void 0?su(t,4,e.categoryAllowlist):"categoryAllowlist"in e&&Ye(t,4),e.categoryDenylist!==void 0?su(t,5,e.categoryDenylist):"categoryDenylist"in e&&Ye(t,5),t}function np(e,t=-1,o=""){return{categories:e.map((l=>({index:Un(l,1)??0??-1,score:ft(l,2)??0,categoryName:Ln(l,3)??""??"",displayName:Ln(l,4)??""??""}))),headIndex:t,headName:o}}function gT(e){var t=Bo(e,3,yo,qo()),o=Bo(e,2,os,qo()),l=Bo(e,1,Jl,qo()),a=Bo(e,9,Jl,qo());const u={categories:[],keypoints:[]};for(let d=0;d<t.length;d++)u.categories.push({score:t[d],index:o[d]??-1,categoryName:l[d]??"",displayName:a[d]??""});if((t=Ne(e,Rd,4)?.h())&&(u.boundingBox={originX:Un(t,1)??0,originY:Un(t,2)??0,width:Un(t,3)??0,height:Un(t,4)??0,angle:0}),Ne(e,Rd,4)?.g().length)for(const d of Ne(e,Rd,4).g())u.keypoints.push({x:Qr(d,1)??0,y:Qr(d,2)??0,score:Qr(d,4)??0,label:Ln(d,3)??""});return u}function ku(e){const t=[];for(const o of Ii(e,Jv,1))t.push({x:ft(o,1)??0,y:ft(o,2)??0,z:ft(o,3)??0,visibility:ft(o,4)??0});return t}function pa(e){const t=[];for(const o of Ii(e,Yv,1))t.push({x:ft(o,1)??0,y:ft(o,2)??0,z:ft(o,3)??0,visibility:ft(o,4)??0});return t}function by(e){return Array.from(e,(t=>t>127?t-256:t))}function Ly(e,t){if(e.length!==t.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${e.length} vs. ${t.length}).`);let o=0,l=0,a=0;for(let u=0;u<e.length;u++)o+=e[u]*t[u],l+=e[u]*e[u],a+=t[u]*t[u];if(l<=0||a<=0)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return o/Math.sqrt(l*a)}let Fr;Tt[516587230]=[0,dt,ep,Zd,vt],Tt[518928384]=Zd;const a8=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function yT(){if(Fr===void 0)try{await WebAssembly.instantiate(a8),Fr=!0}catch{Fr=!1}return Fr}async function ra(e,t=LR``){const o=await yT()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${t}/${e}_${o}.js`,wasmBinaryPath:`${t}/${e}_${o}.wasm`}}var Vo=class{};function vT(){var e=navigator;return typeof OffscreenCanvas<"u"&&(!(function(t=navigator){return(t=t.userAgent).includes("Safari")&&!t.includes("Chrome")})(e)||!!((e=e.userAgent.match(/Version\/([\d]+).*Safari/))&&e.length>=1&&Number(e[1])>=17))}async function Gy(e){if(typeof importScripts!="function"){const t=document.createElement("script");return t.src=e.toString(),t.crossOrigin="anonymous",new Promise(((o,l)=>{t.addEventListener("load",(()=>{o()}),!1),t.addEventListener("error",(a=>{l(a)}),!1),document.body.appendChild(t)}))}importScripts(e.toString())}function TT(e){return e.videoWidth!==void 0?[e.videoWidth,e.videoHeight]:e.naturalWidth!==void 0?[e.naturalWidth,e.naturalHeight]:e.displayWidth!==void 0?[e.displayWidth,e.displayHeight]:[e.width,e.height]}function oe(e,t,o){e.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),o(t=e.i.stringToNewUTF8(t)),e.i._free(t)}function Py(e,t,o){if(!e.i.canvas)throw Error("No OpenGL canvas configured.");if(o?e.i._bindTextureToStream(o):e.i._bindTextureToCanvas(),!(o=e.i.canvas.getContext("webgl2")||e.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");e.i.gpuOriginForWebTexturesIsBottomLeft&&o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,t),e.i.gpuOriginForWebTexturesIsBottomLeft&&o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1);const[l,a]=TT(t);return!e.l||l===e.i.canvas.width&&a===e.i.canvas.height||(e.i.canvas.width=l,e.i.canvas.height=a),[l,a]}function Hy(e,t,o){e.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const l=new Uint32Array(t.length);for(let a=0;a<t.length;a++)l[a]=e.i.stringToNewUTF8(t[a]);t=e.i._malloc(4*l.length),e.i.HEAPU32.set(l,t>>2),o(t);for(const a of l)e.i._free(a);e.i._free(t)}function Qn(e,t,o){e.i.simpleListeners=e.i.simpleListeners||{},e.i.simpleListeners[t]=o}function oo(e,t,o){let l=[];e.i.simpleListeners=e.i.simpleListeners||{},e.i.simpleListeners[t]=(a,u,d)=>{u?(o(l,d),l=[]):l.push(a)}}Vo.forVisionTasks=function(e){return ra("vision",e)},Vo.forTextTasks=function(e){return ra("text",e)},Vo.forGenAiExperimentalTasks=function(e){return ra("genai_experimental",e)},Vo.forGenAiTasks=function(e){return ra("genai",e)},Vo.forAudioTasks=function(e){return ra("audio",e)},Vo.isSimdSupported=function(){return yT()};async function r8(e,t,o,l){return e=await(async(a,u,d,m,y)=>{if(u&&await Gy(u),!self.ModuleFactory||d&&(await Gy(d),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&y&&((u=self.Module).locateFile=y.locateFile,y.mainScriptUrlOrBlob&&(u.mainScriptUrlOrBlob=y.mainScriptUrlOrBlob)),y=await self.ModuleFactory(self.Module||y),self.ModuleFactory=self.Module=void 0,new a(y,m)})(e,o.wasmLoaderPath,o.assetLoaderPath,t,{locateFile:a=>a.endsWith(".wasm")?o.wasmBinaryPath.toString():o.assetBinaryPath&&a.endsWith(".data")?o.assetBinaryPath.toString():a}),await e.o(l),e}function Nd(e,t){const o=Ne(e.baseOptions,ru,1)||new ru;typeof t=="string"?(Ye(o,2,ls(t)),Ye(o,1)):t instanceof Uint8Array&&(Ye(o,1,vh(t,!1)),Ye(o,2)),ae(e.baseOptions,0,1,o)}function ky(e){try{const t=e.G.length;if(t===1)throw Error(e.G[0].message);if(t>1)throw Error("Encountered multiple errors: "+e.G.map((o=>o.message)).join(", "))}finally{e.G=[]}}function W(e,t){e.B=Math.max(e.B,t)}function Vu(e,t){e.A=new kt,gn(e.A,"PassThroughCalculator"),Je(e.A,"free_memory"),Re(e.A,"free_memory_unused_out"),Ze(t,"free_memory"),yn(t,e.A)}function Ql(e,t){Je(e.A,t),Re(e.A,t+"_unused_out")}function qu(e){e.g.addBoolToStream(!0,"free_memory",e.B)}var $d=class{constructor(e){this.g=e,this.G=[],this.B=0,this.g.setAutoRenderToScreen(!1)}l(e,t=!0){if(t){const o=e.baseOptions||{};if(e.baseOptions?.modelAssetBuffer&&e.baseOptions?.modelAssetPath)throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(Ne(this.baseOptions,ru,1)?.g()||Ne(this.baseOptions,ru,1)?.h()||e.baseOptions?.modelAssetBuffer||e.baseOptions?.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if((function(l,a){let u=Ne(l.baseOptions,wy,3);if(!u){var d=u=new wy,m=new Cy;da(d,4,Wr,m)}"delegate"in a&&(a.delegate==="GPU"?(a=u,d=new GR,da(a,2,Wr,d)):(a=u,d=new Cy,da(a,4,Wr,d))),ae(l.baseOptions,0,3,u)})(this,o),o.modelAssetPath)return fetch(o.modelAssetPath.toString()).then((l=>{if(l.ok)return l.arrayBuffer();throw Error(`Failed to fetch model: ${o.modelAssetPath} (${l.status})`)})).then((l=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(l),!0,!1,!1),Nd(this,"/model.dat"),this.m(),this.J()}));if(o.modelAssetBuffer instanceof Uint8Array)Nd(this,o.modelAssetBuffer);else if(o.modelAssetBuffer)return(async function(l){const a=[];for(var u=0;;){const{done:d,value:m}=await l.read();if(d)break;a.push(m),u+=m.length}if(a.length===0)return new Uint8Array(0);if(a.length===1)return a[0];l=new Uint8Array(u),u=0;for(const d of a)l.set(d,u),u+=d.length;return l})(o.modelAssetBuffer).then((l=>{Nd(this,l),this.m(),this.J()}))}return this.m(),this.J(),Promise.resolve()}J(){}ca(){let e;if(this.g.ca((t=>{e=PR(t)})),!e)throw Error("Failed to retrieve CalculatorGraphConfig");return e}setGraph(e,t){this.g.attachErrorListener(((o,l)=>{this.G.push(Error(l))})),this.g.Ha(),this.g.setGraph(e,t),this.A=void 0,ky(this)}finishProcessing(){this.g.finishProcessing(),ky(this)}close(){this.A=void 0,this.g.closeGraph()}};function Ri(e,t){if(!e)throw Error(`Unable to obtain required WebGL resource: ${t}`);return e}$d.prototype.close=$d.prototype.close;class u8{constructor(t,o,l,a){this.g=t,this.h=o,this.m=l,this.l=a}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}}function Vy(e,t,o){const l=e.g;if(o=Ri(l.createShader(o),"Failed to create WebGL shader"),l.shaderSource(o,t),l.compileShader(o),!l.getShaderParameter(o,l.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${l.getShaderInfoLog(o)}`);return l.attachShader(e.h,o),o}function qy(e,t){const o=e.g,l=Ri(o.createVertexArray(),"Failed to create vertex array");o.bindVertexArray(l);const a=Ri(o.createBuffer(),"Failed to create buffer");o.bindBuffer(o.ARRAY_BUFFER,a),o.enableVertexAttribArray(e.P),o.vertexAttribPointer(e.P,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),o.STATIC_DRAW);const u=Ri(o.createBuffer(),"Failed to create buffer");return o.bindBuffer(o.ARRAY_BUFFER,u),o.enableVertexAttribArray(e.J),o.vertexAttribPointer(e.J,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,new Float32Array(t?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindVertexArray(null),new u8(o,l,a,u)}function ip(e,t){if(e.g){if(t!==e.g)throw Error("Cannot change GL context once initialized")}else e.g=t}function op(e,t,o,l){return ip(e,t),e.h||(e.m(),e.C()),o?(e.s||(e.s=qy(e,!0)),o=e.s):(e.v||(e.v=qy(e,!1)),o=e.v),t.useProgram(e.h),o.bind(),e.l(),e=l(),o.g.bindVertexArray(null),e}function Bu(e,t,o){return ip(e,t),e=Ri(t.createTexture(),"Failed to create texture"),t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,o??t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,o??t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),e}function Ou(e,t,o){ip(e,t),e.A||(e.A=Ri(t.createFramebuffer(),"Failed to create framebuffe.")),t.bindFramebuffer(t.FRAMEBUFFER,e.A),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0)}function lp(e){e.g?.bindFramebuffer(e.g.FRAMEBUFFER,null)}var sp=class{G(){return`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
  void main() {
    gl_FragColor = texture2D(inputTexture, vTex);
  }
 `}m(){const e=this.g;if(this.h=Ri(e.createProgram(),"Failed to create WebGL program"),this.Z=Vy(this,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,e.VERTEX_SHADER),this.Y=Vy(this,this.G(),e.FRAGMENT_SHADER),e.linkProgram(this.h),!e.getProgramParameter(this.h,e.LINK_STATUS))throw Error(`Error during program linking: ${e.getProgramInfoLog(this.h)}`);this.P=e.getAttribLocation(this.h,"aVertex"),this.J=e.getAttribLocation(this.h,"aTex")}C(){}l(){}close(){if(this.h){const e=this.g;e.deleteProgram(this.h),e.deleteShader(this.Z),e.deleteShader(this.Y)}this.A&&this.g.deleteFramebuffer(this.A),this.v&&this.v.close(),this.s&&this.s.close()}};function Si(e,t){switch(t){case 0:return e.g.find((o=>o instanceof Uint8Array));case 1:return e.g.find((o=>o instanceof Float32Array));case 2:return e.g.find((o=>typeof WebGLTexture<"u"&&o instanceof WebGLTexture));default:throw Error(`Type is not supported: ${t}`)}}function jd(e){var t=Si(e,1);if(!t){if(t=Si(e,0))t=new Float32Array(t).map((l=>l/255));else{t=new Float32Array(e.width*e.height);const l=Zl(e);var o=ap(e);if(Ou(o,l,_T(e)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"document"in self&&"ontouchend"in self.document){o=new Float32Array(e.width*e.height*4),l.readPixels(0,0,e.width,e.height,l.RGBA,l.FLOAT,o);for(let a=0,u=0;a<t.length;++a,u+=4)t[a]=o[u]}else l.readPixels(0,0,e.width,e.height,l.RED,l.FLOAT,t)}e.g.push(t)}return t}function _T(e){let t=Si(e,2);if(!t){const o=Zl(e);t=ST(e);const l=jd(e),a=ET(e);o.texImage2D(o.TEXTURE_2D,0,a,e.width,e.height,0,o.RED,o.FLOAT,l),eh(e)}return t}function Zl(e){if(!e.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return e.h||(e.h=Ri(e.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),e.h}function ET(e){if(e=Zl(e),!Yr)if(e.getExtension("EXT_color_buffer_float")&&e.getExtension("OES_texture_float_linear")&&e.getExtension("EXT_float_blend"))Yr=e.R32F;else{if(!e.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");Yr=e.R16F}return Yr}function ap(e){return e.l||(e.l=new sp),e.l}function ST(e){const t=Zl(e);t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0);let o=Si(e,2);return o||(o=Bu(ap(e),t,e.m?t.LINEAR:t.NEAREST),e.g.push(o),e.j=!0),t.bindTexture(t.TEXTURE_2D,o),o}function eh(e){e.h.bindTexture(e.h.TEXTURE_2D,null)}var Yr,Ct=class{constructor(e,t,o,l,a,u,d){this.g=e,this.m=t,this.j=o,this.canvas=l,this.l=a,this.width=u,this.height=d,this.j&&--By===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Da(){return!!Si(this,0)}ja(){return!!Si(this,1)}R(){return!!Si(this,2)}ia(){return(t=Si(e=this,0))||(t=jd(e),t=new Uint8Array(t.map((o=>255*o))),e.g.push(t)),t;var e,t}ha(){return jd(this)}N(){return _T(this)}clone(){const e=[];for(const t of this.g){let o;if(t instanceof Uint8Array)o=new Uint8Array(t);else if(t instanceof Float32Array)o=new Float32Array(t);else{if(!(t instanceof WebGLTexture))throw Error(`Type is not supported: ${t}`);{const l=Zl(this),a=ap(this);l.activeTexture(l.TEXTURE1),o=Bu(a,l,this.m?l.LINEAR:l.NEAREST),l.bindTexture(l.TEXTURE_2D,o);const u=ET(this);l.texImage2D(l.TEXTURE_2D,0,u,this.width,this.height,0,l.RED,l.FLOAT,null),l.bindTexture(l.TEXTURE_2D,null),Ou(a,l,o),op(a,l,!1,(()=>{ST(this),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),l.drawArrays(l.TRIANGLE_FAN,0,4),eh(this)})),lp(a),eh(this)}}e.push(o)}return new Ct(e,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&Zl(this).deleteTexture(Si(this,2)),By=-1}};Ct.prototype.close=Ct.prototype.close,Ct.prototype.clone=Ct.prototype.clone,Ct.prototype.getAsWebGLTexture=Ct.prototype.N,Ct.prototype.getAsFloat32Array=Ct.prototype.ha,Ct.prototype.getAsUint8Array=Ct.prototype.ia,Ct.prototype.hasWebGLTexture=Ct.prototype.R,Ct.prototype.hasFloat32Array=Ct.prototype.ja,Ct.prototype.hasUint8Array=Ct.prototype.Da;var By=250;function $n(e,t){switch(t){case 0:return e.g.find((o=>o instanceof ImageData));case 1:return e.g.find((o=>typeof ImageBitmap<"u"&&o instanceof ImageBitmap));case 2:return e.g.find((o=>typeof WebGLTexture<"u"&&o instanceof WebGLTexture));default:throw Error(`Type is not supported: ${t}`)}}function AT(e){var t=$n(e,0);if(!t){t=Wl(e);const o=zu(e),l=new Uint8Array(e.width*e.height*4);Ou(o,t,$r(e)),t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,l),lp(o),t=new ImageData(new Uint8ClampedArray(l.buffer),e.width,e.height),e.g.push(t)}return t}function $r(e){let t=$n(e,2);if(!t){const o=Wl(e);t=jr(e);const l=$n(e,1)||AT(e);o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,l),ca(e)}return t}function Wl(e){if(!e.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return e.h||(e.h=Ri(e.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),e.h}function zu(e){return e.l||(e.l=new sp),e.l}function jr(e){const t=Wl(e);t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0);let o=$n(e,2);return o||(o=Bu(zu(e),t),e.g.push(o),e.m=!0),t.bindTexture(t.TEXTURE_2D,o),o}function ca(e){e.h.bindTexture(e.h.TEXTURE_2D,null)}function Oy(e){const t=Wl(e);return op(zu(e),t,!0,(()=>(function(o,l){const a=o.canvas;if(a.width===o.width&&a.height===o.height)return l();const u=a.width,d=a.height;return a.width=o.width,a.height=o.height,o=l(),a.width=u,a.height=d,o})(e,(()=>{if(t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLE_FAN,0,4),!(e.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return e.canvas.transferToImageBitmap()}))))}var Mt=class{constructor(e,t,o,l,a,u,d){this.g=e,this.j=t,this.m=o,this.canvas=l,this.l=a,this.width=u,this.height=d,(this.j||this.m)&&--zy===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ca(){return!!$n(this,0)}ka(){return!!$n(this,1)}R(){return!!$n(this,2)}Aa(){return AT(this)}za(){var e=$n(this,1);return e||($r(this),jr(this),e=Oy(this),ca(this),this.g.push(e),this.j=!0),e}N(){return $r(this)}clone(){const e=[];for(const t of this.g){let o;if(t instanceof ImageData)o=new ImageData(t.data,this.width,this.height);else if(t instanceof WebGLTexture){const l=Wl(this),a=zu(this);l.activeTexture(l.TEXTURE1),o=Bu(a,l),l.bindTexture(l.TEXTURE_2D,o),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,this.width,this.height,0,l.RGBA,l.UNSIGNED_BYTE,null),l.bindTexture(l.TEXTURE_2D,null),Ou(a,l,o),op(a,l,!1,(()=>{jr(this),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),l.drawArrays(l.TRIANGLE_FAN,0,4),ca(this)})),lp(a),ca(this)}else{if(!(t instanceof ImageBitmap))throw Error(`Type is not supported: ${t}`);$r(this),jr(this),o=Oy(this),ca(this)}e.push(o)}return new Mt(e,this.ka(),this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&$n(this,1).close(),this.m&&Wl(this).deleteTexture($n(this,2)),zy=-1}};Mt.prototype.close=Mt.prototype.close,Mt.prototype.clone=Mt.prototype.clone,Mt.prototype.getAsWebGLTexture=Mt.prototype.N,Mt.prototype.getAsImageBitmap=Mt.prototype.za,Mt.prototype.getAsImageData=Mt.prototype.Aa,Mt.prototype.hasWebGLTexture=Mt.prototype.R,Mt.prototype.hasImageBitmap=Mt.prototype.ka,Mt.prototype.hasImageData=Mt.prototype.Ca;var zy=250;function Fn(...e){return e.map((([t,o])=>({start:t,end:o})))}const c8=(function(e){return class extends e{Ha(){this.i._registerModelResourcesGraphService()}}})((Fy=class{constructor(e,t){this.l=!0,this.i=e,this.g=null,this.h=0,this.m=typeof this.i._addIntToInputStream=="function",t!==void 0?this.i.canvas=t:vT()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}async initializeGraph(e){const t=await(await fetch(e)).arrayBuffer();e=!(e.endsWith(".pbtxt")||e.endsWith(".textproto")),this.setGraph(new Uint8Array(t),e)}setGraphFromString(e){this.setGraph(new TextEncoder().encode(e),!1)}setGraph(e,t){const o=e.length,l=this.i._malloc(o);this.i.HEAPU8.set(e,l),t?this.i._changeBinaryGraph(o,l):this.i._changeTextGraph(o,l),this.i._free(l)}configureAudio(e,t,o,l,a){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),oe(this,l||"input_audio",(u=>{oe(this,a=a||"audio_header",(d=>{this.i._configureAudio(u,d,e,t??0,o)}))}))}setAutoResizeCanvas(e){this.l=e}setAutoRenderToScreen(e){this.i._setAutoRenderToScreen(e)}setGpuBufferVerticalFlip(e){this.i.gpuOriginForWebTexturesIsBottomLeft=e}ca(e){Qn(this,"__graph_config__",(t=>{e(t)})),oe(this,"__graph_config__",(t=>{this.i._getGraphConfig(t,void 0)})),delete this.i.simpleListeners.__graph_config__}attachErrorListener(e){this.i.errorListener=e}attachEmptyPacketListener(e,t){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[e]=t}addAudioToStream(e,t,o){this.addAudioToStreamWithShape(e,0,0,t,o)}addAudioToStreamWithShape(e,t,o,l,a){const u=4*e.length;this.h!==u&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(u),this.h=u),this.i.HEAPF32.set(e,this.g/4),oe(this,l,(d=>{this.i._addAudioToInputStream(this.g,t,o,d,a)}))}addGpuBufferToStream(e,t,o){oe(this,t,(l=>{const[a,u]=Py(this,e,l);this.i._addBoundTextureToStream(l,a,u,o)}))}addBoolToStream(e,t,o){oe(this,t,(l=>{this.i._addBoolToInputStream(e,l,o)}))}addDoubleToStream(e,t,o){oe(this,t,(l=>{this.i._addDoubleToInputStream(e,l,o)}))}addFloatToStream(e,t,o){oe(this,t,(l=>{this.i._addFloatToInputStream(e,l,o)}))}addIntToStream(e,t,o){oe(this,t,(l=>{this.i._addIntToInputStream(e,l,o)}))}addUintToStream(e,t,o){oe(this,t,(l=>{this.i._addUintToInputStream(e,l,o)}))}addStringToStream(e,t,o){oe(this,t,(l=>{oe(this,e,(a=>{this.i._addStringToInputStream(a,l,o)}))}))}addStringRecordToStream(e,t,o){oe(this,t,(l=>{Hy(this,Object.keys(e),(a=>{Hy(this,Object.values(e),(u=>{this.i._addFlatHashMapToInputStream(a,u,Object.keys(e).length,l,o)}))}))}))}addProtoToStream(e,t,o,l){oe(this,o,(a=>{oe(this,t,(u=>{const d=this.i._malloc(e.length);this.i.HEAPU8.set(e,d),this.i._addProtoToInputStream(d,e.length,u,a,l),this.i._free(d)}))}))}addEmptyPacketToStream(e,t){oe(this,e,(o=>{this.i._addEmptyPacketToInputStream(o,t)}))}addBoolVectorToStream(e,t,o){oe(this,t,(l=>{const a=this.i._allocateBoolVector(e.length);if(!a)throw Error("Unable to allocate new bool vector on heap.");for(const u of e)this.i._addBoolVectorEntry(a,u);this.i._addBoolVectorToInputStream(a,l,o)}))}addDoubleVectorToStream(e,t,o){oe(this,t,(l=>{const a=this.i._allocateDoubleVector(e.length);if(!a)throw Error("Unable to allocate new double vector on heap.");for(const u of e)this.i._addDoubleVectorEntry(a,u);this.i._addDoubleVectorToInputStream(a,l,o)}))}addFloatVectorToStream(e,t,o){oe(this,t,(l=>{const a=this.i._allocateFloatVector(e.length);if(!a)throw Error("Unable to allocate new float vector on heap.");for(const u of e)this.i._addFloatVectorEntry(a,u);this.i._addFloatVectorToInputStream(a,l,o)}))}addIntVectorToStream(e,t,o){oe(this,t,(l=>{const a=this.i._allocateIntVector(e.length);if(!a)throw Error("Unable to allocate new int vector on heap.");for(const u of e)this.i._addIntVectorEntry(a,u);this.i._addIntVectorToInputStream(a,l,o)}))}addUintVectorToStream(e,t,o){oe(this,t,(l=>{const a=this.i._allocateUintVector(e.length);if(!a)throw Error("Unable to allocate new unsigned int vector on heap.");for(const u of e)this.i._addUintVectorEntry(a,u);this.i._addUintVectorToInputStream(a,l,o)}))}addStringVectorToStream(e,t,o){oe(this,t,(l=>{const a=this.i._allocateStringVector(e.length);if(!a)throw Error("Unable to allocate new string vector on heap.");for(const u of e)oe(this,u,(d=>{this.i._addStringVectorEntry(a,d)}));this.i._addStringVectorToInputStream(a,l,o)}))}addBoolToInputSidePacket(e,t){oe(this,t,(o=>{this.i._addBoolToInputSidePacket(e,o)}))}addDoubleToInputSidePacket(e,t){oe(this,t,(o=>{this.i._addDoubleToInputSidePacket(e,o)}))}addFloatToInputSidePacket(e,t){oe(this,t,(o=>{this.i._addFloatToInputSidePacket(e,o)}))}addIntToInputSidePacket(e,t){oe(this,t,(o=>{this.i._addIntToInputSidePacket(e,o)}))}addUintToInputSidePacket(e,t){oe(this,t,(o=>{this.i._addUintToInputSidePacket(e,o)}))}addStringToInputSidePacket(e,t){oe(this,t,(o=>{oe(this,e,(l=>{this.i._addStringToInputSidePacket(l,o)}))}))}addProtoToInputSidePacket(e,t,o){oe(this,o,(l=>{oe(this,t,(a=>{const u=this.i._malloc(e.length);this.i.HEAPU8.set(e,u),this.i._addProtoToInputSidePacket(u,e.length,a,l),this.i._free(u)}))}))}addBoolVectorToInputSidePacket(e,t){oe(this,t,(o=>{const l=this.i._allocateBoolVector(e.length);if(!l)throw Error("Unable to allocate new bool vector on heap.");for(const a of e)this.i._addBoolVectorEntry(l,a);this.i._addBoolVectorToInputSidePacket(l,o)}))}addDoubleVectorToInputSidePacket(e,t){oe(this,t,(o=>{const l=this.i._allocateDoubleVector(e.length);if(!l)throw Error("Unable to allocate new double vector on heap.");for(const a of e)this.i._addDoubleVectorEntry(l,a);this.i._addDoubleVectorToInputSidePacket(l,o)}))}addFloatVectorToInputSidePacket(e,t){oe(this,t,(o=>{const l=this.i._allocateFloatVector(e.length);if(!l)throw Error("Unable to allocate new float vector on heap.");for(const a of e)this.i._addFloatVectorEntry(l,a);this.i._addFloatVectorToInputSidePacket(l,o)}))}addIntVectorToInputSidePacket(e,t){oe(this,t,(o=>{const l=this.i._allocateIntVector(e.length);if(!l)throw Error("Unable to allocate new int vector on heap.");for(const a of e)this.i._addIntVectorEntry(l,a);this.i._addIntVectorToInputSidePacket(l,o)}))}addUintVectorToInputSidePacket(e,t){oe(this,t,(o=>{const l=this.i._allocateUintVector(e.length);if(!l)throw Error("Unable to allocate new unsigned int vector on heap.");for(const a of e)this.i._addUintVectorEntry(l,a);this.i._addUintVectorToInputSidePacket(l,o)}))}addStringVectorToInputSidePacket(e,t){oe(this,t,(o=>{const l=this.i._allocateStringVector(e.length);if(!l)throw Error("Unable to allocate new string vector on heap.");for(const a of e)oe(this,a,(u=>{this.i._addStringVectorEntry(l,u)}));this.i._addStringVectorToInputSidePacket(l,o)}))}attachBoolListener(e,t){Qn(this,e,t),oe(this,e,(o=>{this.i._attachBoolListener(o)}))}attachBoolVectorListener(e,t){oo(this,e,t),oe(this,e,(o=>{this.i._attachBoolVectorListener(o)}))}attachIntListener(e,t){Qn(this,e,t),oe(this,e,(o=>{this.i._attachIntListener(o)}))}attachIntVectorListener(e,t){oo(this,e,t),oe(this,e,(o=>{this.i._attachIntVectorListener(o)}))}attachUintListener(e,t){Qn(this,e,t),oe(this,e,(o=>{this.i._attachUintListener(o)}))}attachUintVectorListener(e,t){oo(this,e,t),oe(this,e,(o=>{this.i._attachUintVectorListener(o)}))}attachDoubleListener(e,t){Qn(this,e,t),oe(this,e,(o=>{this.i._attachDoubleListener(o)}))}attachDoubleVectorListener(e,t){oo(this,e,t),oe(this,e,(o=>{this.i._attachDoubleVectorListener(o)}))}attachFloatListener(e,t){Qn(this,e,t),oe(this,e,(o=>{this.i._attachFloatListener(o)}))}attachFloatVectorListener(e,t){oo(this,e,t),oe(this,e,(o=>{this.i._attachFloatVectorListener(o)}))}attachStringListener(e,t){Qn(this,e,t),oe(this,e,(o=>{this.i._attachStringListener(o)}))}attachStringVectorListener(e,t){oo(this,e,t),oe(this,e,(o=>{this.i._attachStringVectorListener(o)}))}attachProtoListener(e,t,o){Qn(this,e,t),oe(this,e,(l=>{this.i._attachProtoListener(l,o||!1)}))}attachProtoVectorListener(e,t,o){oo(this,e,t),oe(this,e,(l=>{this.i._attachProtoVectorListener(l,o||!1)}))}attachAudioListener(e,t,o){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),Qn(this,e,((l,a)=>{l=new Float32Array(l.buffer,l.byteOffset,l.length/4),t(l,a)})),oe(this,e,(l=>{this.i._attachAudioListener(l,o||!1)}))}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends Fy{get ea(){return this.i}oa(e,t,o){oe(this,t,(l=>{const[a,u]=Py(this,e,l);this.ea._addBoundTextureAsImageToStream(l,a,u,o)}))}V(e,t){Qn(this,e,t),oe(this,e,(o=>{this.ea._attachImageListener(o)}))}ba(e,t){oo(this,e,t),oe(this,e,(o=>{this.ea._attachImageVectorListener(o)}))}}));var Fy,Gn=class extends c8{};async function Ce(e,t,o){return(async function(l,a,u,d){return r8(l,a,u,d)})(e,o.canvas??(vT()?void 0:document.createElement("canvas")),t,o)}function CT(e,t,o,l){if(e.U){const u=new Kv;if(o?.regionOfInterest){if(!e.na)throw Error("This task doesn't support region-of-interest.");var a=o.regionOfInterest;if(a.left>=a.right||a.top>=a.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(a.left<0||a.top<0||a.right>1||a.bottom>1)throw Error("Expected RectF values to be in [0,1].");ie(u,1,(a.left+a.right)/2),ie(u,2,(a.top+a.bottom)/2),ie(u,4,a.right-a.left),ie(u,3,a.bottom-a.top)}else ie(u,1,.5),ie(u,2,.5),ie(u,4,1),ie(u,3,1);if(o?.rotationDegrees){if(o?.rotationDegrees%90!=0)throw Error("Expected rotation to be a multiple of 90.");if(ie(u,5,-Math.PI*o.rotationDegrees/180),o?.rotationDegrees%180!=0){const[d,m]=TT(t);o=ft(u,3)*m/d,a=ft(u,4)*d/m,ie(u,4,o),ie(u,3,a)}}e.g.addProtoToStream(u.g(),"mediapipe.NormalizedRect",e.U,l)}e.g.oa(t,e.Z,l??performance.now()),e.finishProcessing()}function Pn(e,t,o){if(e.baseOptions?.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");CT(e,t,o,e.B+1)}function ti(e,t,o,l){if(!e.baseOptions?.g())throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");CT(e,t,o,l)}function $l(e,t,o,l){var a=t.data;const u=t.width,d=u*(t=t.height);if((a instanceof Uint8Array||a instanceof Float32Array)&&a.length!==d)throw Error("Unsupported channel count: "+a.length/d);return e=new Ct([a],o,!1,e.g.i.canvas,e.P,u,t),l?e.clone():e}var Wt=class extends $d{constructor(e,t,o,l){super(e),this.g=e,this.Z=t,this.U=o,this.na=l,this.P=new sp}l(e,t=!0){if("runningMode"in e&&Ta(this.baseOptions,2,!!e.runningMode&&e.runningMode!=="IMAGE"),e.canvas!==void 0&&this.g.i.canvas!==e.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(e,t)}close(){this.P.close(),super.close()}};Wt.prototype.close=Wt.prototype.close;var In=class extends Wt{constructor(e,t){super(new Gn(e,t),"image_in","norm_rect_in",!1),this.j={detections:[]},ae(e=this.h=new Hu,0,1,t=new et),ie(this.h,2,.5),ie(this.h,3,.3)}get baseOptions(){return Ne(this.h,et,1)}set baseOptions(e){ae(this.h,0,1,e)}o(e){return"minDetectionConfidence"in e&&ie(this.h,2,e.minDetectionConfidence??.5),"minSuppressionThreshold"in e&&ie(this.h,3,e.minSuppressionThreshold??.3),this.l(e)}D(e,t){return this.j={detections:[]},Pn(this,e,t),this.j}F(e,t,o){return this.j={detections:[]},ti(this,e,o,t),this.j}m(){var e=new $t;Ze(e,"image_in"),Ze(e,"norm_rect_in"),we(e,"detections");const t=new pn;Bn(t,XR,this.h);const o=new kt;gn(o,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),Je(o,"IMAGE:image_in"),Je(o,"NORM_RECT:norm_rect_in"),Re(o,"DETECTIONS:detections"),o.o(t),yn(e,o),this.g.attachProtoVectorListener("detections",((l,a)=>{for(const u of l)l=Fv(u),this.j.detections.push(gT(l));W(this,a)})),this.g.attachEmptyPacketListener("detections",(l=>{W(this,l)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};In.prototype.detectForVideo=In.prototype.F,In.prototype.detect=In.prototype.D,In.prototype.setOptions=In.prototype.o,In.createFromModelPath=async function(e,t){return Ce(In,e,{baseOptions:{modelAssetPath:t}})},In.createFromModelBuffer=function(e,t){return Ce(In,e,{baseOptions:{modelAssetBuffer:t}})},In.createFromOptions=function(e,t){return Ce(In,e,t)};var rp=Fn([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),up=Fn([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),cp=Fn([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),MT=Fn([474,475],[475,476],[476,477],[477,474]),fp=Fn([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),dp=Fn([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),RT=Fn([469,470],[470,471],[471,472],[472,469]),hp=Fn([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),NT=[...rp,...up,...cp,...fp,...dp,...hp],IT=Fn([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function Yy(e){e.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var ot=class extends Wt{constructor(e,t){super(new Gn(e,t),"image_in","norm_rect",!1),this.j={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,ae(e=this.h=new $v,0,1,t=new et),this.v=new Wv,ae(this.h,0,3,this.v),this.s=new Hu,ae(this.h,0,2,this.s),ei(this.s,4,1),ie(this.s,2,.5),ie(this.v,2,.5),ie(this.h,4,.5)}get baseOptions(){return Ne(this.h,et,1)}set baseOptions(e){ae(this.h,0,1,e)}o(e){return"numFaces"in e&&ei(this.s,4,e.numFaces??1),"minFaceDetectionConfidence"in e&&ie(this.s,2,e.minFaceDetectionConfidence??.5),"minTrackingConfidence"in e&&ie(this.h,4,e.minTrackingConfidence??.5),"minFacePresenceConfidence"in e&&ie(this.v,2,e.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in e&&(this.outputFacialTransformationMatrixes=!!e.outputFacialTransformationMatrixes),this.l(e)}D(e,t){return Yy(this),Pn(this,e,t),this.j}F(e,t,o){return Yy(this),ti(this,e,o,t),this.j}m(){var e=new $t;Ze(e,"image_in"),Ze(e,"norm_rect"),we(e,"face_landmarks");const t=new pn;Bn(t,ZR,this.h);const o=new kt;gn(o,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),Je(o,"IMAGE:image_in"),Je(o,"NORM_RECT:norm_rect"),Re(o,"NORM_LANDMARKS:face_landmarks"),o.o(t),yn(e,o),this.g.attachProtoVectorListener("face_landmarks",((l,a)=>{for(const u of l)l=Aa(u),this.j.faceLandmarks.push(ku(l));W(this,a)})),this.g.attachEmptyPacketListener("face_landmarks",(l=>{W(this,l)})),this.outputFaceBlendshapes&&(we(e,"blendshapes"),Re(o,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",((l,a)=>{if(this.outputFaceBlendshapes)for(const u of l)l=Pu(u),this.j.faceBlendshapes.push(np(l.g()??[]));W(this,a)})),this.g.attachEmptyPacketListener("blendshapes",(l=>{W(this,l)}))),this.outputFacialTransformationMatrixes&&(we(e,"face_geometry"),Re(o,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",((l,a)=>{if(this.outputFacialTransformationMatrixes)for(const u of l)(l=Ne(QR(u),qR,2))&&this.j.facialTransformationMatrixes.push({rows:Un(l,1)??0??0,columns:Un(l,2)??0??0,data:Bo(l,3,yo,qo()).slice()??[]});W(this,a)})),this.g.attachEmptyPacketListener("face_geometry",(l=>{W(this,l)}))),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};ot.prototype.detectForVideo=ot.prototype.F,ot.prototype.detect=ot.prototype.D,ot.prototype.setOptions=ot.prototype.o,ot.createFromModelPath=function(e,t){return Ce(ot,e,{baseOptions:{modelAssetPath:t}})},ot.createFromModelBuffer=function(e,t){return Ce(ot,e,{baseOptions:{modelAssetBuffer:t}})},ot.createFromOptions=function(e,t){return Ce(ot,e,t)},ot.FACE_LANDMARKS_LIPS=rp,ot.FACE_LANDMARKS_LEFT_EYE=up,ot.FACE_LANDMARKS_LEFT_EYEBROW=cp,ot.FACE_LANDMARKS_LEFT_IRIS=MT,ot.FACE_LANDMARKS_RIGHT_EYE=fp,ot.FACE_LANDMARKS_RIGHT_EYEBROW=dp,ot.FACE_LANDMARKS_RIGHT_IRIS=RT,ot.FACE_LANDMARKS_FACE_OVAL=hp,ot.FACE_LANDMARKS_CONTOURS=NT,ot.FACE_LANDMARKS_TESSELATION=IT;var Zn=class extends Wt{constructor(e,t){super(new Gn(e,t),"image_in","norm_rect",!0),ae(e=this.j=new eT,0,1,t=new et)}get baseOptions(){return Ne(this.j,et,1)}set baseOptions(e){ae(this.j,0,1,e)}o(e){return super.l(e)}Ka(e,t,o){const l=typeof t!="function"?t:{};if(this.h=typeof t=="function"?t:o,Pn(this,e,l??{}),!this.h)return this.s}m(){var e=new $t;Ze(e,"image_in"),Ze(e,"norm_rect"),we(e,"stylized_image");const t=new pn;Bn(t,WR,this.j);const o=new kt;gn(o,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),Je(o,"IMAGE:image_in"),Je(o,"NORM_RECT:norm_rect"),Re(o,"STYLIZED_IMAGE:stylized_image"),o.o(t),yn(e,o),this.g.V("stylized_image",((l,a)=>{var u=!this.h,d=l.data,m=l.width;const y=m*(l=l.height);if(d instanceof Uint8Array)if(d.length===3*y){const g=new Uint8ClampedArray(4*y);for(let v=0;v<y;++v)g[4*v]=d[3*v],g[4*v+1]=d[3*v+1],g[4*v+2]=d[3*v+2],g[4*v+3]=255;d=new ImageData(g,m,l)}else{if(d.length!==4*y)throw Error("Unsupported channel count: "+d.length/y);d=new ImageData(new Uint8ClampedArray(d.buffer,d.byteOffset,d.length),m,l)}else if(!(d instanceof WebGLTexture))throw Error(`Unsupported format: ${d.constructor.name}`);m=new Mt([d],!1,!1,this.g.i.canvas,this.P,m,l),this.s=u=u?m.clone():m,this.h&&this.h(u),W(this,a)})),this.g.attachEmptyPacketListener("stylized_image",(l=>{this.s=null,this.h&&this.h(null),W(this,l)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Zn.prototype.stylize=Zn.prototype.Ka,Zn.prototype.setOptions=Zn.prototype.o,Zn.createFromModelPath=function(e,t){return Ce(Zn,e,{baseOptions:{modelAssetPath:t}})},Zn.createFromModelBuffer=function(e,t){return Ce(Zn,e,{baseOptions:{modelAssetBuffer:t}})},Zn.createFromOptions=function(e,t){return Ce(Zn,e,t)};var pp=Fn([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function Jy(e){e.gestures=[],e.landmarks=[],e.worldLandmarks=[],e.handedness=[]}function Ky(e){return e.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:e.gestures,landmarks:e.landmarks,worldLandmarks:e.worldLandmarks,handedness:e.handedness,handednesses:e.handedness}}function Xy(e,t=!0){const o=[];for(const a of e){var l=Pu(a);e=[];for(const u of l.g())l=t&&Un(u,1)!=null?Un(u,1)??0:-1,e.push({score:ft(u,2)??0,index:l,categoryName:Ln(u,3)??""??"",displayName:Ln(u,4)??""??""});o.push(e)}return o}var cn=class extends Wt{constructor(e,t){super(new Gn(e,t),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],ae(e=this.j=new iT,0,1,t=new et),this.s=new $h,ae(this.j,0,2,this.s),this.C=new Wh,ae(this.s,0,3,this.C),this.v=new nT,ae(this.s,0,2,this.v),this.h=new $R,ae(this.j,0,3,this.h),ie(this.v,2,.5),ie(this.s,4,.5),ie(this.C,2,.5)}get baseOptions(){return Ne(this.j,et,1)}set baseOptions(e){ae(this.j,0,1,e)}o(e){if(ei(this.v,3,e.numHands??1),"minHandDetectionConfidence"in e&&ie(this.v,2,e.minHandDetectionConfidence??.5),"minTrackingConfidence"in e&&ie(this.s,4,e.minTrackingConfidence??.5),"minHandPresenceConfidence"in e&&ie(this.C,2,e.minHandPresenceConfidence??.5),e.cannedGesturesClassifierOptions){var t=new Ul,o=t,l=Wd(e.cannedGesturesClassifierOptions,Ne(this.h,Ul,3)?.h());ae(o,0,2,l),ae(this.h,0,3,t)}else e.cannedGesturesClassifierOptions===void 0&&Ne(this.h,Ul,3)?.g();return e.customGesturesClassifierOptions?(ae(o=t=new Ul,0,2,l=Wd(e.customGesturesClassifierOptions,Ne(this.h,Ul,4)?.h())),ae(this.h,0,4,t)):e.customGesturesClassifierOptions===void 0&&Ne(this.h,Ul,4)?.g(),this.l(e)}Fa(e,t){return Jy(this),Pn(this,e,t),Ky(this)}Ga(e,t,o){return Jy(this),ti(this,e,o,t),Ky(this)}m(){var e=new $t;Ze(e,"image_in"),Ze(e,"norm_rect"),we(e,"hand_gestures"),we(e,"hand_landmarks"),we(e,"world_hand_landmarks"),we(e,"handedness");const t=new pn;Bn(t,jR,this.j);const o=new kt;gn(o,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),Je(o,"IMAGE:image_in"),Je(o,"NORM_RECT:norm_rect"),Re(o,"HAND_GESTURES:hand_gestures"),Re(o,"LANDMARKS:hand_landmarks"),Re(o,"WORLD_LANDMARKS:world_hand_landmarks"),Re(o,"HANDEDNESS:handedness"),o.o(t),yn(e,o),this.g.attachProtoVectorListener("hand_landmarks",((l,a)=>{for(const u of l){l=Aa(u);const d=[];for(const m of Ii(l,Jv,1))d.push({x:ft(m,1)??0,y:ft(m,2)??0,z:ft(m,3)??0,visibility:ft(m,4)??0});this.landmarks.push(d)}W(this,a)})),this.g.attachEmptyPacketListener("hand_landmarks",(l=>{W(this,l)})),this.g.attachProtoVectorListener("world_hand_landmarks",((l,a)=>{for(const u of l){l=Bl(u);const d=[];for(const m of Ii(l,Yv,1))d.push({x:ft(m,1)??0,y:ft(m,2)??0,z:ft(m,3)??0,visibility:ft(m,4)??0});this.worldLandmarks.push(d)}W(this,a)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(l=>{W(this,l)})),this.g.attachProtoVectorListener("hand_gestures",((l,a)=>{this.gestures.push(...Xy(l,!1)),W(this,a)})),this.g.attachEmptyPacketListener("hand_gestures",(l=>{W(this,l)})),this.g.attachProtoVectorListener("handedness",((l,a)=>{this.handedness.push(...Xy(l)),W(this,a)})),this.g.attachEmptyPacketListener("handedness",(l=>{W(this,l)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};function Qy(e){return{landmarks:e.landmarks,worldLandmarks:e.worldLandmarks,handednesses:e.handedness,handedness:e.handedness}}cn.prototype.recognizeForVideo=cn.prototype.Ga,cn.prototype.recognize=cn.prototype.Fa,cn.prototype.setOptions=cn.prototype.o,cn.createFromModelPath=function(e,t){return Ce(cn,e,{baseOptions:{modelAssetPath:t}})},cn.createFromModelBuffer=function(e,t){return Ce(cn,e,{baseOptions:{modelAssetBuffer:t}})},cn.createFromOptions=function(e,t){return Ce(cn,e,t)},cn.HAND_CONNECTIONS=pp;var Qt=class extends Wt{constructor(e,t){super(new Gn(e,t),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],ae(e=this.h=new $h,0,1,t=new et),this.s=new Wh,ae(this.h,0,3,this.s),this.j=new nT,ae(this.h,0,2,this.j),ei(this.j,3,1),ie(this.j,2,.5),ie(this.s,2,.5),ie(this.h,4,.5)}get baseOptions(){return Ne(this.h,et,1)}set baseOptions(e){ae(this.h,0,1,e)}o(e){return"numHands"in e&&ei(this.j,3,e.numHands??1),"minHandDetectionConfidence"in e&&ie(this.j,2,e.minHandDetectionConfidence??.5),"minTrackingConfidence"in e&&ie(this.h,4,e.minTrackingConfidence??.5),"minHandPresenceConfidence"in e&&ie(this.s,2,e.minHandPresenceConfidence??.5),this.l(e)}D(e,t){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Pn(this,e,t),Qy(this)}F(e,t,o){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],ti(this,e,o,t),Qy(this)}m(){var e=new $t;Ze(e,"image_in"),Ze(e,"norm_rect"),we(e,"hand_landmarks"),we(e,"world_hand_landmarks"),we(e,"handedness");const t=new pn;Bn(t,e8,this.h);const o=new kt;gn(o,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),Je(o,"IMAGE:image_in"),Je(o,"NORM_RECT:norm_rect"),Re(o,"LANDMARKS:hand_landmarks"),Re(o,"WORLD_LANDMARKS:world_hand_landmarks"),Re(o,"HANDEDNESS:handedness"),o.o(t),yn(e,o),this.g.attachProtoVectorListener("hand_landmarks",((l,a)=>{for(const u of l)l=Aa(u),this.landmarks.push(ku(l));W(this,a)})),this.g.attachEmptyPacketListener("hand_landmarks",(l=>{W(this,l)})),this.g.attachProtoVectorListener("world_hand_landmarks",((l,a)=>{for(const u of l)l=Bl(u),this.worldLandmarks.push(pa(l));W(this,a)})),this.g.attachEmptyPacketListener("world_hand_landmarks",(l=>{W(this,l)})),this.g.attachProtoVectorListener("handedness",((l,a)=>{var u=this.handedness,d=u.push;const m=[];for(const y of l){l=Pu(y);const g=[];for(const v of l.g())g.push({score:ft(v,2)??0,index:Un(v,1)??0??-1,categoryName:Ln(v,3)??""??"",displayName:Ln(v,4)??""??""});m.push(g)}d.call(u,...m),W(this,a)})),this.g.attachEmptyPacketListener("handedness",(l=>{W(this,l)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Qt.prototype.detectForVideo=Qt.prototype.F,Qt.prototype.detect=Qt.prototype.D,Qt.prototype.setOptions=Qt.prototype.o,Qt.createFromModelPath=function(e,t){return Ce(Qt,e,{baseOptions:{modelAssetPath:t}})},Qt.createFromModelBuffer=function(e,t){return Ce(Qt,e,{baseOptions:{modelAssetBuffer:t}})},Qt.createFromOptions=function(e,t){return Ce(Qt,e,t)},Qt.HAND_CONNECTIONS=pp;var DT=Fn([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function Zy(e){e.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function Wy(e){try{if(!e.C)return e.h;e.C(e.h)}finally{qu(e)}}function Jr(e,t){e=Aa(e),t.push(ku(e))}var $e=class extends Wt{constructor(e,t){super(new Gn(e,t),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,ae(e=this.j=new rT,0,1,t=new et),this.K=new Wh,ae(this.j,0,2,this.K),this.Y=new t8,ae(this.j,0,3,this.Y),this.s=new Hu,ae(this.j,0,4,this.s),this.H=new Wv,ae(this.j,0,5,this.H),this.v=new sT,ae(this.j,0,6,this.v),this.L=new aT,ae(this.j,0,7,this.L),ie(this.s,2,.5),ie(this.s,3,.3),ie(this.H,2,.5),ie(this.v,2,.5),ie(this.v,3,.3),ie(this.L,2,.5),ie(this.K,2,.5)}get baseOptions(){return Ne(this.j,et,1)}set baseOptions(e){ae(this.j,0,1,e)}o(e){return"minFaceDetectionConfidence"in e&&ie(this.s,2,e.minFaceDetectionConfidence??.5),"minFaceSuppressionThreshold"in e&&ie(this.s,3,e.minFaceSuppressionThreshold??.3),"minFacePresenceConfidence"in e&&ie(this.H,2,e.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in e&&(this.outputFaceBlendshapes=!!e.outputFaceBlendshapes),"minPoseDetectionConfidence"in e&&ie(this.v,2,e.minPoseDetectionConfidence??.5),"minPoseSuppressionThreshold"in e&&ie(this.v,3,e.minPoseSuppressionThreshold??.3),"minPosePresenceConfidence"in e&&ie(this.L,2,e.minPosePresenceConfidence??.5),"outputPoseSegmentationMasks"in e&&(this.outputPoseSegmentationMasks=!!e.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in e&&ie(this.K,2,e.minHandLandmarksConfidence??.5),this.l(e)}D(e,t,o){const l=typeof t!="function"?t:{};return this.C=typeof t=="function"?t:o,Zy(this),Pn(this,e,l),Wy(this)}F(e,t,o,l){const a=typeof o!="function"?o:{};return this.C=typeof o=="function"?o:l,Zy(this),ti(this,e,a,t),Wy(this)}m(){var e=new $t;Ze(e,"input_frames_image"),we(e,"pose_landmarks"),we(e,"pose_world_landmarks"),we(e,"face_landmarks"),we(e,"left_hand_landmarks"),we(e,"left_hand_world_landmarks"),we(e,"right_hand_landmarks"),we(e,"right_hand_world_landmarks");const t=new pn,o=new _y;Yd(o,1,ls("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),(function(a,u){if(u!=null)if(Array.isArray(u))Ye(a,2,Au(u,Rh,void 0,void 0,!1));else{if(!(typeof u=="string"||u instanceof Ci||zo(u)))throw Error("invalid value in Any.value field: "+u+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");Yd(a,2,vh(u,!1),Fo())}})(o,this.j.g());const l=new kt;gn(l,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),lu(l,8,_y,o),Je(l,"IMAGE:input_frames_image"),Re(l,"POSE_LANDMARKS:pose_landmarks"),Re(l,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),Re(l,"FACE_LANDMARKS:face_landmarks"),Re(l,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),Re(l,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),Re(l,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),Re(l,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),l.o(t),yn(e,l),Vu(this,e),this.g.attachProtoListener("pose_landmarks",((a,u)=>{Jr(a,this.h.poseLandmarks),W(this,u)})),this.g.attachEmptyPacketListener("pose_landmarks",(a=>{W(this,a)})),this.g.attachProtoListener("pose_world_landmarks",((a,u)=>{var d=this.h.poseWorldLandmarks;a=Bl(a),d.push(pa(a)),W(this,u)})),this.g.attachEmptyPacketListener("pose_world_landmarks",(a=>{W(this,a)})),this.outputPoseSegmentationMasks&&(Re(l,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),Ql(this,"pose_segmentation_mask"),this.g.V("pose_segmentation_mask",((a,u)=>{this.h.poseSegmentationMasks=[$l(this,a,!0,!this.C)],W(this,u)})),this.g.attachEmptyPacketListener("pose_segmentation_mask",(a=>{this.h.poseSegmentationMasks=[],W(this,a)}))),this.g.attachProtoListener("face_landmarks",((a,u)=>{Jr(a,this.h.faceLandmarks),W(this,u)})),this.g.attachEmptyPacketListener("face_landmarks",(a=>{W(this,a)})),this.outputFaceBlendshapes&&(we(e,"extra_blendshapes"),Re(l,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",((a,u)=>{var d=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(a=Pu(a),d.push(np(a.g()??[]))),W(this,u)})),this.g.attachEmptyPacketListener("extra_blendshapes",(a=>{W(this,a)}))),this.g.attachProtoListener("left_hand_landmarks",((a,u)=>{Jr(a,this.h.leftHandLandmarks),W(this,u)})),this.g.attachEmptyPacketListener("left_hand_landmarks",(a=>{W(this,a)})),this.g.attachProtoListener("left_hand_world_landmarks",((a,u)=>{var d=this.h.leftHandWorldLandmarks;a=Bl(a),d.push(pa(a)),W(this,u)})),this.g.attachEmptyPacketListener("left_hand_world_landmarks",(a=>{W(this,a)})),this.g.attachProtoListener("right_hand_landmarks",((a,u)=>{Jr(a,this.h.rightHandLandmarks),W(this,u)})),this.g.attachEmptyPacketListener("right_hand_landmarks",(a=>{W(this,a)})),this.g.attachProtoListener("right_hand_world_landmarks",((a,u)=>{var d=this.h.rightHandWorldLandmarks;a=Bl(a),d.push(pa(a)),W(this,u)})),this.g.attachEmptyPacketListener("right_hand_world_landmarks",(a=>{W(this,a)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};$e.prototype.detectForVideo=$e.prototype.F,$e.prototype.detect=$e.prototype.D,$e.prototype.setOptions=$e.prototype.o,$e.createFromModelPath=function(e,t){return Ce($e,e,{baseOptions:{modelAssetPath:t}})},$e.createFromModelBuffer=function(e,t){return Ce($e,e,{baseOptions:{modelAssetBuffer:t}})},$e.createFromOptions=function(e,t){return Ce($e,e,t)},$e.HAND_CONNECTIONS=pp,$e.POSE_CONNECTIONS=DT,$e.FACE_LANDMARKS_LIPS=rp,$e.FACE_LANDMARKS_LEFT_EYE=up,$e.FACE_LANDMARKS_LEFT_EYEBROW=cp,$e.FACE_LANDMARKS_LEFT_IRIS=MT,$e.FACE_LANDMARKS_RIGHT_EYE=fp,$e.FACE_LANDMARKS_RIGHT_EYEBROW=dp,$e.FACE_LANDMARKS_RIGHT_IRIS=RT,$e.FACE_LANDMARKS_FACE_OVAL=hp,$e.FACE_LANDMARKS_CONTOURS=NT,$e.FACE_LANDMARKS_TESSELATION=IT;var Dn=class extends Wt{constructor(e,t){super(new Gn(e,t),"input_image","norm_rect",!0),this.j={classifications:[]},ae(e=this.h=new uT,0,1,t=new et)}get baseOptions(){return Ne(this.h,et,1)}set baseOptions(e){ae(this.h,0,1,e)}o(e){return ae(this.h,0,2,Wd(e,Ne(this.h,Xh,2))),this.l(e)}qa(e,t){return this.j={classifications:[]},Pn(this,e,t),this.j}ra(e,t,o){return this.j={classifications:[]},ti(this,e,o,t),this.j}m(){var e=new $t;Ze(e,"input_image"),Ze(e,"norm_rect"),we(e,"classifications");const t=new pn;Bn(t,n8,this.h);const o=new kt;gn(o,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),Je(o,"IMAGE:input_image"),Je(o,"NORM_RECT:norm_rect"),Re(o,"CLASSIFICATIONS:classifications"),o.o(t),yn(e,o),this.g.attachProtoListener("classifications",((l,a)=>{this.j=(function(u){const d={classifications:Ii(u,OR,1).map((m=>np(Ne(m,Ov,4)?.g()??[],Un(m,2)??0,Ln(m,3)??"")))};return Od(Kl(u,2))!=null&&(d.timestampMs=Od(Kl(u,2))??0),d})(zR(l)),W(this,a)})),this.g.attachEmptyPacketListener("classifications",(l=>{W(this,l)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Dn.prototype.classifyForVideo=Dn.prototype.ra,Dn.prototype.classify=Dn.prototype.qa,Dn.prototype.setOptions=Dn.prototype.o,Dn.createFromModelPath=function(e,t){return Ce(Dn,e,{baseOptions:{modelAssetPath:t}})},Dn.createFromModelBuffer=function(e,t){return Ce(Dn,e,{baseOptions:{modelAssetBuffer:t}})},Dn.createFromOptions=function(e,t){return Ce(Dn,e,t)};var fn=class extends Wt{constructor(e,t){super(new Gn(e,t),"image_in","norm_rect",!0),this.h=new cT,this.embeddings={embeddings:[]},ae(e=this.h,0,1,t=new et)}get baseOptions(){return Ne(this.h,et,1)}set baseOptions(e){ae(this.h,0,1,e)}o(e){var t=this.h,o=Ne(this.h,Dy,2);return o=o?o.clone():new Dy,e.l2Normalize!==void 0?Ta(o,1,e.l2Normalize):"l2Normalize"in e&&Ye(o,1),e.quantize!==void 0?Ta(o,2,e.quantize):"quantize"in e&&Ye(o,2),ae(t,0,2,o),this.l(e)}xa(e,t){return Pn(this,e,t),this.embeddings}ya(e,t,o){return ti(this,e,o,t),this.embeddings}m(){var e=new $t;Ze(e,"image_in"),Ze(e,"norm_rect"),we(e,"embeddings_out");const t=new pn;Bn(t,i8,this.h);const o=new kt;gn(o,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),Je(o,"IMAGE:image_in"),Je(o,"NORM_RECT:norm_rect"),Re(o,"EMBEDDINGS:embeddings_out"),o.o(t),yn(e,o),this.g.attachProtoListener("embeddings_out",((l,a)=>{l=JR(l),this.embeddings=(function(u){return{embeddings:Ii(u,YR,1).map((d=>{const m={headIndex:Un(d,3)??0??-1,headName:Ln(d,4)??""??""};if(rv(d,Iy,Sd(d,1))!==void 0)d=Bo(d=Ne(d,Iy,Sd(d,1)),1,yo,qo()),m.floatEmbedding=d.slice();else{const y=new Uint8Array(0);m.quantizedEmbedding=Ne(d,FR,Sd(d,2))?.ma()?.h()??y}return m})),timestampMs:Od(Kl(u,2))??0}})(l),W(this,a)})),this.g.attachEmptyPacketListener("embeddings_out",(l=>{W(this,l)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};fn.cosineSimilarity=function(e,t){if(e.floatEmbedding&&t.floatEmbedding)e=Ly(e.floatEmbedding,t.floatEmbedding);else{if(!e.quantizedEmbedding||!t.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");e=Ly(by(e.quantizedEmbedding),by(t.quantizedEmbedding))}return e},fn.prototype.embedForVideo=fn.prototype.ya,fn.prototype.embed=fn.prototype.xa,fn.prototype.setOptions=fn.prototype.o,fn.createFromModelPath=function(e,t){return Ce(fn,e,{baseOptions:{modelAssetPath:t}})},fn.createFromModelBuffer=function(e,t){return Ce(fn,e,{baseOptions:{modelAssetBuffer:t}})},fn.createFromOptions=function(e,t){return Ce(fn,e,t)};var th=class{constructor(e,t,o){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=o}close(){this.confidenceMasks?.forEach((e=>{e.close()})),this.categoryMask?.close()}};function $y(e){e.categoryMask=void 0,e.confidenceMasks=void 0,e.qualityScores=void 0}function jy(e){try{const t=new th(e.confidenceMasks,e.categoryMask,e.qualityScores);if(!e.j)return t;e.j(t)}finally{qu(e)}}th.prototype.close=th.prototype.close;var Xt=class extends Wt{constructor(e,t){super(new Gn(e,t),"image_in","norm_rect",!1),this.s=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new tp,this.v=new fT,ae(this.h,0,3,this.v),ae(e=this.h,0,1,t=new et)}get baseOptions(){return Ne(this.h,et,1)}set baseOptions(e){ae(this.h,0,1,e)}o(e){return e.displayNamesLocale!==void 0?Ye(this.h,2,ls(e.displayNamesLocale)):"displayNamesLocale"in e&&Ye(this.h,2),"outputCategoryMask"in e&&(this.outputCategoryMask=e.outputCategoryMask??!1),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=e.outputConfidenceMasks??!0),super.l(e)}J(){(function(e){const t=Ii(e.ca(),kt,1).filter((o=>(Ln(o,1)??"").includes("mediapipe.tasks.TensorsToSegmentationCalculator")));if(e.s=[],t.length>1)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");t.length===1&&(Ne(t[0],pn,7)?.l()?.g()??new Map).forEach(((o,l)=>{e.s[Number(l)]=Ln(o,1)??""}))})(this)}segment(e,t,o){const l=typeof t!="function"?t:{};return this.j=typeof t=="function"?t:o,$y(this),Pn(this,e,l),jy(this)}Ia(e,t,o,l){const a=typeof o!="function"?o:{};return this.j=typeof o=="function"?o:l,$y(this),ti(this,e,a,t),jy(this)}Ba(){return this.s}m(){var e=new $t;Ze(e,"image_in"),Ze(e,"norm_rect");const t=new pn;Bn(t,hT,this.h);const o=new kt;gn(o,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),Je(o,"IMAGE:image_in"),Je(o,"NORM_RECT:norm_rect"),o.o(t),yn(e,o),Vu(this,e),this.outputConfidenceMasks&&(we(e,"confidence_masks"),Re(o,"CONFIDENCE_MASKS:confidence_masks"),Ql(this,"confidence_masks"),this.g.ba("confidence_masks",((l,a)=>{this.confidenceMasks=l.map((u=>$l(this,u,!0,!this.j))),W(this,a)})),this.g.attachEmptyPacketListener("confidence_masks",(l=>{this.confidenceMasks=[],W(this,l)}))),this.outputCategoryMask&&(we(e,"category_mask"),Re(o,"CATEGORY_MASK:category_mask"),Ql(this,"category_mask"),this.g.V("category_mask",((l,a)=>{this.categoryMask=$l(this,l,!1,!this.j),W(this,a)})),this.g.attachEmptyPacketListener("category_mask",(l=>{this.categoryMask=void 0,W(this,l)}))),we(e,"quality_scores"),Re(o,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((l,a)=>{this.qualityScores=l,W(this,a)})),this.g.attachEmptyPacketListener("quality_scores",(l=>{this.categoryMask=void 0,W(this,l)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Xt.prototype.getLabels=Xt.prototype.Ba,Xt.prototype.segmentForVideo=Xt.prototype.Ia,Xt.prototype.segment=Xt.prototype.segment,Xt.prototype.setOptions=Xt.prototype.o,Xt.createFromModelPath=function(e,t){return Ce(Xt,e,{baseOptions:{modelAssetPath:t}})},Xt.createFromModelBuffer=function(e,t){return Ce(Xt,e,{baseOptions:{modelAssetBuffer:t}})},Xt.createFromOptions=function(e,t){return Ce(Xt,e,t)};var nh=class{constructor(e,t,o){this.confidenceMasks=e,this.categoryMask=t,this.qualityScores=o}close(){this.confidenceMasks?.forEach((e=>{e.close()})),this.categoryMask?.close()}};nh.prototype.close=nh.prototype.close;var f8=class extends ne{constructor(e){super(e)}},bl=[0,st,-2],uu=[0,Ei,-3,je,Ei,-1],e3=[0,uu],t3=[0,uu,st,-1],Id=class extends ne{constructor(e){super(e)}},n3=[0,Ei,-1,je],d8=class extends ne{constructor(e){super(e)}},i3=class extends ne{constructor(e){super(e)}},ih=[1,2,3,4,5,6,7,8,9,10,14,15],wT=class extends ne{constructor(e){super(e)}};wT.prototype.g=Gu([0,Et,[0,ih,Le,uu,Le,[0,uu,bl],Le,e3,Le,[0,e3,bl],Le,n3,Le,[0,Ei,-3,je,hn],Le,[0,Ei,-3,je],Le,[0,Ge,Ei,-2,je,st,je,-1,2,Ei,bl],Le,t3,Le,[0,t3,bl],Ei,bl,Ge,Le,[0,Ei,-3,je,bl,-1],Le,[0,Et,n3]],Ge,[0,Ge,st,-1,je]]);var Wn=class extends Wt{constructor(e,t){super(new Gn(e,t),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new tp,this.s=new fT,ae(this.h,0,3,this.s),ae(e=this.h,0,1,t=new et)}get baseOptions(){return Ne(this.h,et,1)}set baseOptions(e){ae(this.h,0,1,e)}o(e){return"outputCategoryMask"in e&&(this.outputCategoryMask=e.outputCategoryMask??!1),"outputConfidenceMasks"in e&&(this.outputConfidenceMasks=e.outputConfidenceMasks??!0),super.l(e)}segment(e,t,o,l){const a=typeof o!="function"?o:{};this.j=typeof o=="function"?o:l,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,o=this.B+1,l=new wT;const u=new i3;var d=new f8;if(ei(d,1,255),ae(u,0,12,d),t.keypoint&&t.scribble)throw Error("Cannot provide both keypoint and scribble.");if(t.keypoint){var m=new Id;Ta(m,3,!0),ie(m,1,t.keypoint.x),ie(m,2,t.keypoint.y),da(u,5,ih,m)}else{if(!t.scribble)throw Error("Must provide either a keypoint or a scribble.");for(m of(d=new d8,t.scribble))Ta(t=new Id,3,!0),ie(t,1,m.x),ie(t,2,m.y),lu(d,1,Id,t);da(u,15,ih,d)}lu(l,1,i3,u),this.g.addProtoToStream(l.g(),"drishti.RenderData","roi_in",o),Pn(this,e,a);e:{try{const g=new nh(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var y=g;break e}this.j(g)}finally{qu(this)}y=void 0}return y}m(){var e=new $t;Ze(e,"image_in"),Ze(e,"roi_in"),Ze(e,"norm_rect_in");const t=new pn;Bn(t,hT,this.h);const o=new kt;gn(o,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),Je(o,"IMAGE:image_in"),Je(o,"ROI:roi_in"),Je(o,"NORM_RECT:norm_rect_in"),o.o(t),yn(e,o),Vu(this,e),this.outputConfidenceMasks&&(we(e,"confidence_masks"),Re(o,"CONFIDENCE_MASKS:confidence_masks"),Ql(this,"confidence_masks"),this.g.ba("confidence_masks",((l,a)=>{this.confidenceMasks=l.map((u=>$l(this,u,!0,!this.j))),W(this,a)})),this.g.attachEmptyPacketListener("confidence_masks",(l=>{this.confidenceMasks=[],W(this,l)}))),this.outputCategoryMask&&(we(e,"category_mask"),Re(o,"CATEGORY_MASK:category_mask"),Ql(this,"category_mask"),this.g.V("category_mask",((l,a)=>{this.categoryMask=$l(this,l,!1,!this.j),W(this,a)})),this.g.attachEmptyPacketListener("category_mask",(l=>{this.categoryMask=void 0,W(this,l)}))),we(e,"quality_scores"),Re(o,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",((l,a)=>{this.qualityScores=l,W(this,a)})),this.g.attachEmptyPacketListener("quality_scores",(l=>{this.categoryMask=void 0,W(this,l)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};Wn.prototype.segment=Wn.prototype.segment,Wn.prototype.setOptions=Wn.prototype.o,Wn.createFromModelPath=function(e,t){return Ce(Wn,e,{baseOptions:{modelAssetPath:t}})},Wn.createFromModelBuffer=function(e,t){return Ce(Wn,e,{baseOptions:{modelAssetBuffer:t}})},Wn.createFromOptions=function(e,t){return Ce(Wn,e,t)};var wn=class extends Wt{constructor(e,t){super(new Gn(e,t),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},ae(e=this.h=new pT,0,1,t=new et)}get baseOptions(){return Ne(this.h,et,1)}set baseOptions(e){ae(this.h,0,1,e)}o(e){return e.displayNamesLocale!==void 0?Ye(this.h,2,ls(e.displayNamesLocale)):"displayNamesLocale"in e&&Ye(this.h,2),e.maxResults!==void 0?ei(this.h,3,e.maxResults):"maxResults"in e&&Ye(this.h,3),e.scoreThreshold!==void 0?ie(this.h,4,e.scoreThreshold):"scoreThreshold"in e&&Ye(this.h,4),e.categoryAllowlist!==void 0?su(this.h,5,e.categoryAllowlist):"categoryAllowlist"in e&&Ye(this.h,5),e.categoryDenylist!==void 0?su(this.h,6,e.categoryDenylist):"categoryDenylist"in e&&Ye(this.h,6),this.l(e)}D(e,t){return this.j={detections:[]},Pn(this,e,t),this.j}F(e,t,o){return this.j={detections:[]},ti(this,e,o,t),this.j}m(){var e=new $t;Ze(e,"input_frame_gpu"),Ze(e,"norm_rect"),we(e,"detections");const t=new pn;Bn(t,l8,this.h);const o=new kt;gn(o,"mediapipe.tasks.vision.ObjectDetectorGraph"),Je(o,"IMAGE:input_frame_gpu"),Je(o,"NORM_RECT:norm_rect"),Re(o,"DETECTIONS:detections"),o.o(t),yn(e,o),this.g.attachProtoVectorListener("detections",((l,a)=>{for(const u of l)l=Fv(u),this.j.detections.push(gT(l));W(this,a)})),this.g.attachEmptyPacketListener("detections",(l=>{W(this,l)})),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};wn.prototype.detectForVideo=wn.prototype.F,wn.prototype.detect=wn.prototype.D,wn.prototype.setOptions=wn.prototype.o,wn.createFromModelPath=async function(e,t){return Ce(wn,e,{baseOptions:{modelAssetPath:t}})},wn.createFromModelBuffer=function(e,t){return Ce(wn,e,{baseOptions:{modelAssetBuffer:t}})},wn.createFromOptions=function(e,t){return Ce(wn,e,t)};var oh=class{constructor(e,t,o){this.landmarks=e,this.worldLandmarks=t,this.segmentationMasks=o}close(){this.segmentationMasks?.forEach((e=>{e.close()}))}};function o3(e){e.landmarks=[],e.worldLandmarks=[],e.segmentationMasks=void 0}function l3(e){try{const t=new oh(e.landmarks,e.worldLandmarks,e.segmentationMasks);if(!e.s)return t;e.s(t)}finally{qu(e)}}oh.prototype.close=oh.prototype.close;var dn=class extends Wt{constructor(e,t){super(new Gn(e,t),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,ae(e=this.h=new mT,0,1,t=new et),this.v=new aT,ae(this.h,0,3,this.v),this.j=new sT,ae(this.h,0,2,this.j),ei(this.j,4,1),ie(this.j,2,.5),ie(this.v,2,.5),ie(this.h,4,.5)}get baseOptions(){return Ne(this.h,et,1)}set baseOptions(e){ae(this.h,0,1,e)}o(e){return"numPoses"in e&&ei(this.j,4,e.numPoses??1),"minPoseDetectionConfidence"in e&&ie(this.j,2,e.minPoseDetectionConfidence??.5),"minTrackingConfidence"in e&&ie(this.h,4,e.minTrackingConfidence??.5),"minPosePresenceConfidence"in e&&ie(this.v,2,e.minPosePresenceConfidence??.5),"outputSegmentationMasks"in e&&(this.outputSegmentationMasks=e.outputSegmentationMasks??!1),this.l(e)}D(e,t,o){const l=typeof t!="function"?t:{};return this.s=typeof t=="function"?t:o,o3(this),Pn(this,e,l),l3(this)}F(e,t,o,l){const a=typeof o!="function"?o:{};return this.s=typeof o=="function"?o:l,o3(this),ti(this,e,a,t),l3(this)}m(){var e=new $t;Ze(e,"image_in"),Ze(e,"norm_rect"),we(e,"normalized_landmarks"),we(e,"world_landmarks"),we(e,"segmentation_masks");const t=new pn;Bn(t,s8,this.h);const o=new kt;gn(o,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),Je(o,"IMAGE:image_in"),Je(o,"NORM_RECT:norm_rect"),Re(o,"NORM_LANDMARKS:normalized_landmarks"),Re(o,"WORLD_LANDMARKS:world_landmarks"),o.o(t),yn(e,o),Vu(this,e),this.g.attachProtoVectorListener("normalized_landmarks",((l,a)=>{this.landmarks=[];for(const u of l)l=Aa(u),this.landmarks.push(ku(l));W(this,a)})),this.g.attachEmptyPacketListener("normalized_landmarks",(l=>{this.landmarks=[],W(this,l)})),this.g.attachProtoVectorListener("world_landmarks",((l,a)=>{this.worldLandmarks=[];for(const u of l)l=Bl(u),this.worldLandmarks.push(pa(l));W(this,a)})),this.g.attachEmptyPacketListener("world_landmarks",(l=>{this.worldLandmarks=[],W(this,l)})),this.outputSegmentationMasks&&(Re(o,"SEGMENTATION_MASK:segmentation_masks"),Ql(this,"segmentation_masks"),this.g.ba("segmentation_masks",((l,a)=>{this.segmentationMasks=l.map((u=>$l(this,u,!0,!this.s))),W(this,a)})),this.g.attachEmptyPacketListener("segmentation_masks",(l=>{this.segmentationMasks=[],W(this,l)}))),e=e.g(),this.setGraph(new Uint8Array(e),!0)}};dn.prototype.detectForVideo=dn.prototype.F,dn.prototype.detect=dn.prototype.D,dn.prototype.setOptions=dn.prototype.o,dn.createFromModelPath=function(e,t){return Ce(dn,e,{baseOptions:{modelAssetPath:t}})},dn.createFromModelBuffer=function(e,t){return Ce(dn,e,{baseOptions:{modelAssetBuffer:t}})},dn.createFromOptions=function(e,t){return Ce(dn,e,t)},dn.POSE_CONNECTIONS=DT;const _i={container:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",display:"flex",justifyContent:"center",alignItems:"center",gap:"20%",zIndex:50},videoHidden:{display:"none"},canvas:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1},optionZone:{width:"30%",height:"60%",display:"flex",justifyContent:"center",alignItems:"center",border:"2px solid rgba(255,255,255,0.2)",transition:"all 0.1s",position:"relative",overflow:"hidden",zIndex:10},text:{zIndex:2,fontSize:"24px",fontWeight:"bold",color:"#fff",textShadow:"0 0 10px rgba(255,255,255,0.8)",textAlign:"center"},fillLayer:(e,t)=>({position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:e,opacity:t/100,transform:`scale(${.5+t/200})`,transition:"opacity 0.1s linear",zIndex:1}),centerGuide:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",color:"white",fontSize:"14px",animation:"pulse 1.5s infinite"}},s3=[{x:.5,y:.8},{x:.4,y:.75},{x:.35,y:.7},{x:.3,y:.65},{x:.25,y:.6},{x:.45,y:.5},{x:.42,y:.4},{x:.4,y:.3},{x:.38,y:.2},{x:.5,y:.48},{x:.5,y:.35},{x:.5,y:.25},{x:.5,y:.15},{x:.55,y:.5},{x:.58,y:.4},{x:.6,y:.3},{x:.62,y:.2},{x:.6,y:.6},{x:.65,y:.55},{x:.7,y:.5},{x:.75,y:.45}];function h8({leftOption:e="Option A",rightOption:t="Option B",onSelect:o}){const l=Ee.useRef(null),a=Ee.useRef(null),[u,d]=Ee.useState(null),[m,y]=Ee.useState(!1),[g,v]=Ee.useState(!1),[_,E]=Ee.useState(null),[C,b]=Ee.useState(0);Ee.useEffect(()=>{(async()=>{const z=await Vo.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm"),V=await Qt.createFromOptions(z,{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task",delegate:"GPU"},runningMode:"VIDEO",numHands:1});d(V)})()},[]),Ee.useEffect(()=>{if(!u||!l.current)return;(async()=>{try{const J=await navigator.mediaDevices.getUserMedia({video:!0});l.current.srcObject=J,l.current.addEventListener("loadeddata",Q),y(!0)}catch(J){console.error("Camera Error:",J)}})();let z=-1,V;const Q=()=>{if(l.current&&l.current.currentTime!==z){z=l.current.currentTime;const J=u.detectForVideo(l.current,performance.now());Y(J),k(J)}V=requestAnimationFrame(Q)};return()=>{cancelAnimationFrame(V),l.current&&l.current.srcObject&&l.current.srcObject.getTracks().forEach(J=>J.stop())}},[u]);const k=Ee.useCallback(B=>{const z=a.current;if(!z)return;const V=z.getContext("2d");if(V.clearRect(0,0,z.width,z.height),B&&B.landmarks&&B.landmarks.length>0){const Q=B.landmarks[0];V.fillStyle="#00FFCC",V.shadowBlur=10,V.shadowColor="#00FFCC";for(let J=0;J<Q.length;J++){const $=(1-Q[J].x)*z.width,q=Q[J].y*z.height;V.beginPath(),V.arc($,q,6,0,2*Math.PI),V.fill()}}else{const Q=performance.now()/400,J=(Math.sin(Q)+1)/2*.4+.1;V.fillStyle=`rgba(255, 255, 255, ${J})`,V.shadowBlur=0;for(let $=0;$<s3.length;$++){const q=s3[$],ce=q.x*z.width,Z=q.y*z.height;V.beginPath(),V.arc(ce,Z,6,0,2*Math.PI),V.fill()}}},[]),Y=B=>{if(B.landmarks&&B.landmarks.length>0){v(!0);const V=1-B.landmarks[0][8].x,Q=V<.4,J=V>.6;Q?(E("left"),b($=>Math.min($+2,100))):J?(E("right"),b($=>Math.min($+2,100))):(E(null),b($=>Math.max($-5,0)))}else v(!1),E(null),b(0)};return Ee.useEffect(()=>{const B=()=>{a.current&&(a.current.width=window.innerWidth,a.current.height=window.innerHeight)};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]),Ee.useEffect(()=>{C>=100&&_&&(o(_==="left"?e:t),b(0))},[C,_,o]),O.jsxs(O.Fragment,{children:[O.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,style:_i.videoHidden}),O.jsx("canvas",{ref:a,style:_i.canvas}),O.jsxs("div",{style:_i.container,children:[O.jsxs("div",{style:{..._i.optionZone,borderColor:"rgba(0, 255, 255, 0.5)",boxShadow:_==="left"?`0 0 ${C/2}px rgba(0,255,255,0.8)`:"none"},children:[O.jsx("div",{style:_i.fillLayer("rgba(0, 255, 255, 0.8)",_==="left"?C:0)}),O.jsx("span",{style:_i.text,children:e})]}),O.jsxs("div",{style:{..._i.optionZone,borderColor:"rgba(255, 0, 0, 0.5)",boxShadow:_==="right"?`0 0 ${C/2}px rgba(255,0,0,0.8)`:"none"},children:[O.jsx("div",{style:_i.fillLayer("rgba(255, 0, 0, 0.8)",_==="right"?C:0)}),O.jsx("span",{style:_i.text,children:t})]})]})]})}const a3=({text:e,speed:t=20,isLatest:o,onComplete:l})=>{const[a,u]=Ee.useState(""),d=Ee.useRef(""),m=Ee.useRef(!1);return Ee.useEffect(()=>{if(!o){u(e);return}if(e!=d.current&&(d.current=e,m.current=!1,u("")),m.current)return;let y=a.length;y===0&&e!==a&&u("");const g=setInterval(()=>{y<e.length?(u(v=>e.slice(0,v.length+1)),y++):(clearInterval(g),m.current||(m.current=!0,l&&l()))},t);return()=>clearInterval(g)},[e,o,t,l]),O.jsxs("span",{children:[a,o&&O.jsx("span",{className:"cursor"})]})};function p8({seed:e,name:t}){const[o,l]=Ee.useState(!1),[a,u]=Ee.useState(null),[d,m]=Ee.useState(null),[y,g]=Ee.useState([]),[v,_]=Ee.useState("READING"),[E,C]=Ee.useState(!1),b=Ee.useRef(!1),k=Ee.useRef(null);Ee.useEffect(()=>{k.current?.scrollIntoView({behavior:"smooth"})},[y,o,y.length]),Ee.useEffect(()=>{e&&t&&!b.current&&(b.current=!0,Y())},[e,t]);const Y=async()=>{l(!0),u(null),g([]),C(!1),_("READING");try{const q="AIzaSyAuX1rCIGI4jSxhob3BxiyCh2WgxyL1fY8",Z=new qM({apiKey:q}).chats.create({model:"gemini-2.5-flash",config:{systemInstruction:dE,responseMimeType:"application/json",temperature:1.2}});m(Z);const fe=await Z.sendMessage({message:`User Seed: "${e}". Hero Name: "${t}". Begin the story at Step 1. Output JSON.`}),he=z(fe.text);g([he])}catch(q){u("Start Error "+q.message),b.current=!1}finally{l(!1)}},B=async(q,ce)=>{if(!d)return;const Z=y.length-1,fe=[...y];fe[Z].selectedId=q,g(fe),_("PROCESSING"),l(!0);try{const he=y.length+1,de=he===md,at=he>md;let xt="";at?xt=`
                    User choice: ${q} (${ce}).
                    MISSION: The journey is complete. Generate the **Epilogue** (Step ${he}).
                    
                    REQUIRED JSON STRUCTURE:
                    {
                      "narrative": "Final reflection wrapping up the journey...",
                      "grandTitle": "AN EPIC TITLE FOR THIS LEGEND",
                      "choices": [],
                      "step": ${he},
                      "stage": "THE END"
                    }
                    `:xt=`
                        User choice: ${q} (${ce}).
                        MISSION: Generate **Step ${he}** of ${md}.
                        ${de?"**IMPORTANT: This is the FINAL STEP (Conclusion). Bring the story to a close.**":"Keep the narrative going, do NOT end the story yet."}
                    `;const Ut=await d.sendMessage({message:xt}),x=z(Ut.text);x.step=he,at&&(x.stage="THE END",!x.grandTitle&&x.title&&(x.grandTitle=x.title),x.grandTitle||(x.grandTitle=`THE LEGEND OF ${t?t.toUpperCase():"THE HERO"}`),C(!0)),g(F=>[...F,x]),_("READING")}catch(he){u("Choice Error: "+he.message)}finally{l(!1)}},z=q=>{const ce=q.replace(/```json|```/g,"").trim();return JSON.parse(ce)},V=()=>{o||_("CHOOSING")},Q=y.length>0?y[y.length-1]:null,J=Q?.choices||[],$=v==="CHOOSING"&&J.length>=2&&!Q?.selectedId&&!o;return O.jsxs("div",{className:"retro-container",children:[O.jsx(r3,{}),O.jsx("div",{className:"status-bar",children:O.jsx("button",{onClick:()=>window.location.reload(),className:"reset-btn",children:"[SYSTEM_RESET]"})}),a&&O.jsxs("div",{className:"error-msg",children:["ERROR: ",a]}),$&&O.jsx(h8,{leftOption:J[0].shortDesc,rightOption:J[1].shortDesc,onSelect:q=>{const ce=J.find(Z=>Z.shortDesc===q);ce&&B(ce.id,ce.shortDesc)}}),O.jsxs("div",{className:"story-log",children:[y.map((q,ce)=>{const Z=q.selectedId,fe=ce===y.length-1,he=q.choices?.find(de=>de.id===Z);return O.jsxs("div",{className:"story-node",children:[q.title&&O.jsx("h2",{className:"node-title",children:q.title}),O.jsx("div",{className:"retro-text",children:O.jsx(a3,{text:q.narrative,isLatest:fe,speed:25,onComplete:fe?V:void 0})}),Z?O.jsx("div",{className:"selected-result retro-text",children:he&&O.jsx(a3,{text:he.text||`Action [${he.id}] executed.`,isLatest:fe,speed:25})}):q.choices&&q.choices.length>0?(!fe||J.length<2)&&O.jsx("div",{className:"retro-choices",children:q.choices.map(de=>O.jsxs("button",{onClick:()=>B(de.id,de.shortDesc),disabled:o||!fe,className:"retro-choice-btn",children:["[",de.id,"] ",de.shortDesc]},de.id))}):O.jsxs("div",{className:"system-msg",children:[O.jsx("div",{children:"... END OF TRANSMISSION ..."}),q.grandTitle&&O.jsx("div",{className:"click-to-open",onClick:()=>C(!0),style:{cursor:"pointer",marginTop:"10px",textDecoration:"underline"},children:"> ACCESS FINAL RECORD FILE"})]})]},ce)}),o&&O.jsx("div",{className:"system-msg",children:"PROCESSING INCOMING DATA STREAM..."}),O.jsx("div",{ref:k})]}),E&&y.length>0&&y[y.length-1]?.grandTitle&&O.jsx("div",{className:"modal-overlay",children:O.jsxs("div",{className:"modal-content",children:[O.jsx("div",{style:{color:"#555",marginBottom:"1rem"},children:"MYTHOS COMPLETE"}),O.jsx("h1",{className:"grand-title",children:y[y.length-1].grandTitle}),O.jsx("p",{className:"modal-text",children:y[y.length-1].narrative}),O.jsxs("div",{style:{display:"flex",gap:"20px",justifyContent:"center",marginTop:"30px"},children:[O.jsx("button",{onClick:()=>C(!1),className:"retro-choice-btn",style:{fontSize:"14px",padding:"10px 20px"},children:"REVIEW LOGS"}),O.jsx("button",{onClick:()=>window.location.reload(),className:"restart-btn",children:"INITIATE NEW CYCLE"})]})]})})]})}function m8(){const[e,t]=Ee.useState("opening"),[o,l]=Ee.useState({seed:"",name:""}),a=()=>{t("input")},u=(d,m)=>{l({seed:d,name:m}),t("story")};return O.jsxs(O.Fragment,{children:[e==="opening"&&O.jsx(cE,{onStart:a}),e==="input"&&O.jsx(fE,{onComplete:u}),e==="story"&&O.jsx(p8,{seed:o.seed,name:o.name})]})}uE.createRoot(document.getElementById("root")).render(O.jsx(Ee.StrictMode,{children:O.jsx(m8,{})}));
